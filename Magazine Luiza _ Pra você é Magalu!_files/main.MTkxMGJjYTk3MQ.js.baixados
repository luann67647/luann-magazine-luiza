!function(){"use strict";function e(){e=function(){return t};var t={},n=Object.prototype,r=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(e){s=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof d?t:d,o=Object.create(i.prototype),a=new O(r||[]);return o._invoke=function(e,t,n){var r="suspendedStart";return function(i,o){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw o;return N()}for(n.method=i,n.arg=o;;){var a=n.delegate;if(a){var c=E(a,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,a),o}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var f={};function d(){}function h(){}function p(){}var v={};s(v,o,(function(){return this}));var g=Object.getPrototypeOf,_=g&&g(g(S([])));_&&_!==n&&r.call(_,o)&&(v=_);var y=p.prototype=d.prototype=Object.create(v);function m(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function b(e,t){function n(i,o,a,c){var s=l(e[i],e,o);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(s.arg)}var i;this._invoke=function(e,r){function o(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(o,o):o()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var i=r.arg;return i?i.done?(t[e.resultName]=i.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):i:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function I(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(I,this),this.reset(!0)}function S(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:N}}function N(){return{value:void 0,done:!0}}return h.prototype=p,s(y,"constructor",p),s(p,"constructor",h),h.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,s(e,c,"GeneratorFunction")),e.prototype=Object.create(y),e},t.awrap=function(e){return{__await:e}},m(b.prototype),s(b.prototype,a,(function(){return this})),t.AsyncIterator=b,t.async=function(e,n,r,i,o){void 0===o&&(o=Promise);var a=new b(u(e,n,r,i),o);return t.isGeneratorFunction(n)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},m(y),s(y,c,"Generator"),s(y,o,(function(){return this})),s(y,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(T),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(n,r){return a.type="throw",a.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],a=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var c=r.call(o,"catchLoc"),s=r.call(o,"finallyLoc");if(c&&s){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(c){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var o=i;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=e,a.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(e)}function n(e,t,n,r,i,o,a){try{var c=e[o](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function c(e){n(a,i,o,c,s,"next",e)}function s(e){n(a,i,o,c,s,"throw",e)}c(void 0)}))}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}function u(e){return u=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},u(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function d(e,t,n){return d=f()?Reflect.construct.bind():function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&l(i,n.prototype),i},d.apply(null,arguments)}function h(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(e,t){if(t&&("object"==typeof t||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return h(e)}function v(e){var t=f();return function(){var n,r=u(e);if(t){var i=u(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p(this,n)}}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}function _(){return _="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=g(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},_.apply(this,arguments)}function y(e,t){return E(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,i,o=[],a=!0,c=!1;try{for(n=n.call(e);!(a=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);a=!0);}catch(e){c=!0,i=e}finally{try{a||null==n.return||n.return()}finally{if(c)throw i}}return o}(e,t)||T(e,t)||S()}function m(e){return E(e)||I(e)||T(e)||S()}function b(e){return function(e){if(Array.isArray(e))return O(e)}(e)||I(e)||T(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e){if(Array.isArray(e))return e}function I(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function T(e,t){if(e){if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(e,t):void 0}}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function N(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=T(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,a=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return a=e.done,e},e:function(e){c=!0,o=e},f:function(){try{a||null==n.return||n.return()}finally{if(c)throw o}}}}var A,R="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};!function(e){!function(t){var n="object"==typeof R?R:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),r=i(e);function i(e,t){return function(n,r){"function"!=typeof e[n]&&Object.defineProperty(e,n,{configurable:!0,writable:!0,value:r}),t&&t(n,r)}}void 0===n.Reflect?n.Reflect=e:r=i(n.Reflect,r),function(e){var t=Object.prototype.hasOwnProperty,n="function"==typeof Symbol,r=n&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=n&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",o="function"==typeof Object.create,a={__proto__:[]}instanceof Array,c=!o&&!a,s={create:o?function(){return re(Object.create(null))}:a?function(){return re({__proto__:null})}:function(){return re({})},has:c?function(e,n){return t.call(e,n)}:function(e,t){return t in e},get:c?function(e,n){return t.call(e,n)?e[n]:void 0}:function(e,t){return e[t]}},u=Object.getPrototypeOf(Function),l="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,f=l||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?ee():Map,d=l||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?te():Set,h=new(l||"function"!=typeof WeakMap?ne():WeakMap);function p(e,t,n,r){if(L(n)){if(!J(e))throw new TypeError;if(!K(t))throw new TypeError;return O(e,t)}if(!J(e))throw new TypeError;if(!U(t))throw new TypeError;if(!U(r)&&!L(r)&&!j(r))throw new TypeError;return j(r)&&(r=void 0),S(e,t,n=V(n),r)}function v(e,t){function n(n,r){if(!U(n))throw new TypeError;if(!L(r)&&!q(r))throw new TypeError;P(e,t,n,r)}return n}function g(e,t,n,r){if(!U(n))throw new TypeError;return L(r)||(r=V(r)),P(e,t,n,r)}function _(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=V(n)),A(e,t,n)}function y(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=V(n)),R(e,t,n)}function m(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=V(n)),w(e,t,n)}function b(e,t,n){if(!U(t))throw new TypeError;return L(n)||(n=V(n)),C(e,t,n)}function E(e,t){if(!U(e))throw new TypeError;return L(t)||(t=V(t)),k(e,t)}function I(e,t){if(!U(e))throw new TypeError;return L(t)||(t=V(t)),M(e,t)}function T(e,t,n){if(!U(t))throw new TypeError;L(n)||(n=V(n));var r=N(t,n,!1);if(L(r))return!1;if(!r.delete(e))return!1;if(r.size>0)return!0;var i=h.get(t);return i.delete(n),i.size>0||h.delete(t),!0}function O(e,t){for(var n=e.length-1;n>=0;--n){var r=(0,e[n])(t);if(!L(r)&&!j(r)){if(!K(r))throw new TypeError;t=r}}return t}function S(e,t,n,r){for(var i=e.length-1;i>=0;--i){var o=(0,e[i])(t,n,r);if(!L(o)&&!j(o)){if(!U(o))throw new TypeError;r=o}}return r}function N(e,t,n){var r=h.get(e);if(L(r)){if(!n)return;r=new f,h.set(e,r)}var i=r.get(t);if(L(i)){if(!n)return;i=new f,r.set(t,i)}return i}function A(e,t,n){if(R(e,t,n))return!0;var r=$(t);return!j(r)&&A(e,r,n)}function R(e,t,n){var r=N(t,n,!1);return!L(r)&&H(r.has(e))}function w(e,t,n){if(R(e,t,n))return C(e,t,n);var r=$(t);return j(r)?void 0:w(e,r,n)}function C(e,t,n){var r=N(t,n,!1);if(!L(r))return r.get(e)}function P(e,t,n,r){N(n,r,!0).set(e,t)}function k(e,t){var n=M(e,t),r=$(e);if(null===r)return n;var i=k(r,t);if(i.length<=0)return n;if(n.length<=0)return i;for(var o=new d,a=[],c=0,s=n;c<s.length;c++){var u=s[c];o.has(u)||(o.add(u),a.push(u))}for(var l=0,f=i;l<f.length;l++){u=f[l];o.has(u)||(o.add(u),a.push(u))}return a}function M(e,t){var n=[],r=N(e,t,!1);if(L(r))return n;for(var i=X(r.keys()),o=0;;){var a=z(i);if(!a)return n.length=o,n;var c=Q(a);try{n[o]=c}catch(e){try{Z(i)}finally{throw e}}o++}}function D(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function L(e){return void 0===e}function j(e){return null===e}function x(e){return"symbol"==typeof e}function U(e){return"object"==typeof e?null!==e:"function"==typeof e}function F(e,t){switch(D(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var n=3===t?"string":5===t?"number":"default",i=Y(e,r);if(void 0!==i){var o=i.call(e,n);if(U(o))throw new TypeError;return o}return B(e,"default"===n?"number":n)}function B(e,t){if("string"===t){var n=e.toString;if(W(n))if(!U(i=n.call(e)))return i;if(W(r=e.valueOf))if(!U(i=r.call(e)))return i}else{var r;if(W(r=e.valueOf))if(!U(i=r.call(e)))return i;var i,o=e.toString;if(W(o))if(!U(i=o.call(e)))return i}throw new TypeError}function H(e){return!!e}function G(e){return""+e}function V(e){var t=F(e,3);return x(t)?t:G(t)}function J(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function W(e){return"function"==typeof e}function K(e){return"function"==typeof e}function q(e){switch(D(e)){case 3:case 4:return!0;default:return!1}}function Y(e,t){var n=e[t];if(null!=n){if(!W(n))throw new TypeError;return n}}function X(e){var t=Y(e,i);if(!W(t))throw new TypeError;var n=t.call(e);if(!U(n))throw new TypeError;return n}function Q(e){return e.value}function z(e){var t=e.next();return!t.done&&t}function Z(e){var t=e.return;t&&t.call(e)}function $(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===u)return t;if(t!==u)return t;var n=e.prototype,r=n&&Object.getPrototypeOf(n);if(null==r||r===Object.prototype)return t;var i=r.constructor;return"function"!=typeof i||i===e?t:i}function ee(){var e={},t=[],n=function(){function e(e,t,n){this._index=0,this._keys=e,this._values=t,this._selector=n}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var n=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:n,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var n=this._find(e,!0);return this._values[n]=t,this},t.prototype.delete=function(t){var n=this._find(t,!1);if(n>=0){for(var r=this._keys.length,i=n+1;i<r;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new n(this._keys,this._values,r)},t.prototype.values=function(){return new n(this._keys,this._values,o)},t.prototype.entries=function(){return new n(this._keys,this._values,a)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function r(e,t){return e}function o(e,t){return t}function a(e,t){return[e,t]}}function te(){return function(){function e(){this._map=new f}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}()}function ne(){var e=16,n=s.create(),r=i();return function(){function e(){this._key=i()}return e.prototype.has=function(e){var t=o(e,!1);return void 0!==t&&s.has(t,this._key)},e.prototype.get=function(e){var t=o(e,!1);return void 0!==t?s.get(t,this._key):void 0},e.prototype.set=function(e,t){return o(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=o(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=i()},e}();function i(){var e;do{e="@@WeakMap@@"+u()}while(s.has(n,e));return n[e]=!0,e}function o(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:s.create()})}return e[r]}function a(e,t){for(var n=0;n<t;++n)e[n]=255*Math.random()|0;return e}function c(e){return"function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(e)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(e)):a(new Uint8Array(e),e):a(new Array(e),e)}function u(){var t=c(e);t[6]=79&t[6]|64,t[8]=191&t[8]|128;for(var n="",r=0;r<e;++r){var i=t[r];4!==r&&6!==r&&8!==r||(n+="-"),i<16&&(n+="0"),n+=i.toString(16).toLowerCase()}return n}}function re(e){return e.__=void 0,delete e.__,e}e("decorate",p),e("metadata",v),e("ttq_defineMetadata",g),e("ttq_hasMetadata",_),e("ttq_hasOwnMetadata",y),e("ttq_getMetadata",m),e("getOwnMetadata",b),e("getMetadataKeys",E),e("getOwnMetadataKeys",I),e("deleteMetadata",T)}(r)}()}(A||(A={}));var w,C={},P={};w=P,Object.defineProperty(w,"__esModule",{value:!0}),w.NON_CUSTOM_TAG_KEYS=w.POST_CONSTRUCT=w.DESIGN_PARAM_TYPES=w.PARAM_TYPES=w.TAGGED_PROP=w.TAGGED=w.MULTI_INJECT_TAG=w.INJECT_TAG=w.OPTIONAL_TAG=w.UNMANAGED_TAG=w.NAME_TAG=w.NAMED_TAG=void 0,w.NAMED_TAG="named",w.NAME_TAG="name",w.UNMANAGED_TAG="unmanaged",w.OPTIONAL_TAG="optional",w.INJECT_TAG="inject",w.MULTI_INJECT_TAG="multi_inject",w.TAGGED="inversify:tagged",w.TAGGED_PROP="inversify:tagged_props",w.PARAM_TYPES="inversify:paramtypes",w.DESIGN_PARAM_TYPES="design:paramtypes",w.POST_CONSTRUCT="post_construct",w.NON_CUSTOM_TAG_KEYS=[w.INJECT_TAG,w.MULTI_INJECT_TAG,w.NAME_TAG,w.UNMANAGED_TAG,w.NAMED_TAG,w.OPTIONAL_TAG];var k={},M={},D={};Object.defineProperty(D,"__esModule",{value:!0}),D.TargetTypeEnum=D.BindingTypeEnum=D.BindingScopeEnum=void 0;D.BindingScopeEnum={Request:"Request",Singleton:"Singleton",Transient:"Transient"};D.BindingTypeEnum={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};D.TargetTypeEnum={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.id=void 0;var j=0;L.id=function(){return j++},Object.defineProperty(M,"__esModule",{value:!0}),M.Binding=void 0;var x=D,U=L,F=function(){function e(e,t){this.id=U.id(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=x.BindingTypeEnum.Invalid,this.constraint=function(e){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.dynamicValue=null}return e.prototype.clone=function(){var t=new e(this.serviceIdentifier,this.scope);return t.activated=t.scope===x.BindingScopeEnum.Singleton&&this.activated,t.implementationType=this.implementationType,t.dynamicValue=this.dynamicValue,t.scope=this.scope,t.type=this.type,t.factory=this.factory,t.provider=this.provider,t.constraint=this.constraint,t.onActivation=this.onActivation,t.cache=this.cache,t},e}();M.Binding=F;var B={};Object.defineProperty(B,"__esModule",{value:!0}),B.STACK_OVERFLOW=B.CIRCULAR_DEPENDENCY_IN_FACTORY=B.POST_CONSTRUCT_ERROR=B.MULTIPLE_POST_CONSTRUCT_METHODS=B.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=B.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=B.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=B.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=B.ARGUMENTS_LENGTH_MISMATCH=B.INVALID_DECORATOR_OPERATION=B.INVALID_TO_SELF_VALUE=B.INVALID_FUNCTION_BINDING=B.INVALID_MIDDLEWARE_RETURN=B.NO_MORE_SNAPSHOTS_AVAILABLE=B.INVALID_BINDING_TYPE=B.NOT_IMPLEMENTED=B.CIRCULAR_DEPENDENCY=B.UNDEFINED_INJECT_ANNOTATION=B.MISSING_INJECT_ANNOTATION=B.MISSING_INJECTABLE_ANNOTATION=B.NOT_REGISTERED=B.CANNOT_UNBIND=B.AMBIGUOUS_MATCH=B.KEY_NOT_FOUND=B.NULL_ARGUMENT=B.DUPLICATED_METADATA=B.DUPLICATED_INJECTABLE_DECORATOR=void 0,B.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.",B.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:",B.NULL_ARGUMENT="NULL argument",B.KEY_NOT_FOUND="Key Not Found",B.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:",B.CANNOT_UNBIND="Could not unbind serviceIdentifier:",B.NOT_REGISTERED="No matching bindings found for serviceIdentifier:",B.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:",B.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";B.UNDEFINED_INJECT_ANNOTATION=function(e){return"@inject called with undefined this could mean that the class "+e+" has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation."},B.CIRCULAR_DEPENDENCY="Circular dependency found:",B.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.",B.INVALID_BINDING_TYPE="Invalid binding type:",B.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.",B.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!",B.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!",B.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier",B.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";B.ARGUMENTS_LENGTH_MISMATCH=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"The number of constructor arguments in the derived class "+e[0]+" must be >= than the number of constructor arguments of its base class."},B.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.",B.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE="Invalid Container option. Default scope must be a string ('singleton' or 'transient').",B.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean",B.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean",B.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";B.POST_CONSTRUCT_ERROR=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"@postConstruct error in class "+e[0]+": "+e[1]};B.CIRCULAR_DEPENDENCY_IN_FACTORY=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return"It looks like there is a circular dependency in one of the '"+e[0]+"' bindings. Please investigate bindings withservice identifier '"+e[1]+"'."},B.STACK_OVERFLOW="Maximum call stack size exceeded";var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.MetadataReader=void 0;var G=P,V=function(){function e(){}return e.prototype.getConstructorMetadata=function(e){return{compilerGeneratedMetadata:Reflect.ttq_getMetadata(G.PARAM_TYPES,e),userGeneratedMetadata:Reflect.ttq_getMetadata(G.TAGGED,e)||{}}},e.prototype.getPropertiesMetadata=function(e){return Reflect.ttq_getMetadata(G.TAGGED_PROP,e)||[]},e}();H.MetadataReader=V;var J={},W={};Object.defineProperty(W,"__esModule",{value:!0}),W.BindingCount=void 0;W.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1};var K={};Object.defineProperty(K,"__esModule",{value:!0}),K.isStackOverflowExeption=void 0;var q=B;K.isStackOverflowExeption=function(e){return e instanceof RangeError||e.message===q.STACK_OVERFLOW};var Y={};Object.defineProperty(Y,"__esModule",{value:!0}),Y.circularDependencyToException=Y.listMetadataForTarget=Y.listRegisteredBindingsForServiceIdentifier=Y.getServiceIdentifierAsString=Y.getFunctionName=void 0;var X=B;function Q(e){return"function"==typeof e?e.name:"symbol"==typeof e?e.toString():e}function z(e,t){return null!==e.parentRequest&&(e.parentRequest.serviceIdentifier===t||z(e.parentRequest,t))}function Z(e){if(e.name)return e.name;var t=e.toString(),n=t.match(/^function\s*([^\s(]+)/);return n?n[1]:"Anonymous function: "+t}Y.getServiceIdentifierAsString=Q,Y.listRegisteredBindingsForServiceIdentifier=function(e,t,n){var r="",i=n(e,t);return 0!==i.length&&(r="\nRegistered bindings:",i.forEach((function(e){var t="Object";null!==e.implementationType&&(t=Z(e.implementationType)),r=r+"\n "+t,e.constraint.metaData&&(r=r+" - "+e.constraint.metaData)}))),r},Y.circularDependencyToException=function e(t){t.childRequests.forEach((function(t){if(z(t,t.serviceIdentifier)){var n=function(e){return function e(t,n){void 0===n&&(n=[]);var r=Q(t.serviceIdentifier);return n.push(r),null!==t.parentRequest?e(t.parentRequest,n):n}(e).reverse().join(" --\x3e ")}(t);throw new Error(X.CIRCULAR_DEPENDENCY+" "+n)}e(t)}))},Y.listMetadataForTarget=function(e,t){if(t.isTagged()||t.isNamed()){var n="",r=t.getNamedTag(),i=t.getCustomTags();return null!==r&&(n+=r.toString()+"\n"),null!==i&&i.forEach((function(e){n+=e.toString()+"\n"}))," "+e+"\n "+e+" - "+n}return" "+e},Y.getFunctionName=Z;var $={};Object.defineProperty($,"__esModule",{value:!0}),$.Context=void 0;var ee=L,te=function(){function e(e){this.id=ee.id(),this.container=e}return e.prototype.addPlan=function(e){this.plan=e},e.prototype.setCurrentRequest=function(e){this.currentRequest=e},e}();$.Context=te;var ne={};Object.defineProperty(ne,"__esModule",{value:!0}),ne.Metadata=void 0;var re=P,ie=function(){function e(e,t){this.key=e,this.value=t}return e.prototype.toString=function(){return this.key===re.NAMED_TAG?"named: "+this.value.toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+this.value+" }"},e}();ne.Metadata=ie;var oe={};Object.defineProperty(oe,"__esModule",{value:!0}),oe.Plan=void 0;var ae=function(e,t){this.parentContext=e,this.rootRequest=t};oe.Plan=ae;var ce={},se={},ue={};Object.defineProperty(ue,"__esModule",{value:!0}),ue.tagProperty=ue.tagParameter=ue.decorate=void 0;var le=B,fe=P;function de(e,t,n,r,i){var o={},a="number"==typeof i,c=void 0!==i&&a?i.toString():n;if(a&&void 0!==n)throw new Error(le.INVALID_DECORATOR_OPERATION);Reflect.ttq_hasOwnMetadata(e,t)&&(o=Reflect.ttq_getMetadata(e,t));var s=o[c];if(Array.isArray(s))for(var u=0,l=s;u<l.length;u++){var f=l[u];if(f.key===r.key)throw new Error(le.DUPLICATED_METADATA+" "+f.key.toString())}else s=[];s.push(r),o[c]=s,Reflect.ttq_defineMetadata(e,o,t)}function he(e,t){Reflect.decorate(e,t)}function pe(e,t){return function(n,r){t(n,r,e)}}ue.tagParameter=function(e,t,n,r){de(fe.TAGGED,e,t,r,n)},ue.tagProperty=function(e,t,n){de(fe.TAGGED_PROP,e.constructor,t,n)},ue.decorate=function(e,t,n){"number"==typeof n?he([pe(n,e)],t):"string"==typeof n?Reflect.decorate([e],t,n):he([e],t)},Object.defineProperty(se,"__esModule",{value:!0}),se.inject=se.LazyServiceIdentifer=void 0;var ve=B,ge=P,_e=ne,ye=ue,me=function(){function e(e){this._cb=e}return e.prototype.unwrap=function(){return this._cb()},e}();se.LazyServiceIdentifer=me,se.inject=function(e){return function(t,n,r){if(void 0===e)throw new Error(ve.UNDEFINED_INJECT_ANNOTATION(t.name));var i=new _e.Metadata(ge.INJECT_TAG,e);"number"==typeof r?ye.tagParameter(t,n,r,i):ye.tagProperty(t,n,i)}};var be={},Ee={};Object.defineProperty(Ee,"__esModule",{value:!0}),Ee.QueryableString=void 0;var Ie=function(){function e(e){this.str=e}return e.prototype.startsWith=function(e){return 0===this.str.indexOf(e)},e.prototype.endsWith=function(e){var t,n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},e.prototype.contains=function(e){return-1!==this.str.indexOf(e)},e.prototype.equals=function(e){return this.str===e},e.prototype.value=function(){return this.str},e}();Ee.QueryableString=Ie,Object.defineProperty(be,"__esModule",{value:!0}),be.Target=void 0;var Te=P,Oe=L,Se=ne,Ne=Ee,Ae=function(){function e(e,t,n,r){this.id=Oe.id(),this.type=e,this.serviceIdentifier=n,this.name=new Ne.QueryableString(t||""),this.metadata=new Array;var i=null;"string"==typeof r?i=new Se.Metadata(Te.NAMED_TAG,r):r instanceof Se.Metadata&&(i=r),null!==i&&this.metadata.push(i)}return e.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){if(n[t].key===e)return!0}return!1},e.prototype.isArray=function(){return this.hasTag(Te.MULTI_INJECT_TAG)},e.prototype.matchesArray=function(e){return this.matchesTag(Te.MULTI_INJECT_TAG)(e)},e.prototype.isNamed=function(){return this.hasTag(Te.NAMED_TAG)},e.prototype.isTagged=function(){return this.metadata.some((function(e){return Te.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))}))},e.prototype.isOptional=function(){return this.matchesTag(Te.OPTIONAL_TAG)(!0)},e.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter((function(e){return e.key===Te.NAMED_TAG}))[0]:null},e.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter((function(e){return Te.NON_CUSTOM_TAG_KEYS.every((function(t){return e.key!==t}))})):null},e.prototype.matchesNamedTag=function(e){return this.matchesTag(Te.NAMED_TAG)(e)},e.prototype.matchesTag=function(e){var t=this;return function(n){for(var r=0,i=t.metadata;r<i.length;r++){var o=i[r];if(o.key===e&&o.value===n)return!0}return!1}},e}();be.Target=Ae,function(e){var t=R&&R.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(e,"__esModule",{value:!0}),e.getFunctionName=e.getBaseClassDependencyCount=e.getDependencies=void 0;var n=se,r=B,i=D,o=P,a=Y;Object.defineProperty(e,"getFunctionName",{enumerable:!0,get:function(){return a.getFunctionName}});var c=be;function s(e,n,i,o){var a=e.getConstructorMetadata(i),c=a.compilerGeneratedMetadata;if(void 0===c){var s=r.MISSING_INJECTABLE_ANNOTATION+" "+n+".";throw new Error(s)}var f=a.userGeneratedMetadata,d=Object.keys(f),h=0===i.length&&d.length>0,p=d.length>i.length,v=function(e,t,n,r,i){for(var o=[],a=0;a<i;a++){var c=u(a,e,t,n,r);null!==c&&o.push(c)}return o}(o,n,c,f,h||p?d.length:i.length),g=l(e,i);return t(t([],v),g)}function u(e,t,o,a,s){var u=s[e.toString()]||[],l=f(u),d=!0!==l.unmanaged,h=a[e],p=l.inject||l.multiInject;if((h=p||h)instanceof n.LazyServiceIdentifer&&(h=h.unwrap()),d){if(!t&&(h===Object||h===Function||void 0===h)){var v=r.MISSING_INJECT_ANNOTATION+" argument "+e+" in class "+o+".";throw new Error(v)}var g=new c.Target(i.TargetTypeEnum.ConstructorArgument,l.targetName,h);return g.metadata=u,g}return null}function l(e,n){for(var r=e.getPropertiesMetadata(n),o=[],a=0,s=Object._ttq_keys(r);a<s.length;a++){var u=s[a],d=r[u],h=f(r[u]),p=h.targetName||u,v=h.inject||h.multiInject,g=new c.Target(i.TargetTypeEnum.ClassProperty,p,v);g.metadata=d,o.push(g)}var _=Object.getPrototypeOf(n.prototype).constructor;if(_!==Object){var y=l(e,_);o=t(t([],o),y)}return o}function f(e){var t={};return e.forEach((function(e){t[e.key.toString()]=e.value})),{inject:t[o.INJECT_TAG],multiInject:t[o.MULTI_INJECT_TAG],targetName:t[o.NAME_TAG],unmanaged:t[o.UNMANAGED_TAG]}}e.getDependencies=function(e,t){return s(e,a.getFunctionName(t),t,!1)},e.getBaseClassDependencyCount=function e(t,n){var r=Object.getPrototypeOf(n.prototype).constructor;if(r!==Object){var i=s(t,a.getFunctionName(r),r,!0),c=i.map((function(e){return e.metadata.filter((function(e){return e.key===o.UNMANAGED_TAG}))})),u=[].concat.apply([],c).length,l=i.length-u;return l>0?l:e(t,r)}return 0}}(ce);var Re={};Object.defineProperty(Re,"__esModule",{value:!0}),Re.Request=void 0;var we=L,Ce=function(){function e(e,t,n,r,i){this.id=we.id(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=i,this.childRequests=[],this.bindings=Array.isArray(r)?r:[r],this.requestScope=null===n?new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map:null}return e.prototype.addChildRequest=function(t,n,r){var i=new e(t,this.parentContext,this,n,r);return this.childRequests.push(i),i},e}();Re.Request=Ce,Object.defineProperty(J,"__esModule",{value:!0}),J.getBindingDictionary=J.createMockRequest=J.plan=void 0;var Pe=W,ke=B,Me=D,De=P,Le=K,je=Y,xe=$,Ue=ne,Fe=oe,Be=ce,He=Re,Ge=be;function Ve(e){return e._bindingDictionary}function Je(e,t,n,r,i){var o=Ke(n.container,i.serviceIdentifier),a=[];return o.length===Pe.BindingCount.NoBindingsAvailable&&n.container.options.autoBindInjectable&&"function"==typeof i.serviceIdentifier&&e.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(n.container.bind(i.serviceIdentifier).toSelf(),o=Ke(n.container,i.serviceIdentifier)),a=t?o:o.filter((function(e){var t=new He.Request(e.serviceIdentifier,n,r,e,i);return e.constraint(t)})),function(e,t,n,r){switch(t.length){case Pe.BindingCount.NoBindingsAvailable:if(n.isOptional())return t;var i=je.getServiceIdentifierAsString(e),o=ke.NOT_REGISTERED;throw o+=je.listMetadataForTarget(i,n),o+=je.listRegisteredBindingsForServiceIdentifier(r,i,Ke),new Error(o);case Pe.BindingCount.OnlyOneBindingAvailable:if(!n.isArray())return t;case Pe.BindingCount.MultipleBindingsAvailable:default:if(n.isArray())return t;i=je.getServiceIdentifierAsString(e),o=ke.AMBIGUOUS_MATCH+" "+i;throw o+=je.listRegisteredBindingsForServiceIdentifier(r,i,Ke),new Error(o)}}(i.serviceIdentifier,a,i,n.container),a}function We(e,t,n,r,i,o){var a,c;if(null===i){a=Je(e,t,r,null,o),c=new He.Request(n,r,null,a,o);var s=new Fe.Plan(r,c);r.addPlan(s)}else a=Je(e,t,r,i,o),c=i.addChildRequest(o.serviceIdentifier,a,o);a.forEach((function(t){var n=null;if(o.isArray())n=c.addChildRequest(t.serviceIdentifier,t,o);else{if(t.cache)return;n=c}if(t.type===Me.BindingTypeEnum.Instance&&null!==t.implementationType){var i=Be.getDependencies(e,t.implementationType);if(!r.container.options.skipBaseClassChecks){var a=Be.getBaseClassDependencyCount(e,t.implementationType);if(i.length<a){var s=ke.ARGUMENTS_LENGTH_MISMATCH(Be.getFunctionName(t.implementationType));throw new Error(s)}}i.forEach((function(t){We(e,!1,t.serviceIdentifier,r,n,t)}))}}))}function Ke(e,t){var n=[],r=Ve(e);return r.hasKey(t)?n=r.get(t):null!==e.parent&&(n=Ke(e.parent,t)),n}J.getBindingDictionary=Ve,J.plan=function(e,t,n,r,i,o,a,c){void 0===c&&(c=!1);var s=new xe.Context(t),u=function(e,t,n,r,i,o){var a=e?De.MULTI_INJECT_TAG:De.INJECT_TAG,c=new Ue.Metadata(a,n),s=new Ge.Target(t,r,n,c);if(void 0!==i){var u=new Ue.Metadata(i,o);s.metadata.push(u)}return s}(n,r,i,"",o,a);try{return We(e,c,i,s,null,u),s}catch(e){throw Le.isStackOverflowExeption(e)&&s.plan&&je.circularDependencyToException(s.plan.rootRequest),e}},J.createMockRequest=function(e,t,n,r){var i=new Ge.Target(Me.TargetTypeEnum.Variable,"",t,new Ue.Metadata(n,r)),o=new xe.Context(e);return new He.Request(t,o,null,[],i)};var qe={},Ye={},Xe=R&&R.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(Ye,"__esModule",{value:!0}),Ye.resolveInstance=void 0;var Qe=B,ze=D,Ze=P;Ye.resolveInstance=function(e,t,n){var r,i,o=null;if(t.length>0){var a=t.filter((function(e){return null!==e.target&&e.target.type===ze.TargetTypeEnum.ConstructorArgument})).map(n);i=a,o=function(e,t,n){var r=t.filter((function(e){return null!==e.target&&e.target.type===ze.TargetTypeEnum.ClassProperty})),i=r.map(n);return r.forEach((function(t,n){var r;r=t.target.name.value();var o=i[n];e[r]=o})),e}(o=new((r=e)._ttq_bind.apply(r,Xe([void 0],i))),t,n)}else o=new e;return function(e,t){if(Reflect.ttq_hasMetadata(Ze.POST_CONSTRUCT,e)){var n=Reflect.ttq_getMetadata(Ze.POST_CONSTRUCT,e);try{t[n.value]()}catch(t){throw new Error(Qe.POST_CONSTRUCT_ERROR(e.name,t.message))}}}(e,o),o},Object.defineProperty(qe,"__esModule",{value:!0}),qe.resolve=void 0;var $e=B,et=D,tt=K,nt=Y,rt=Ye,it=function(e,t,n){try{return n()}catch(n){throw tt.isStackOverflowExeption(n)?new Error($e.CIRCULAR_DEPENDENCY_IN_FACTORY(e,t.toString())):n}},ot=function(e){return function(t){t.parentContext.setCurrentRequest(t);var n=t.bindings,r=t.childRequests,i=t.target&&t.target.isArray(),o=!(t.parentRequest&&t.parentRequest.target&&t.target&&t.parentRequest.target.matchesArray(t.target.serviceIdentifier));if(i&&o)return r.map((function(t){return ot(e)(t)}));var a=null;if(!t.target.isOptional()||0!==n.length){var c=n[0],s=c.scope===et.BindingScopeEnum.Singleton,u=c.scope===et.BindingScopeEnum.Request;if(s&&c.activated)return c.cache;if(u&&null!==e&&e.has(c.id))return e.get(c.id);if(c.type===et.BindingTypeEnum.ConstantValue)a=c.cache,c.activated=!0;else if(c.type===et.BindingTypeEnum.Function)a=c.cache,c.activated=!0;else if(c.type===et.BindingTypeEnum.Constructor)a=c.implementationType;else if(c.type===et.BindingTypeEnum.DynamicValue&&null!==c.dynamicValue)a=it("toDynamicValue",c.serviceIdentifier,(function(){return c.dynamicValue(t.parentContext)}));else if(c.type===et.BindingTypeEnum.Factory&&null!==c.factory)a=it("toFactory",c.serviceIdentifier,(function(){return c.factory(t.parentContext)}));else if(c.type===et.BindingTypeEnum.Provider&&null!==c.provider)a=it("toProvider",c.serviceIdentifier,(function(){return c.provider(t.parentContext)}));else{if(c.type!==et.BindingTypeEnum.Instance||null===c.implementationType){var l=nt.getServiceIdentifierAsString(t.serviceIdentifier);throw new Error($e.INVALID_BINDING_TYPE+" "+l)}a=rt.resolveInstance(c.implementationType,r,ot(e))}return"function"==typeof c.onActivation&&(a=c.onActivation(t.parentContext,a)),s&&(c.cache=a,c.activated=!0),u&&null!==e&&!e.has(c.id)&&e.set(c.id,a),a}}};qe.resolve=function(e){return ot(e.plan.rootRequest.requestScope)(e.plan.rootRequest)};var at={},ct={},st={},ut={},lt={},ft={},dt={};Object.defineProperty(dt,"__esModule",{value:!0}),dt.typeConstraint=dt.namedConstraint=dt.taggedConstraint=dt.traverseAncerstors=void 0;var ht=P,pt=ne,vt=function(e,t){var n=e.parentRequest;return null!==n&&(!!t(n)||vt(n,t))};dt.traverseAncerstors=vt;var gt=function(e){return function(t){var n=function(n){return null!==n&&null!==n.target&&n.target.matchesTag(e)(t)};return n.metaData=new pt.Metadata(e,t),n}};dt.taggedConstraint=gt;var _t=gt(ht.NAMED_TAG);dt.namedConstraint=_t;dt.typeConstraint=function(e){return function(t){var n=null;if(null!==t){if(n=t.bindings[0],"string"==typeof e)return n.serviceIdentifier===e;var r=t.bindings[0].implementationType;return e===r}return!1}},Object.defineProperty(ft,"__esModule",{value:!0}),ft.BindingWhenSyntax=void 0;var yt=lt,mt=dt,bt=function(){function e(e){this._binding=e}return e.prototype.when=function(e){return this._binding.constraint=e,new yt.BindingOnSyntax(this._binding)},e.prototype.whenTargetNamed=function(e){return this._binding.constraint=mt.namedConstraint(e),new yt.BindingOnSyntax(this._binding)},e.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){return null!==e.target&&!e.target.isNamed()&&!e.target.isTagged()},new yt.BindingOnSyntax(this._binding)},e.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=mt.taggedConstraint(e)(t),new yt.BindingOnSyntax(this._binding)},e.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return mt.typeConstraint(e)(t.parentRequest)},new yt.BindingOnSyntax(this._binding)},e.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return mt.namedConstraint(e)(t.parentRequest)},new yt.BindingOnSyntax(this._binding)},e.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return mt.taggedConstraint(e)(t)(n.parentRequest)},new yt.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return mt.traverseAncerstors(t,mt.typeConstraint(e))},new yt.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return!mt.traverseAncerstors(t,mt.typeConstraint(e))},new yt.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return mt.traverseAncerstors(t,mt.namedConstraint(e))},new yt.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return!mt.traverseAncerstors(t,mt.namedConstraint(e))},new yt.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return mt.traverseAncerstors(n,mt.taggedConstraint(e)(t))},new yt.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return!mt.traverseAncerstors(n,mt.taggedConstraint(e)(t))},new yt.BindingOnSyntax(this._binding)},e.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return mt.traverseAncerstors(t,e)},new yt.BindingOnSyntax(this._binding)},e.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return!mt.traverseAncerstors(t,e)},new yt.BindingOnSyntax(this._binding)},e}();ft.BindingWhenSyntax=bt,Object.defineProperty(lt,"__esModule",{value:!0}),lt.BindingOnSyntax=void 0;var Et=ft,It=function(){function e(e){this._binding=e}return e.prototype.onActivation=function(e){return this._binding.onActivation=e,new Et.BindingWhenSyntax(this._binding)},e}();lt.BindingOnSyntax=It,Object.defineProperty(ut,"__esModule",{value:!0}),ut.BindingWhenOnSyntax=void 0;var Tt=lt,Ot=ft,St=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new Ot.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new Tt.BindingOnSyntax(this._binding)}return e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();ut.BindingWhenOnSyntax=St,Object.defineProperty(st,"__esModule",{value:!0}),st.BindingInSyntax=void 0;var Nt=D,At=ut,Rt=function(){function e(e){this._binding=e}return e.prototype.inRequestScope=function(){return this._binding.scope=Nt.BindingScopeEnum.Request,new At.BindingWhenOnSyntax(this._binding)},e.prototype.inSingletonScope=function(){return this._binding.scope=Nt.BindingScopeEnum.Singleton,new At.BindingWhenOnSyntax(this._binding)},e.prototype.inTransientScope=function(){return this._binding.scope=Nt.BindingScopeEnum.Transient,new At.BindingWhenOnSyntax(this._binding)},e}();st.BindingInSyntax=Rt,Object.defineProperty(ct,"__esModule",{value:!0}),ct.BindingInWhenOnSyntax=void 0;var wt=st,Ct=lt,Pt=ft,kt=function(){function e(e){this._binding=e,this._bindingWhenSyntax=new Pt.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new Ct.BindingOnSyntax(this._binding),this._bindingInSyntax=new wt.BindingInSyntax(e)}return e.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},e.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},e.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},e.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},e.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},e.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},e.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},e.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},e.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},e.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},e.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},e.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},e.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},e.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},e.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},e.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},e.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},e.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},e.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},e}();ct.BindingInWhenOnSyntax=kt,Object.defineProperty(at,"__esModule",{value:!0}),at.BindingToSyntax=void 0;var Mt=B,Dt=D,Lt=ct,jt=ut,xt=function(){function e(e){this._binding=e}return e.prototype.to=function(e){return this._binding.type=Dt.BindingTypeEnum.Instance,this._binding.implementationType=e,new Lt.BindingInWhenOnSyntax(this._binding)},e.prototype.toSelf=function(){if("function"!=typeof this._binding.serviceIdentifier)throw new Error(""+Mt.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},e.prototype.toConstantValue=function(e){return this._binding.type=Dt.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=Dt.BindingScopeEnum.Singleton,new jt.BindingWhenOnSyntax(this._binding)},e.prototype.toDynamicValue=function(e){return this._binding.type=Dt.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new Lt.BindingInWhenOnSyntax(this._binding)},e.prototype.toConstructor=function(e){return this._binding.type=Dt.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=Dt.BindingScopeEnum.Singleton,new jt.BindingWhenOnSyntax(this._binding)},e.prototype.toFactory=function(e){return this._binding.type=Dt.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=Dt.BindingScopeEnum.Singleton,new jt.BindingWhenOnSyntax(this._binding)},e.prototype.toFunction=function(e){if("function"!=typeof e)throw new Error(Mt.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=Dt.BindingTypeEnum.Function,this._binding.scope=Dt.BindingScopeEnum.Singleton,t},e.prototype.toAutoFactory=function(e){return this._binding.type=Dt.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(){return t.container.get(e)}},this._binding.scope=Dt.BindingScopeEnum.Singleton,new jt.BindingWhenOnSyntax(this._binding)},e.prototype.toProvider=function(e){return this._binding.type=Dt.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=Dt.BindingScopeEnum.Singleton,new jt.BindingWhenOnSyntax(this._binding)},e.prototype.toService=function(e){this.toDynamicValue((function(t){return t.container.get(e)}))},e}();at.BindingToSyntax=xt;var Ut={};Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.ContainerSnapshot=void 0;var Ft=function(){function e(){}return e.of=function(t,n){var r=new e;return r.bindings=t,r.middleware=n,r},e}();Ut.ContainerSnapshot=Ft;var Bt={};Object.defineProperty(Bt,"__esModule",{value:!0}),Bt.Lookup=void 0;var Ht=B,Gt=function(){function e(){this._map=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map}return e.prototype.getMap=function(){return this._map},e.prototype.add=function(e,t){if(null==e)throw new Error(Ht.NULL_ARGUMENT);if(null==t)throw new Error(Ht.NULL_ARGUMENT);var n=this._map.get(e);void 0!==n?(n.push(t),this._map.set(e,n)):this._map.set(e,[t])},e.prototype.get=function(e){if(null==e)throw new Error(Ht.NULL_ARGUMENT);var t=this._map.get(e);if(void 0!==t)return t;throw new Error(Ht.KEY_NOT_FOUND)},e.prototype.remove=function(e){if(null==e)throw new Error(Ht.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(Ht.KEY_NOT_FOUND)},e.prototype.removeByCondition=function(e){var t=this;this._map.forEach((function(n,r){var i=n.filter((function(t){return!e(t)}));i.length>0?t._map.set(r,i):t._map.delete(r)}))},e.prototype.hasKey=function(e){if(null==e)throw new Error(Ht.NULL_ARGUMENT);return this._map.has(e)},e.prototype.clone=function(){var t=new e;return this._map.forEach((function(e,n){e.forEach((function(e){return t.add(n,e.clone())}))})),t},e.prototype.traverse=function(e){this._map.forEach((function(t,n){e(n,t)}))},e}();Bt.Lookup=Gt;var Vt=R&&R.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(i,o){function a(e){try{s(r.next(e))}catch(e){o(e)}}function c(e){try{s(r.throw(e))}catch(e){o(e)}}function s(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,c)}s((r=r.apply(e,t||[])).next())}))},Jt=R&&R.__generator||function(e,t){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function c(o){return function(c){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(i=a.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,c])}}},Wt=R&&R.__spreadArray||function(e,t){for(var n=0,r=t.length,i=e.length;n<r;n++,i++)e[i]=t[n];return e};Object.defineProperty(k,"__esModule",{value:!0}),k.Container=void 0;var Kt=M,qt=B,Yt=D,Xt=P,Qt=H,zt=J,Zt=qe,$t=at,en=L,tn=Y,nn=Ut,rn=Bt,on=function(){function e(e){this._appliedMiddleware=[];var t=e||{};if("object"!=typeof t)throw new Error(""+qt.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(void 0===t.defaultScope)t.defaultScope=Yt.BindingScopeEnum.Transient;else if(t.defaultScope!==Yt.BindingScopeEnum.Singleton&&t.defaultScope!==Yt.BindingScopeEnum.Transient&&t.defaultScope!==Yt.BindingScopeEnum.Request)throw new Error(""+qt.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(void 0===t.autoBindInjectable)t.autoBindInjectable=!1;else if("boolean"!=typeof t.autoBindInjectable)throw new Error(""+qt.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(void 0===t.skipBaseClassChecks)t.skipBaseClassChecks=!1;else if("boolean"!=typeof t.skipBaseClassChecks)throw new Error(""+qt.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=en.id(),this._bindingDictionary=new rn.Lookup,this._snapshots=[],this._middleware=null,this.parent=null,this._metadataReader=new Qt.MetadataReader}return e.merge=function(t,n){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];var o=new e,a=Wt([t,n],r).map((function(e){return zt.getBindingDictionary(e)})),c=zt.getBindingDictionary(o);function s(e,t){e.traverse((function(e,n){n.forEach((function(e){t.add(e.serviceIdentifier,e.clone())}))}))}return a.forEach((function(e){s(e,c)})),o},e.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),r=0,i=e;r<i.length;r++){var o=i[r],a=n(o.id);o.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction)}},e.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return Vt(this,void 0,void 0,(function(){var t,n,r,i,o;return Jt(this,(function(a){switch(a.label){case 0:t=this._getContainerModuleHelpersFactory(),n=0,r=e,a.label=1;case 1:return n<r.length?(i=r[n],o=t(i.id),[4,i.registry(o.bindFunction,o.unbindFunction,o.isboundFunction,o.rebindFunction)]):[3,4];case 2:a.sent(),a.label=3;case 3:return n++,[3,1];case 4:return[2]}}))}))},e.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=function(e){return function(t){return t.moduleId===e}};t.forEach((function(t){var n=r(t.id);e._bindingDictionary.removeByCondition(n)}))},e.prototype.bind=function(e){var t=this.options.defaultScope||Yt.BindingScopeEnum.Transient,n=new Kt.Binding(e,t);return this._bindingDictionary.add(e,n),new $t.BindingToSyntax(n)},e.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},e.prototype.unbind=function(e){try{this._bindingDictionary.remove(e)}catch(t){throw new Error(qt.CANNOT_UNBIND+" "+tn.getServiceIdentifierAsString(e))}},e.prototype.unbindAll=function(){this._bindingDictionary=new rn.Lookup},e.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},e.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,Xt.NAMED_TAG,t)},e.prototype.isBoundTagged=function(e,t,n){var r=!1;if(this._bindingDictionary.hasKey(e)){var i=this._bindingDictionary.get(e),o=zt.createMockRequest(this,e,t,n);r=i.some((function(e){return e.constraint(o)}))}return!r&&this.parent&&(r=this.parent.isBoundTagged(e,t,n)),r},e.prototype.snapshot=function(){this._snapshots.push(nn.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware))},e.prototype.restore=function(){var e=this._snapshots.pop();if(void 0===e)throw new Error(qt.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._middleware=e.middleware},e.prototype.createChild=function(t){var n=new e(t||this.options);return n.parent=this,n},e.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this._appliedMiddleware=this._appliedMiddleware.concat(e);var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce((function(e,t){return t(e)}),n)},e.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},e.prototype.get=function(e){return this._get(!1,!1,Yt.TargetTypeEnum.Variable,e)},e.prototype.getTagged=function(e,t,n){return this._get(!1,!1,Yt.TargetTypeEnum.Variable,e,t,n)},e.prototype.getNamed=function(e,t){return this.getTagged(e,Xt.NAMED_TAG,t)},e.prototype.getAll=function(e){return this._get(!0,!0,Yt.TargetTypeEnum.Variable,e)},e.prototype.getAllTagged=function(e,t,n){return this._get(!1,!0,Yt.TargetTypeEnum.Variable,e,t,n)},e.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,Xt.NAMED_TAG,t)},e.prototype.resolve=function(e){var t=this.createChild();return t.bind(e).toSelf(),this._appliedMiddleware.forEach((function(e){t.applyMiddleware(e)})),t.get(e)},e.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(e,t){e._binding.moduleId=t},n=function(n){return function(r){var i=e.rebind.bind(e)(r);return t(i,n),i}};return function(r){return{bindFunction:(i=r,function(n){var r=e.bind.bind(e)(n);return t(r,i),r}),isboundFunction:function(t){return e.isBound.bind(e)(t)},rebindFunction:n(r),unbindFunction:function(t){e.unbind.bind(e)(t)}};var i}},e.prototype._get=function(e,t,n,r,i,o){var a=null,c={avoidConstraints:e,contextInterceptor:function(e){return e},isMultiInject:t,key:i,serviceIdentifier:r,targetType:n,value:o};if(this._middleware){if(null==(a=this._middleware(c)))throw new Error(qt.INVALID_MIDDLEWARE_RETURN)}else a=this._planAndResolve()(c);return a},e.prototype._planAndResolve=function(){var e=this;return function(t){var n=zt.plan(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);return n=t.contextInterceptor(n),Zt.resolve(n)}},e}();k.Container=on;var an={};Object.defineProperty(an,"__esModule",{value:!0}),an.AsyncContainerModule=an.ContainerModule=void 0;var cn=L,sn=function(e){this.id=cn.id(),this.registry=e};an.ContainerModule=sn;var un=function(e){this.id=cn.id(),this.registry=e};an.AsyncContainerModule=un;var ln={};Object.defineProperty(ln,"__esModule",{value:!0}),ln.injectable=void 0;var fn=B,dn=P;ln.injectable=function(){return function(e){if(Reflect.ttq_hasOwnMetadata(dn.PARAM_TYPES,e))throw new Error(fn.DUPLICATED_INJECTABLE_DECORATOR);var t=Reflect.ttq_getMetadata(dn.DESIGN_PARAM_TYPES,e)||[];return Reflect.ttq_defineMetadata(dn.PARAM_TYPES,t,e),e}};var hn={};Object.defineProperty(hn,"__esModule",{value:!0}),hn.tagged=void 0;var pn=ne,vn=ue;hn.tagged=function(e,t){return function(n,r,i){var o=new pn.Metadata(e,t);"number"==typeof i?vn.tagParameter(n,r,i,o):vn.tagProperty(n,r,o)}};var gn={};Object.defineProperty(gn,"__esModule",{value:!0}),gn.named=void 0;var _n=P,yn=ne,mn=ue;gn.named=function(e){return function(t,n,r){var i=new yn.Metadata(_n.NAMED_TAG,e);"number"==typeof r?mn.tagParameter(t,n,r,i):mn.tagProperty(t,n,i)}};var bn={};Object.defineProperty(bn,"__esModule",{value:!0}),bn.optional=void 0;var En=P,In=ne,Tn=ue;bn.optional=function(){return function(e,t,n){var r=new In.Metadata(En.OPTIONAL_TAG,!0);"number"==typeof n?Tn.tagParameter(e,t,n,r):Tn.tagProperty(e,t,r)}};var On={};Object.defineProperty(On,"__esModule",{value:!0}),On.unmanaged=void 0;var Sn=P,Nn=ne,An=ue;On.unmanaged=function(){return function(e,t,n){var r=new Nn.Metadata(Sn.UNMANAGED_TAG,!0);An.tagParameter(e,t,n,r)}};var Rn={};Object.defineProperty(Rn,"__esModule",{value:!0}),Rn.multiInject=void 0;var wn=P,Cn=ne,Pn=ue;Rn.multiInject=function(e){return function(t,n,r){var i=new Cn.Metadata(wn.MULTI_INJECT_TAG,e);"number"==typeof r?Pn.tagParameter(t,n,r,i):Pn.tagProperty(t,n,i)}};var kn={};Object.defineProperty(kn,"__esModule",{value:!0}),kn.targetName=void 0;var Mn=P,Dn=ne,Ln=ue;kn.targetName=function(e){return function(t,n,r){var i=new Dn.Metadata(Mn.NAME_TAG,e);Ln.tagParameter(t,n,r,i)}};var jn={};Object.defineProperty(jn,"__esModule",{value:!0}),jn.postConstruct=void 0;var xn=B,Un=P,Fn=ne;jn.postConstruct=function(){return function(e,t,n){var r=new Fn.Metadata(Un.POST_CONSTRUCT,t);if(Reflect.ttq_hasOwnMetadata(Un.POST_CONSTRUCT,e.constructor))throw new Error(xn.MULTIPLE_POST_CONSTRUCT_METHODS);Reflect.ttq_defineMetadata(Un.POST_CONSTRUCT,r,e.constructor)}};var Bn={};Object.defineProperty(Bn,"__esModule",{value:!0}),Bn.multiBindToService=void 0;Bn.multiBindToService=function(e){return function(t){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return n.forEach((function(n){return e.bind(n).toService(t)}))}}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.multiBindToService=e.getServiceIdentifierAsString=e.typeConstraint=e.namedConstraint=e.taggedConstraint=e.traverseAncerstors=e.decorate=e.id=e.MetadataReader=e.postConstruct=e.targetName=e.multiInject=e.unmanaged=e.optional=e.LazyServiceIdentifer=e.inject=e.named=e.tagged=e.injectable=e.ContainerModule=e.AsyncContainerModule=e.TargetTypeEnum=e.BindingTypeEnum=e.BindingScopeEnum=e.Container=e.METADATA_KEY=void 0;var t=P;e.METADATA_KEY=t;var n=k;Object.defineProperty(e,"Container",{enumerable:!0,get:function(){return n.Container}});var r=D;Object.defineProperty(e,"BindingScopeEnum",{enumerable:!0,get:function(){return r.BindingScopeEnum}}),Object.defineProperty(e,"BindingTypeEnum",{enumerable:!0,get:function(){return r.BindingTypeEnum}}),Object.defineProperty(e,"TargetTypeEnum",{enumerable:!0,get:function(){return r.TargetTypeEnum}});var i=an;Object.defineProperty(e,"AsyncContainerModule",{enumerable:!0,get:function(){return i.AsyncContainerModule}}),Object.defineProperty(e,"ContainerModule",{enumerable:!0,get:function(){return i.ContainerModule}});var o=ln;Object.defineProperty(e,"injectable",{enumerable:!0,get:function(){return o.injectable}});var a=hn;Object.defineProperty(e,"tagged",{enumerable:!0,get:function(){return a.tagged}});var c=gn;Object.defineProperty(e,"named",{enumerable:!0,get:function(){return c.named}});var s=se;Object.defineProperty(e,"inject",{enumerable:!0,get:function(){return s.inject}}),Object.defineProperty(e,"LazyServiceIdentifer",{enumerable:!0,get:function(){return s.LazyServiceIdentifer}});var u=bn;Object.defineProperty(e,"optional",{enumerable:!0,get:function(){return u.optional}});var l=On;Object.defineProperty(e,"unmanaged",{enumerable:!0,get:function(){return l.unmanaged}});var f=Rn;Object.defineProperty(e,"multiInject",{enumerable:!0,get:function(){return f.multiInject}});var d=kn;Object.defineProperty(e,"targetName",{enumerable:!0,get:function(){return d.targetName}});var h=jn;Object.defineProperty(e,"postConstruct",{enumerable:!0,get:function(){return h.postConstruct}});var p=H;Object.defineProperty(e,"MetadataReader",{enumerable:!0,get:function(){return p.MetadataReader}});var v=L;Object.defineProperty(e,"id",{enumerable:!0,get:function(){return v.id}});var g=ue;Object.defineProperty(e,"decorate",{enumerable:!0,get:function(){return g.decorate}});var _=dt;Object.defineProperty(e,"traverseAncerstors",{enumerable:!0,get:function(){return _.traverseAncerstors}}),Object.defineProperty(e,"taggedConstraint",{enumerable:!0,get:function(){return _.taggedConstraint}}),Object.defineProperty(e,"namedConstraint",{enumerable:!0,get:function(){return _.namedConstraint}}),Object.defineProperty(e,"typeConstraint",{enumerable:!0,get:function(){return _.typeConstraint}});var y=Y;Object.defineProperty(e,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return y.getServiceIdentifierAsString}});var m=Bn;Object.defineProperty(e,"multiBindToService",{enumerable:!0,get:function(){return m.multiBindToService}})}(C);var Hn,Gn,Vn,Jn,Wn,Kn,qn,Yn,Xn,Qn,zn=["ttuts","ad_info_from"];!function(e){e.LDU="limited_data_use",e.EVENTID="eventID",e.EVENT_ID="event_id"}(Hn||(Hn={})),function(e){e[e.defaultReport=0]="defaultReport",e[e.httpReport=1]="httpReport",e[e.htmlHttpReport=2]="htmlHttpReport"}(Gn||(Gn={})),function(e){e.Normal="1",e.Iframe="2",e.WebWorker="3",e.SandboxIframe="4"}(Vn||(Vn={})),function(e){e.EMPTY_VALUE="empty_value",e.WRONG_FORMAT="wrong_format",e.CORRECT_FORMAT="correct_format",e.HASHED="hashed",e.HASHED_ERR="hashed_err",e.HASHED_CORRECT="hashed_correct",e.PLAINTEXT_EMAIL="plaintext_email",e.PLAINTEXT_PHONE="plaintext_phone"}(Jn||(Jn={})),function(e){e.EMPTY_VALUE="empty_value",e.PLAIN_EMAIL="plain_email",e.PLAIN_PHONE="plain_phone",e.HASHED="hashed",e.FILTER_EVENTS="filter_events",e.UNKNOWN_INVALID="unknown_invalid",e.BASE64_STRING_HASHED="base64_string_hashed",e.BASE64_HEX_HASHED="base64_hex_hashed",e.PLAIN_MDN_EMAIL="plain_mdn_email"}(Wn||(Wn={})),function(e){e.Manual="manual",e.Auto="auto"}(Kn||(Kn={})),function(e){e.empty="empty",e.whitespace="whitespace",e.hardcode="hardcode",e.encode="encode"}(qn||(qn={})),function(e){e.letterCase="letter_case",e.isNotValidEmail="is_not_valid_email",e.isNotPossibleEmail="is_not_possible_email",e.domainTypo="domain_typo",e.addressFormat="address_format"}(Yn||(Yn={})),function(e){e.invalidCountry="invalid_country",e.notANumber="not_a_number",e.tooShort="too_short",e.tooLong="too_long",e.invalidLength="invalid_length",e.emptyCountryCodeThroughIP="empty_country_code_through_ip",e.invalidCountryAfterInjectPlus="invalid_country_after_inject_plus",e.notANumberAfterInjectPlus="not_a_number_after_inject_plus",e.tooShortAfterInjectPlus="too_short_after_inject_plus",e.tooLongAfterInjectPlus="too_long_after_inject_plus",e.invalidLengthAfterInjectPlus="invalid_length_after_inject_plus",e.invalidCountryAfterInjectCountry="invalid_country_after_inject_country",e.notANumberAfterInjectCountry="not_a_number_after_inject_country",e.tooShortAfterInjectCountry="too_short_after_inject_country",e.tooLongAfterInjectCountry="too_long_after_inject_country",e.invalidLengthAfterInjectCountry="invalid_length_after_inject_country"}(Xn||(Xn={})),function(e){e.missing="missing",e.valid="valid",e.invalid="invalid"}(Qn||(Qn={}));var Zn,$n,er={raw_email:{label:Qn.missing},raw_auto_email:{label:Qn.missing},raw_phone:{label:Qn.missing},raw_auto_phone:{label:Qn.missing},hashed_email:{label:Qn.missing},hashed_phone:{label:Qn.missing}};!function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.HOLD=1]="HOLD",e[e.REVOKE=2]="REVOKE",e[e.GRANT=3]="GRANT"}(Zn||(Zn={})),function(e){e[e.NOT_SURE=0]="NOT_SURE",e[e.INVOKE_METHOD_ENABLED=1]="INVOKE_METHOD_ENABLED",e[e.INVOKE_METHOD_NOT_ENABLED=2]="INVOKE_METHOD_NOT_ENABLED",e[e.TOUTIAO_BRIDGE_NOT_ENABLED=3]="TOUTIAO_BRIDGE_NOT_ENABLED"}($n||($n={}));var tr=function(e){return"[object Object]"===Object.prototype.toString.call(e)},nr=function(e){return"".concat(e,"-").concat(Date.now(),"-").concat(Math.floor(8999999999999*Math.random())+1e12)},rr=function(e,t){return"".concat(e,"-").concat(t)},ir=function(){return new Date(Date.now()+864e5).toUTCString()};var or,ar,cr,sr,ur="tt_adInfo",lr="tt_appInfo",fr="_tt_enable_cookie",dr="_ttp",hr="pageId",pr="messageId",vr="tt_sessionId",gr="tt_pixel_session_index",_r="default_eventId";!function(e){e[e.OFFSITE=0]="OFFSITE",e[e.ONSITE=1]="ONSITE"}(or||(or={})),function(e){e.INIT_START="initStart",e.INIT_END="initEnd",e.CONTEXT_INIT_START="contextInitStart",e.CONTEXT_INIT_END="contextInitEnd",e.PAGE_URL_WILL_CHANGE="pageUrlWillChange",e.PAGE_URL_DID_CHANGE="pageUrlDidChange",e.PAGE_DID_LOAD="pageDidLoad",e.PAGE_WILL_LEAVE="pageWillLeave",e.AD_INFO_INIT_START="adInfoInitStart",e.AD_INFO_INIT_END="adInfoInitEnd",e.BEFORE_AD_INFO_INIT_START="beforeAdInfoInitStart",e.BEFORE_SHOPIFY_PIXEL_SEND="beforeShopifyPixelSend",e.PIXEL_SEND="pixelSend",e.PIXEL_DID_MOUNT="pixelDidMount"}(ar||(ar={})),function(e){e.UNKNOWN="-1",e.LOADING="0",e.INTERACTIVE="1",e.COMPLETE="2"}(cr||(cr={})),function(e){e.EXTERNAL="external",e.APP="app",e.TIKTOK="tiktok"}(sr||(sr={}));var yr,mr="Pageview",br=[],Er={TTQ:Symbol.for("TTQ"),GLOBAL_TTQ:Symbol.for("GLOBAL_TTQ"),SHOPIFY_TTQ:Symbol.for("SHOPIFY_TTQ"),ENV:Symbol.for("ENV"),CONTEXT:Symbol.for("CONTEXT"),REPORTER:Symbol.for("REPORTER"),REPORTERS:Symbol.for("REPORTERS"),PLUGIN:Symbol.for("PLUGIN"),PLUGINS:Symbol.for("PLUGINS"),TTQ_GLOBAL_OPTIONS:Symbol.for("TTQ_GLOBAL_OPTIONS"),PERFORMANCE_PLUGIN:Symbol.for("PERFORMANCE_PLUGIN"),INTERACTION_PLUGIN:Symbol.for("INTERACTION_PLUGIN"),INTERACTION_PLUGIN_MONITOR:Symbol.for("INTERACTION_PLUGIN_MONITOR"),PERFORMANCE_PLUGIN_MONITOR:Symbol.for("PERFORMANCE_PLUGIN_MONITOR"),ADVANCED_MATCHING_PLUGIN:Symbol.for("ADVANCED_MATCHING_PLUGIN"),AUTO_ADVANCED_MATCHING_PLUGIN:Symbol.for("AUTO_ADVANCED_MATCHING_PLUGIN"),CALLBACK_PLUGIN:Symbol.for("CALLBACK_PLUGIN"),IDENTIFY_PLUGIN:Symbol.for("IDENTIFY_PLUGIN"),MONITOR_PLUGIN:Symbol.for("MONITOR_PLUGIN"),PERFORMANCE_INTERACTION_PLUGIN:Symbol.for("PERFORMANCE_INTERACTION_PLUGIN"),WEB_FL_PLUGIN:Symbol.for("WEB_FL_PLUGIN"),SHOPIFY_PLUGIN:Symbol.for("SHOPIFY_PLUGIN"),AUTO_CONFIG_PLUGIN:Symbol.for("AUTO_CONFIG_PLUGIN"),DIAGNOSTICS_CONSOLE_PLUGIN:Symbol.for("DIAGNOSTICS_CONSOLE_PLUGIN"),COMPETITOR_INSIGHT_PLUGIN:Symbol.for("COMPETITOR_INSIGHT_PLUGIN"),PANGLE_COOKIE_MATCHING_PLUGIN:Symbol.for("PANGLE_COOKIE_MATCHING_PLUGIN"),BATCH_SERVICE:Symbol.for("BATCH_SERVICE"),REPORT_SERVICE:Symbol.for("REPORT_SERVICE"),AD_SERVICE:Symbol.for("AD_SERVICE"),APP_SERVICE:Symbol.for("APP_SERVICE"),BRIDGE_SERVICE:Symbol.for("BRIDGE"),HTTP_SERVICE:Symbol.for("HTTP_SERVICE"),COOKIE_SERVICE:Symbol.for("COOKIE_SERVICE"),CONSENT_SERVICE:Symbol.for("CONSENT_SERVICE"),JS_BRIDGE:Symbol.for("JS_BRIDGE"),TTQ_REPORTERS:Symbol.for("TTQ_REPORTERS"),INTERACTION_MONITOR:Symbol.for("INTERACTION_MONITOR"),PERFORMANCE_MONITOR:Symbol.for("PERFORMANCE_MONITOR")};!function(e){e.TRACK="track",e.PERFORMANCE="performance",e.INTERACTION="interaction",e.PCM="PCM",e.PERFORMANCE_INTERACTION="performance_interaction",e.SELFHOST="selfhost",e.AUTO_CONFIG="auto_config"}(yr||(yr={}));var Ir,Tr,Or=["EnrichAM"],Sr="https://analytics.tiktok.com/api/v2",Nr="".concat(Sr,"/pixel"),Ar="".concat(Sr,"/performance"),Rr="".concat(Sr,"/interaction"),wr="".concat(Sr,"/performance_interaction"),Cr="".concat(Sr,"/pixel/act"),Pr="ttclid",kr="ext_params",Mr="_toutiao_params",Dr="ttuts",Lr=["phone_number","email","external_id"],jr="email_is_hashed",xr="phone_is_hashed",Ur="sha256_email",Fr="sha256_phone",Br="auto_trigger_type";!function(e){e.LOAD_START="load_start",e.LOAD_END="load_end",e.BEFORE_INIT="before_init",e.INIT_START="init_start",e.INIT_END="init_end",e.JSB_INIT_START="jsb_init_start",e.JSB_INIT_END="jsb_init_end",e.BEFORE_AD_INFO_INIT_START="before_ad_info_init_start",e.AD_INFO_INIT_START="ad_info_init_start",e.AD_INFO_INIT_END="ad_info_init_end",e.IDENTIFY_INIT_START="identify_init_start",e.IDENTIFY_INIT_END="identify_init_end",e.PLUGIN_INIT_START="_init_start",e.PLUGIN_INIT_END="_init_end",e.PIXEL_SEND="pixel_send",e.PIXEL_SEND_PCM="pixel_send_PCM",e.JSB_SEND="jsb_send",e.HTTP_SEND="http_send",e.HANDLE_CACHE="handle_cache",e.INIT_ERROR="init_error",e.PIXEL_EMPTY="pixel_empty",e.JSB_ERROR="jsb_error",e.API_ERROR="api_error",e.PLUGIN_ERROR="plugin_error",e.CUSTOM_INFO="custom_info",e.CUSTOM_ERROR="custom_error",e.CUSTOM_TIMER="custom_timer"}(Ir||(Ir={})),function(e){e.EMPTY_EVENT_TYPE_NAME="EMPTY_EVENT_TYPE_NAME",e.MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT="MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT",e.LONG_EVENT_TYPE_NAME="LONG_EVENT_TYPE_NAME",e.MISSING_VALUE_PARAMETER="MISSING_VALUE_PARAMETER",e.MISSING_CURRENCY_PARAMETER="MISSING_CURRENCY_PARAMETER",e.MISSING_CONTENT_ID="MISSING_CONTENT_ID",e.MISSING_EMAIL_AND_PHONE="MISSING_EMAIL_AND_PHONE",e.INVALID_EVENT_PARAMETER_VALUE="INVALID_EVENT_PARAMETER_VALUE",e.INVALID_CURRENCY_CODE="INVALID_CURRENCY_CODE",e.INVALID_CONTENT_ID="INVALID_CONTENT_ID",e.INVALID_CONTENT_TYPE="INVALID_CONTENT_TYPE",e.INVALID_EMAIL_FORMAT="INVALID_EMAIL_FORMAT",e.INVALID_PHONE_NUMBER_FORMAT="INVALID_PHONE_NUMBER_FORMAT",e.INVALID_EMAIL_INFORMATION="INVALID_EMAIL_INFORMATION",e.INVALID_PHONE_NUMBER_INFORMATION="INVALID_PHONE_NUMBER_INFORMATION",e.DUPLICATE_PIXEL_CODE="DUPLICATE_PIXEL_CODE",e.MISSING_PIXEL_CODE="MISSING_PIXEL_CODE",e.INVALID_PIXEL_CODE="INVALID_PIXEL_CODE"}(Tr||(Tr={}));var Hr=null,Gr=function(){return"object"===("undefined"==typeof window?"undefined":t(window))&&window.TiktokAnalyticsObject||"ttq"},Vr=function(){return Hr||"object"===("undefined"==typeof window?"undefined":t(window))&&window[Gr()]},Jr=function(){return"undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:new Function("return this")()},Wr=function(){return!!Vr()._is_onsite},Kr=function(){var e=Jr();return"object"===("undefined"==typeof navigator?"undefined":t(navigator))?navigator.userAgent:e._userAgent||""},qr=function(e){try{var t=Vr();return t&&t._self_host_config&&t._self_host_config[e]||""}catch(e){return""}},Yr=function(){var e=Vr();return e._partner?e._partner:""},Xr=function(e){try{var t=Vr()._plugins||{};return null==t[e]||!!t[e]}catch(e){return!0}};var Qr=function(e){return Boolean(e)},zr=function(e){var t;return Object.keys((null===(t=null==e?void 0:e.context)||void 0===t?void 0:t.user)||{}).some((function(e){return-1!==Lr.indexOf(e)}))};function Zr(e,t){var n,r=e;return function(){if(r){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];n=e.apply(t,o),r=null}return n}}var $r=function(e){return((e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce(((e,t)=>e+((t&=63)<36?t.toString(36):t<62?(t-26).toString(36).toUpperCase():t>62?"-":"_")),""))(e)};function ei(e,t){var n=Object.assign({},e);return t.forEach((function(e){null!==n[e]&&void 0!==n[e]&&delete n[e]})),n}var ti=function(e,t){if(!e)return{};var n={};return Object.keys(e).forEach((function(r){t[r]&&(n[r]=e[r])})),n};function ni(e,t,n){var r;return function(){for(var i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];clearTimeout(r),r=setTimeout((function(){e.apply(n,o)}),t)}}function ri(){return ii.apply(this,arguments)}function ii(){return ii=r(e().mark((function t(){var n,r=arguments;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>0&&void 0!==r[0]?r[0]:500,e.abrupt("return",new Promise((function(e){setTimeout((function(){e(!0)}),n)})));case 2:case"end":return e.stop()}}),t)}))),ii.apply(this,arguments)}var oi=["input[type='button']","input[type='image']","input[type='submit']","button","[class*=btn]","[class*=Btn]","[class*=button]","[class*=Button]","[role*=button]","[id*=btn]","[id*=Btn]","[id*=button]","[id*=Button]","a"],ai=["[href^='tel:']","[href^='callto:']","[href^='sms:']","[href^='skype:']","[href^='whatsapp:']","[href^='mailto:']"],ci=function(e){var t=oi.some((function(t){return e.matches(t)})),n=ai.some((function(t){return e.matches(t)}));return t&&!n};function si(e,n){var r={};for(var i in e)if(e.hasOwnProperty(i)&&!n.hasOwnProperty(i))r[i]=e[i];else if(e.hasOwnProperty(i)&&n.hasOwnProperty(i)&&e[i]!==n[i])if("object"===t(e[i])&&"object"===t(n[i])){var o=si(e[i],n[i]);Object.keys(o).length>0&&(r[i]=o)}else r[i]=e[i];for(var a in n)n.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(r[a]=n[a]);return r}function ui(e,t){return Object.keys(si(e,t)).length>0}function li(e,t){var n={};return e&&("string"==typeof e||"number"==typeof e?n.external_id=e.toString():tr(e)&&(n=e)),t&&tr(t)&&Object.assign(n,t),n}var fi=function(e){try{var t=e&&function(e){for(var t=Array.prototype.slice.call(document.getElementsByTagName("script")),n=0;n<t.length;n++){var r=t[n];if(r.innerHTML&&r.innerHTML.indexOf(e)>-1)return r}}(e);if(t){if(di(t))return"isInHead";if(hi(t))return"isInBodyTop10"}return"unknown"}catch(e){return"unknown"}},di=function e(t){var n=t.parentElement;return!!n&&("HEAD"===n.tagName||e(n))},hi=function(e,n){for(var r,i=[document.body],o=0;o<=e&&i.length;){var a=i.pop();if(a===n)return!0;if(!("script"===(null==a?void 0:a.tagName.toLowerCase())&&(null===(r=a.src)||void 0===r?void 0:r.indexOf("analytics.tiktok.com"))>-1)&&(o++,"object"===t(a)&&a.children))for(var c=a.children.length-1;c>=0;c--)i.push(a.children[c])}return!1}.bind(null,10),pi=function(){var e,t;return(null===(t=null===(e=Vr())||void 0===e?void 0:e._env)||void 0===t?void 0:t.env)||sr.EXTERNAL},vi=function(){var e,t;return null!==(t=null===(e=Vr())||void 0===e?void 0:e._is_onsite)&&void 0!==t?t:or.OFFSITE},gi=function(e){return(e||pi())!==sr.EXTERNAL},_i=function(e){return(e||pi())===sr.TIKTOK},yi=function(){var e=Kr();return/windows phone/i.test(e)?"Windows Phone":/android/i.test(e)?"android":/iPad|iPhone|iPod/.test(e)?"ios":"pc"},mi=function(){try{return navigator.userAgentData.getHighEntropyValues(["model","platformVersion"])}catch(e){return Promise.resolve({})}},bi=function(){return"android"===yi()},Ei=function(){return"ios"===yi()},Ii=Zr((function(){return/open_news/i.test(Kr())})),Ti=Zr((function(){return/ultralite/i.test(Kr())}));function Oi(){var e;return[$n.INVOKE_METHOD_ENABLED,$n.INVOKE_METHOD_NOT_ENABLED,$n.TOUTIAO_BRIDGE_NOT_ENABLED][[!!(null===(e=null===window||void 0===window?void 0:window.ToutiaoJSBridge)||void 0===e?void 0:e.invokeMethod),!!(null===window||void 0===window?void 0:window.ToutiaoJSBridge),!0].findIndex((function(e){return e}))]}var Si=function(){return(void 0!==(e=Jr()).DedicatedWorkerGlobalScope?e instanceof e.DedicatedWorkerGlobalScope:"DedicatedWorkerGlobalScope"===e.constructor.name)?Vn.WebWorker:globalThis.self&&globalThis.self!==globalThis.self.top?Vn.Iframe:Vn.Normal;var e};function Ni(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];try{var r=Vr(),i=r.getPlugin&&r.getPlugin("Monitor")||null;i&&i.info&&"function"==typeof i.info&&i.info.call(i,e,t,n)}catch(e){}}function Ai(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{var i=Vr(),o=i.getPlugin&&i.getPlugin("Monitor")||null;o&&o.error&&"function"==typeof o.error&&o.error.call(o,e,t,n,r)}catch(e){}}function Ri(e,t){try{var n=Vr(),r=n.getPlugin&&n.getPlugin("DiagnosticsConsole")||null;r&&r.warn.apply(r,[e,t])}catch(e){}}function wi(){try{0;var e=document&&document.currentScript,t=e&&e.src||"http://emptyURLSrc";return{pixelCode:new URL(t).searchParams.get("sdkid")||e&&e.getAttribute("data-id")||"",lib:Gr()||"ttq"}}catch(e){return{lib:"ttq",pixelCode:""}}}var Ci=function(e,t){if("selfhost"===e&&t&&qr(t))return"https://".concat(qr(t),"/api/v2/pixel");var n={track:Nr,performance:Ar,interaction:Rr,performance_interaction:wr,auto_config:Cr}[e];return n||null},Pi=function(e){try{var t=window.sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return null}},ki=function(e,t){try{var n=JSON.stringify(t);window.sessionStorage.setItem(e,n)}catch(e){}};function Mi(e,t){try{return new URL(e).searchParams.get(t)||""}catch(e){return""}}var Di=function(e,t){var n=Mi(t||window.location.href,e);return n||Mi(document.referrer,e)},Li="",ji=function(e){if(0===document.cookie.length)return"";var t,n,r=(t=e,n={},document.cookie.split(";").forEach((function(e){var t=e.split("="),r=t[0].trim();n[r]=t.slice(1).join("=")})),n[t]||"");return r?unescape(r):""},xi=function(e,t,n){try{if(n){if(Li)return n.domain=Li,void(document.cookie="".concat(e,"=").concat(t).concat(Ui(n)));for(var r=(n.domain||window.location.hostname).split("."),i=r.length,o="",a=0;a<i;a++){if(o=".".concat(r[i-a-1]).concat(o),n.domain=o,document.cookie="".concat(e,"=").concat(t).concat(Ui(n)),ji(e)){Li=o;break}}}else document.cookie="".concat(e,"=").concat(t).concat(Ui(n))}catch(e){}},Ui=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object.assign({},{path:"/"},e);"number"==typeof t.expires&&(t.expires=new Date(Date.now()+864e5*t.expires)),t.expires instanceof Date&&(t.expires=t.expires.toUTCString());var n="";for(var r in t)t[r]&&(n+="; ".concat(r),!0!==t[r]&&(n+="=".concat(t[r].split(";")[0])));return n},Fi=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:ir(),i={path:n,expires:r};xi(e,t,i)};function Bi(){try{var e=document.readyState;return"loading"==e?cr.LOADING:"interactive"==e?cr.INTERACTIVE:"complete"==e?cr.COMPLETE:cr.UNKNOWN}catch(e){return cr.UNKNOWN}}function Hi(e){return new Promise((function(t,n){var r=document.createElement("script");r.type="text/javascript",r.async=!0,r.src=e;var i=document.getElementsByTagName("script")[0];i&&i.parentNode?i.parentNode.insertBefore(r,i):n("none element"),r.onload=function(){t(!0)},r.onerror=n}))}var Gi=function(){var t=r(e().mark((function t(n){var r,i=arguments;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!((r=i.length>1&&void 0!==i[1]?i[1]:1)>=0)){e.next=13;break}return e.prev=2,e.next=5,Hi(n);case 5:return e.abrupt("return",Promise.resolve(!0));case 8:return e.prev=8,e.t0=e.catch(2),e.abrupt("return",Gi.call(null,n,r-1));case 11:e.next=14;break;case 13:throw Error;case 14:case"end":return e.stop()}}),t,null,[[2,8]])})));return function(e){return t.apply(this,arguments)}}(),Vi=function(e){return"function"==typeof Promise.allSettled?Promise.allSettled(e):function(e){var t=new Array(e.length),n=0;return new Promise((function(r,i){for(var o=function(i){var o=e[i];o&&"function"==typeof o.then?o.then((function(o){t[i]={status:"fulfilled",value:o},++n===e.length&&r(t)})).catch((function(o){t[i]={status:"rejected",reason:o},++n===e.length&&r(t)})):(t[i]={status:"fulfilled",value:o},++n===e.length&&r(t))},a=0;a<e.length;a++)o(a)}))}(e)},Ji=["COP","USD","DZD","TWD","QAR","VES","NGN","EGP","IDR","HNL","ISK","CRC","PEN","AED","GBP","BOB","DKK","CAD","PKR","MXN","HUF","VND","KWD","RON","BIF","MYR","ZAR","SAR","NOK","SGD","HKD","AUD","CHF","KRW","CNY","TRY","BDT","NZD","CLP","THB","EUR","ARS","NIO","KZT","GTQ","RUB","SEK","MOP","PYG","INR","JPY","CZK","BRL","MAD","PLN","PHP","KES","ILS"];function Wi(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=t||Ji;return n.includes(e)}function Ki(e){return!isNaN(e)&&e>=0}var qi,Yi=String.fromCharCode.bind(String),Xi=Array.prototype.slice.call("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="),Qi=function(e){if(e.length<2){var t=e.charCodeAt(0);return t<128?e:t<2048?Yi(192|t>>>6)+Yi(128|63&t):Yi(224|t>>>12&15)+Yi(128|t>>>6&63)+Yi(128|63&t)}var n=65536+1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320);return Yi(240|n>>>18&7)+Yi(128|n>>>12&63)+Yi(128|n>>>6&63)+Yi(128|63&n)},zi=/[\uD800-\uDBFF][\uDC00-\uDFFFF]|[^\x00-\x7F]/g,Zi=function(e){return function(e){return e.replace(/=/g,"").replace(/[+\/]/g,(function(e){return"+"===e?"-":"_"}))}(function(e){for(var t,n,r,i,o="",a=e.length%3,c=0;c<e.length;){if((n=e.charCodeAt(c++))>255||(r=e.charCodeAt(c++))>255||(i=e.charCodeAt(c++))>255)throw new TypeError("invalid character found");o+=Xi[(t=n<<16|r<<8|i)>>18&63]+Xi[t>>12&63]+Xi[t>>6&63]+Xi[63&t]}return a?o.slice(0,a-3)+"===".substring(a):o}(e.replace(zi,Qi)))},$i={};function eo(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t&&$i["".concat(e)]||($i["".concat(e)]={start:performance.now()})}function to(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!(t&&$i["".concat(e)]&&$i["".concat(e)].end)){var n=$i["".concat(e)];n&&(n.end=performance.now());var r=n.end-n.start;return Ni(Ir.CUSTOM_TIMER,{custom_name:e,latency:Math.ceil(1e3*r)}),r}}!function(e){e.AUTO_CONFIG_CONTENT="auto_config_content",e.AUTO_CONFIG_FORM="auto_config_form",e.AUTO_CONFIG_CLICK="auto_config_click"}(qi||(qi={}));var no=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},ro=function(){function e(t){i(this,e),this.userFormatInfo={},this.userFormatInfoV2={},this.enableAdTracking=!0,this.offsiteAdInfo={},this.tt_test_id="",this.signalDiagnosticLabels=Object.assign({},er),this.init(t)}return a(e,[{key:"init",value:function(e){this.userInfo={},this.adInfo={},this.appInfo={},this.pageInfo={url:"",referrer:""},this.pageSign={sessionId:"",pageId:""},this.libraryInfo=e}},{key:"getAllData",value:function(){return{userInfo:this.userInfo,adInfo:this.adInfo,appInfo:this.appInfo,libraryInfo:this.libraryInfo,pageInfo:this.pageInfo,pageSign:this.pageSign,signalType:this.signalType,userFormatInfo:this.userFormatInfo,userFormatInfoV2:this.userFormatInfoV2,enableAdTracking:this.enableAdTracking,offsiteAdInfo:this.offsiteAdInfo,tt_test_id:this.tt_test_id}}},{key:"getLibraryInfo",value:function(){return this.libraryInfo}},{key:"setSignalType",value:function(e){this.signalType=e}},{key:"getSignalType",value:function(){return this.signalType}},{key:"setTestID",value:function(e){this.tt_test_id=e}},{key:"getTestID",value:function(){return this.tt_test_id}},{key:"setEnableAdTracking",value:function(e){this.enableAdTracking=e}},{key:"getEnableAdTracking",value:function(){return this.enableAdTracking}},{key:"setOffsiteAdInfo",value:function(e){this.offsiteAdInfo=Object.assign({},this.offsiteAdInfo,e)}},{key:"getOffsiteAdInfo",value:function(){return this.offsiteAdInfo}},{key:"getUserFormatInfo",value:function(){return this.userFormatInfo}},{key:"setUserFormatInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.userFormatInfo,e)}},{key:"getUserFormatInfoV2",value:function(){return this.userFormatInfoV2}},{key:"setUserFormatInfoV2",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.userFormatInfoV2,e)}},{key:"setUserInfo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.assign(this.userInfo,e)}},{key:"setUserInfoWithoutIdentifyPlugin",value:function(e){e&&Object.assign(this.userInfo,e)}},{key:"getUserInfo",value:function(){return this.userInfo}},{key:"getAdInfo",value:function(){return this.adInfo}},{key:"setAdInfo",value:function(e){e&&(this.adInfo?this.adInfo=Object.assign({},this.adInfo,e):this.adInfo=e)}},{key:"getAppInfo",value:function(){return this.appInfo}},{key:"setAppInfo",value:function(e){e&&(this.appInfo=Object.assign({},this.appInfo,e))}},{key:"getPageInfo",value:function(){return this.pageInfo}},{key:"getPageSign",value:function(){return this.pageSign}},{key:"setPageInfo",value:function(e,t){var n=Object.assign({},this.pageInfo),r=Object.assign({},this.pageSign);if(n.url!==e){var i,o=n.url;if(void 0!==n.url&&(n.referrer=n.url),void 0!==t&&(n.referrer=t),r.pageId=this.getPageId(),void 0!==r.index){var a=r.index+1;r.index=a,i=a,sessionStorage.setItem(gr,JSON.stringify({index:i}))}return n.url=e,this.pageInfo=n,this.pageSign=r,{from:o}}}},{key:"setPageInfoData",value:function(e){this.pageInfo=Object.assign({},this.pageInfo,e)}},{key:"getSessionIdFromCache",value:function(){return null}},{key:"setSessionIdToCache",value:function(e){}},{key:"setSignalDiagnosticLabels",value:function(e){Object.assign(this.signalDiagnosticLabels,e)}},{key:"getSignalDiagnosticLabels",value:function(){return this.signalDiagnosticLabels}},{key:"getPageId",value:function(){return nr(hr)}},{key:"getVariationId",value:function(){return""}},{key:"isLegacyPixel",value:function(e){return!1}},{key:"initPageSign",value:function(){var e=this.getSessionIdFromCache();null===e&&(e=nr("sessionId"),this.setSessionIdToCache(e));var t={sessionId:e,pageId:nr(hr)};this.pageSign=t}}]),e}();ro=no([C.injectable()],ro);var io=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},oo=function(){function e(){i(this,e),this.events={}}return a(e,[{key:"on",value:function(e,t){var n=this.events[e]||[];n.push(t),this.events[e]=n}},{key:"emit",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=this.events[e]||[];i.forEach((function(e){return e.apply(void 0,n)}))}},{key:"off",value:function(e,t){var n=this.events[e]||[];this.events[e]=n.filter((function(e){return e!==t}))}}]),e}();oo=io([C.injectable()],oo);var ao=function(){function e(t){i(this,e),this.pixelCode="",this.loaded=!1,this.status=1,this.name="",this.advertiserID="",this.setupMode=0,this.partner="",this.reporterInfo={},this.plugins={},this.options={},this.rules=[],this.pixelCode=t}return a(e,[{key:"getParameterInfo",value:function(){return Promise.resolve({pixelCode:this.pixelCode,name:this.name,status:this.status,setupMode:this.setupMode,advertiserID:this.advertiserID,partner:this.partner,is_onsite:!1,advancedMatchingAvailableProperties:{}})}},{key:"getReporterId",value:function(){return""}},{key:"getReporterPartner",value:function(){}},{key:"getReporterInfo",value:function(){return{reporter:{}}}},{key:"getReportResultSet",value:function(){return[]}},{key:"isOnsite",value:function(){return!1}},{key:"setAdvancedMatchingAvailableProperties",value:function(e){}},{key:"clearHistory",value:function(){}},{key:"page",value:function(e){}},{key:"track",value:function(e,t,n){return Promise.resolve(null)}},{key:"getUserInfo",value:function(e){return{}}},{key:"getReporterMatchedUserFormatInfo",value:function(){return{}}},{key:"getReporterMatchedUserFormatInfoV2",value:function(){return{}}},{key:"assemblyData",value:function(){return{event:"",message_id:"",event_id:"",is_onsite:!1,properties:{},context:{ad:{},device:{},library:{name:"",version:""},page:{url:""},pageview_id:"",session_id:"",variation_id:"",user:{}},partner:"",timestamp:""}}},{key:"assemblySelfHostData",value:function(){return this.assemblyData()}},{key:"trackSync",value:function(){}},{key:"getReportEventHistoryKey",value:function(e){return"tiktok"}},{key:"hasReportEventHistory",value:function(e,t){return!1}}]),e}();new ao("empty");var co=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},so=function(e){s(n,e);var t=v(n);function n(e,r){var o;return i(this,n),(o=t.call(this)).reporterInfo={},o.options={},o.plugins={},o.rules=[],o.reportEventHistory={},o.reportResultSet=[],o.selfHostConfig={},o.currentHref="",o.advancedMatchingAvailableProperties={external_id:!0},o.reportService=r,o.context=e,o}return a(n,[{key:"getParameterInfo",value:function(){var e=this;return this.getInstance().then((function(){var t=e.reporterInfo,n=t.name,r=void 0===n?"":n,i=t.status,o=void 0===i?1:i,a=t.setupMode,c=void 0===a?0:a,s=t.advertiserID,u=void 0===s?"":s,l=t.is_onsite,f=void 0!==l&&l;return{pixelCode:e.getReporterId(),name:r,status:o,setupMode:c,advertiserID:u.toString(),partner:e.getReporterPartner()||"",is_onsite:f,advancedMatchingAvailableProperties:e.advancedMatchingAvailableProperties,rules:e.rules}}))}},{key:"getInstance",value:function(){return this.pixelPromise=Promise.resolve(this)}},{key:"getReporterId",value:function(){return""}},{key:"getReporterPartner",value:function(){}},{key:"getReporterInfo",value:function(){return{pixel:{code:this.getReporterId()}}}},{key:"setAdvancedMatchingAvailableProperties",value:function(e){this.advancedMatchingAvailableProperties=Object.assign({},this.advancedMatchingAvailableProperties,e)}},{key:"isOnsite",value:function(){return!1}},{key:"getReportResultSet",value:function(){return this.reportResultSet}},{key:"getUserInfo",value:function(e){return{}}},{key:"getReporterMatchedUserFormatInfo",value:function(){return{}}},{key:"getReporterMatchedUserFormatInfoV2",value:function(){return{}}},{key:"getReportEventHistoryKey",value:function(e){return"tiktok"}},{key:"clearHistory",value:function(){this.reportEventHistory={}}},{key:"pushReport",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"tiktok";this.reportEventHistory[t]||(this.reportEventHistory[t]=[]),this.reportEventHistory[t].push(e)}},{key:"hasReportEventHistory",value:function(e,t){var n=this.getReportEventHistoryKey(t);return this.reportEventHistory[n]?!(!br.includes(e)||!this.reportEventHistory[n].includes(e)):(this.reportEventHistory[n]=[],!1)}},{key:"page",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this.context.getPageInfo();t.url!==this.currentHref&&(this.currentHref=t.url,this.track(mr,e,{}))}},{key:"track",value:function(e,t,n,r,i){var o=this,a=r||yr.TRACK,c=i||Gn.defaultReport;return!this.reportService||this.hasReportEventHistory(e,c)?Promise.resolve(null):(this.pushReport(e,this.getReportEventHistoryKey(c)),Vi(this.reportService.reportPreposition||[]).then((function(){var r=o.getReporterId(),i=o.trackSync(r,e,t,n,a,c);if(o.trackPostTask({reporterId:r,eventType:e,properties:t,eventConfig:n,type:a,reportType:c,reportData:i})&&i){var s={reporterId:r,eventType:e,properties:t,eventConfig:n,type:a,reportType:c,reportData:i};return Promise.resolve(s)}return Promise.resolve(null)})))}},{key:"getEventType",value:function(e){return e}},{key:"trackPostTask",value:function(e){return!0}},{key:"trackSync",value:function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yr.TRACK,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gn.defaultReport,a=i!==yr.SELFHOST?this.assemblyData(e,t,n,r,i):this.assemblySelfHostData(e,t,n,r,i),c=Ci(i,e);if(null!==c&&this.reportService)return this.emit("beforeReport",e,t,a,r,i),this.reportResultSet.push(this.reportService.report(c,a,o)),a}},{key:"handlePropertiesToOptions",value:function(e,t){var n={};return t.forEach((function(t){n[t]=e[t],delete e[t]})),n}},{key:"assemblyData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};arguments.length>4&&void 0!==arguments[4]||yr.TRACK;var i=this.context.getAllData(),o=i.adInfo,a=i.userInfo,c=i.appInfo,s=i.pageSign,u=i.libraryInfo,l=i.pageInfo,f=i.signalType,d=s.sessionId,h=s.pageId,p=s.variationId,v=Object.assign({},n),g=v&&v.pixelMethod||"";v&&v.pixelMethod&&delete v.pixelMethod;var _=Object.assign({},u,{version:this.context.isLegacyPixel(e)?"legacy-".concat(u.version):u.version}),y=ei(o,zn),m=Object.assign({},y,{device_id:c.device_id,uid:c.user_id}),b=this.handlePropertiesToOptions(v,[Hn.LDU,Hn.EVENTID,Hn.EVENT_ID]),E=this.options.limited_data_use,I=null!==b.limited_data_use&&void 0!==b.limited_data_use?b.limited_data_use:E;null==I?delete b.limited_data_use:b.limited_data_use=!!I;var T=r&&(r.event_id||r.eventID)||"";b.event_id=T||b.event_id||b.eventID||"",delete b.eventID;var O=this.getReporterInfo();O.pixel&&(O.pixel.runtime=Si(),g&&(O.pixel.mode=g));var S=this.getUserInfo(Kn.Manual)||{},N=this.getReporterMatchedUserFormatInfoV2();N&&(null==v?void 0:v.dynamic_parameter_config)?(N.dynamic_parameter_config=null==v?void 0:v.dynamic_parameter_config,null==v||delete v.dynamic_parameter_config):(null==v?void 0:v.dynamic_parameter_config)&&(N={dynamic_parameter_config:null==v?void 0:v.dynamic_parameter_config},null==v||delete v.dynamic_parameter_config);var A=this.getUserInfo(Kn.Auto)||{};A.auto_trigger_type&&(Object.assign(v,{auto_trigger_type:A.auto_trigger_type}),delete A.auto_trigger_type),bi()&&Object.assign(v,{android_version:c.android_version,device_model:c.device_model});var R={};a.anonymous_id&&(R.anonymous_id=a.anonymous_id);var w=this.getEventType(t),C={event:w,event_id:T,message_id:rr(nr(pr),e),is_onsite:!!f,timestamp:(new Date).toJSON(),context:Object.assign(Object.assign({ad:m,device:{platform:c.platform},user:Object.assign({},R,S,A)},O),{page:Object.assign({},l),library:Object.assign({},_),session_id:rr(d,e),pageview_id:rr(h,e),variation_id:p||""}),_inspection:N,properties:v};return Object.assign(C,b)}},{key:"assemblySelfHostData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;return this.assemblyData(e,t,n,r,i)}}]),n}(oo);so=co([C.injectable()],so);var uo=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},lo=function(){function e(t){var n=t.name,r=t.context,o=t.reporters;i(this,e),this.reporters=[],this.context=r,this.reporters=o,this.name=n}return a(e,[{key:"initStart",value:function(){}},{key:"initEnd",value:function(){}},{key:"adInfoInitStart",value:function(){}},{key:"adInfoInitEnd",value:function(){}},{key:"contextInitStart",value:function(){}},{key:"contextInitEnd",value:function(){}},{key:"pageUrlWillChange",value:function(e,t){}},{key:"pageUrlDidChange",value:function(e,t){}},{key:"pageDidLoad",value:function(){}},{key:"pageWillLeave",value:function(e){}},{key:"pixelSend",value:function(e,t,n,r,i){}},{key:"pixelDidMount",value:function(e){}}]),e}();lo=uo([C.injectable()],lo);var fo=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},ho=function(){function t(e,n,r,o){i(this,t),this.initialize=!1,this.plugins=[],this.reporters=[],this.context=e,this.adService=n,this.appService=r,this.reportService=o}return a(t,[{key:"init",value:function(){this.initContextInfo(),this.initialize=!0}},{key:"initContextInfo",value:function(){var e=this;this.dispatch(ar.INIT_START),this.dispatch(ar.CONTEXT_INIT_START);var t=(null===window||void 0===window?void 0:window.location)||{href:""};this.initAdInfo(t.href),this.initAppInfo(t.href),this.reportService.pushPreposition(Promise.resolve().then((function(){return e.initUserInfo()}))),this.initTestId(t.href),this.dispatch(ar.CONTEXT_INIT_END),this.dispatch(ar.INIT_END)}},{key:"setPageInfo",value:function(e,t){var n=this.context.getPageInfo();if(n.url!==e){this.dispatch(ar.PAGE_URL_WILL_CHANGE,n.url,e);var r=this.context.setPageInfo(e,t);r&&this.dispatch(ar.PAGE_URL_DID_CHANGE,e,r.from||"")}}},{key:"initAdInfo",value:function(t,n){var i=this;this.reportService.pushPreposition(r(e().mark((function r(){var o;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.adService.getAdInfo(t);case 3:o=e.sent,i.context.setAdInfo(o),i.initOffsiteAdInfo(o),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),n&&n(e.t0);case 11:case"end":return e.stop()}}),r,null,[[0,8]])})))())}},{key:"initOffsiteAdInfo",value:function(e){}},{key:"initAppInfo",value:function(t){var n=this;this.reportService.pushPreposition(r(e().mark((function r(){var i;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.appService.getAppInfo(t);case 2:i=e.sent,n.context.setAppInfo(i);case 4:case"end":return e.stop()}}),r)})))())}},{key:"initUserInfo",value:function(){}},{key:"initTestId",value:function(e){}},{key:"usePlugin",value:function(e){try{if(!this.plugins.find((function(t){return t.name===e.name}))){this.plugins.push(e);var t=e.name;if(t)this["".concat(t[0].toLowerCase()+t.slice(1),"Plugin")]=e}}catch(e){}}},{key:"getPlugin",value:function(e){return this.plugins.find((function(t){return t.name===e}))||null}},{key:"getReporter",value:function(e){return this.reporters.find((function(t){return t.getReporterId()===e}))}},{key:"instance",value:function(e){var t=this.getReporter(e);return t||(Ai(Ir.PIXEL_EMPTY,new Error(""),{pixelCode:e}),new ao(e))}},{key:"instances",value:function(){return this.reporters}},{key:"identify",value:function(e,t){var n=li(e,t);this.context.setUserInfo(n)}},{key:"page",value:function(e){e.url!==this.context.getPageInfo().url&&(this.setPageInfo(e.url,e.referrer),this.reporters.forEach((function(e){e.clearHistory()})));var t=Object.assign({},e);delete t.url,delete t.referrer,this.reporters.forEach((function(e){e.page(t)}))}},{key:"isOnsitePage",value:function(){return this.context.getSignalType()===or.ONSITE||this.reporters.every((function(e){return e.isOnsite()}))}},{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.pixel_code;if(void 0===r)this.instances().forEach((function(r,i){r.track(e,t,Object.assign({_i:i},n))}));else{var i=this.instance(r);if(i instanceof ao)return;i.track(e,t,n)}}},{key:"dispatch",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];this.plugins.forEach((function(t){if("function"==typeof t[e])try{t[e].apply(t,n)}catch(r){Ai(Ir.PLUGIN_ERROR,r,{extJSON:{plugin_name:t.name,cycle_name:e,data:n}})}}))}},{key:"getAllReportResultSet",value:function(){return this.instances().reduce((function(e,t){return e.concat(t.getReportResultSet())}),[])}},{key:"resetCookieExpires",value:function(){}},{key:"enableCookie",value:function(){}},{key:"disableCookie",value:function(){}}]),t}();ho=fo([C.injectable()],ho);var po,vo=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},go=function(){function t(e,n){i(this,t),this.reportPreposition=[],this.httpService=e,this.bridgeService=n}var n;return a(t,[{key:"pushPreposition",value:function(e){this.reportPreposition.push(e)}},{key:"report",value:(n=r(e().mark((function t(n,r,i){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve());case 1:case"end":return e.stop()}}),t)}))),function(e,t,r){return n.apply(this,arguments)})}]),t}();go=vo([C.injectable()],go),function(e){e[e.Live=0]="Live",e[e.NoRecord=1]="NoRecord"}(po||(po={}));var _o,yo={ID:Symbol.for("ID"),Type:Symbol.for("type"),Partner:Symbol.for("partner"),Options:Symbol.for("Options"),Plugins:Symbol.for("Plugins"),Rules:Symbol.for("Rules"),Info:Symbol.for("Info"),ExtraParams:Symbol.for("extraParams"),WebLibraryInfo:Symbol.for("WebLibraryInfo"),SignalType:Symbol.for("SignalType"),IsOnsitePage:Symbol.for("IsOnsitePage")};!function(e){e.BIND="bind",e.REBIND="rebind"}(_o||(_o={}));var mo={ViewForm:"ViewContent",ViewConsultationPage:"ViewContent",ViewDownloadPage:"ViewContent",Checkout:"PlaceAnOrder",Purchase:"CompletePayment",Registration:"CompleteRegistration",AddBilling:"AddPaymentInfo",StartCheckout:"InitiateCheckout",ClickInDownloadPage:"ClickButton",ClickInConsultationPage:"ClickButton",ClickForm:"ClickButton",ClickToDownload:"Download",Consult:"Contact",ConsultByPhone:"Contact"},bo=function(){var e=Vr();return"object"===t(e)&&e._i?e._i:{}},Eo=function(e,t){var n=bo()||{};Object.keys(n).forEach((function(r){var i=n[r];i._init||i.push([e].concat(t))}))},Io=function(e,t,n){var r=(bo()||{})[e];if(r){if(r._init)return;r.push([t].concat(n))}};function To(e,t){var n=history[e];return function(){var e=Array.prototype.slice.call(arguments);n.apply(history,e),t()}}var Oo,So=function(e){var t;return e.context.ad={},Object.keys((null===(t=null==e?void 0:e.context)||void 0===t?void 0:t.user)||{}).forEach((function(t){e.context.user[t]=""})),e},No=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Ao=function(e,t){return function(n,r){t(n,r,e)}};!function(e){e.PIXEL_CODE="pixelCode",e.EVENT_SOURCE_ID="eventSourceId",e.SHOP_ID="shopId"}(Oo||(Oo={}));var Ro=function(e){s(r,e);var n=v(r);function r(e,t,o,a,s,u,l,f,d,h){var p;return i(this,r),(p=n.call(this,a,l)).ttp="",p.id=e,p.type=t,p.isOnsitePage=o,p.options=h||{},p.plugins=f||{},p.rules=d||[],p.reporterInfo=Object.assign(s||{},c({},t,e)),p.ttp=u.ttp||"",p.currency_list=u.currency_list||null,p.ttqPartner=u.partner||"",p.selfHostConfig=u.self_host_config||{},p.pixelPromise=p.getInstance(),p}return a(r,[{key:"identify",value:function(e,t){var n=li(e,t);this.context.setUserInfo(n)}},{key:"getReporterId",value:function(){return this.id||""}},{key:"getReporterPartner",value:function(){var e;return(null===(e=this.reporterInfo)||void 0===e?void 0:e.partner)||""}},{key:"setPixelInfo",value:function(e,t,n){var r=this.type;this.reporterInfo=Object.assign(this.reporterInfo,Object.assign({},e),c({},r,this.getReporterId())),t&&(this.rules=t),n&&(this.plugins=n)}},{key:"getInstance",value:function(){var e=this;if(this.pixelPromise)return this.pixelPromise;var t=function(e){return bo()[e]||{}}(this.id);return Wr()||t&&t.info?this.pixelPromise=Promise.resolve(this):(this.pixelPromise=new Promise((function(t,n){var r,i;Gi((r=e.id,i=location&&location.hostname,"".concat("https://analytics.tiktok.com/i18n/pixel/config.js","?sdkid=").concat(r,"&hostname=").concat(i))).then((function(){t(e)})).catch((function(t){e.pixelPromise=null,n(t)}))})),this.pixelPromise)}},{key:"getReporterInfo",value:function(){return this.reporterInfo.pixelCode?_(u(r.prototype),"getReporterInfo",this).call(this):{shop_id:this.reporterInfo.shopId,eventSourceId:this.reporterInfo.eventSourceId}}},{key:"getUserInfo",value:function(e){var t=this.context.getUserInfo(),n=ti(t,Object.assign({},this.advancedMatchingAvailableProperties));switch(e){case Kn.Manual:var r=this.getReporterPartner();return ti(r&&"None"!==r?n:t,{external_id:!0,email:!0,phone_number:!0});case Kn.Auto:var i=ti(n,{external_id:!0,auto_email:!0,auto_phone_number:!0});return Object.assign(i,(i.auto_email||i.auto_phone_number)&&t.auto_trigger_type?{auto_trigger_type:t.auto_trigger_type}:{});default:return n}}},{key:"getReporterMatchedUserFormatInfo",value:function(){var e=this.context.getUserFormatInfo(),t=this.getReporterPartner(),n=function(e,t){var n={identity_params:{}};return 0===Object.keys(e).length?{}:(Object.entries(t).forEach((function(t){var r=y(t,2),i=r[0];if(r[1])if(e[i]&&e[i].length){var o=e[i]||[Jn.EMPTY_VALUE];n.identity_params[i]=b(o)}else n.identity_params[i]=[Jn.EMPTY_VALUE]})),n)}(e,t&&"None"!==t?this.advancedMatchingAvailableProperties:{external_id:!0,email:!0,phone_number:!0}),r=ti(e,{auto_email:!0,auto_phone_number:!0});return Object.keys(r).length>0&&(n.identity_params||(n.identity_params={}),Object.assign(n.identity_params,r)),n}},{key:"getReporterMatchedUserFormatInfoV2",value:function(){var e=this.context.getUserFormatInfoV2(),t=this.getReporterPartner();return function(e,t){if(0===Object.keys(e).length)return{};var n={identity_params:{}},r={email:["email_is_hashed","sha256_email"],phone_number:["phone_is_hashed","sha256_phone"]};return Object.entries(t).forEach((function(t){var i=y(t,2),o=i[0];i[1]&&r[o]&&r[o].forEach((function(t){if(n.identity_params[t]=[Jn.EMPTY_VALUE],e[t]){var r=e[t]||[Jn.EMPTY_VALUE];n.identity_params&&(n.identity_params[t]=b(r))}}))})),n}(e,t&&"None"!==t?this.advancedMatchingAvailableProperties:{external_id:!0,email:!0,phone_number:!0})}},{key:"isOnsite",value:function(){var e;return!!(null===(e=this.reporterInfo)||void 0===e?void 0:e.is_onsite)}},{key:"isNonPartner",value:function(){var e=this.reporterInfo.partner;return!e||"None"===e}},{key:"getSignalDiagnosticLabels",value:function(){var e=this.context.getSignalDiagnosticLabels();if(!e)return Object.assign({},er);var t=this.advancedMatchingAvailableProperties,n=t.email,r=t.phone_number,i=this.advancedMatchingAvailableProperties,o=i.auto_email,a=i.auto_phone_number;n=!!this.isNonPartner()||n,r=!!this.isNonPartner()||r;var c=ti(e,{raw_email:n,raw_phone:r,hashed_email:n,hashed_phone:r,raw_auto_email:o,raw_auto_phone:a});return Object.assign({},er,c)}},{key:"assemblyData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yr.TRACK,a=_(u(r.prototype),"assemblyData",this).call(this,e,t,n,i,o);a.is_onsite=this.isOnsitePage.value;var c=this.ttqPartner;c&&(a.partner=c),a.signal_diagnostic_labels=this.getSignalDiagnosticLabels();var s=Kr();s&&(a.context.userAgent=s);var l=Bi();return l&&(a.context.page.load_progress=l),a.context.ad.sdk_env=pi(),a.context.ad.jsb_status=Oi(),o!==yr.INTERACTION&&o!==yr.PERFORMANCE&&o!==yr.PERFORMANCE_INTERACTION||!1!==this.context.getEnableAdTracking()||this.isOnsitePage.value||(a.context.user={},a.context.ad=this.context.getOffsiteAdInfo(),a.context.ad=ei(a.context.ad,zn)),a}},{key:"track",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:yr.TRACK,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Gn.defaultReport;return this.getInstance().then((function(){var c=t.getReporterId();if(Or.includes(e))return _(u(r.prototype),"track",t).call(t,e,n,i,o,a);var s=Object.assign({},i);return t.selfHostConfig[c]&&!i.eventID&&(s=Object.assign({},s,{eventID:rr(nr(_r),c)})),_(u(r.prototype),"track",t).call(t,e,n,s,o,a)}))}},{key:"getEventType",value:function(e){return mo[e]||e}},{key:"trackSync",value:function(e,n){var i,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:yr.TRACK,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Gn.defaultReport;if("track"===c&&Ni(Ir.PIXEL_SEND,{pixelCode:e,extJSON:{event:n}}),c===yr.TRACK){o&&"string"==typeof o.currency&&(o.currency=o.currency.toUpperCase());var l=this.context.getTestID();if(l){var f=this.assemblyData(e,n,o,a);f.tt_test_id=l;var d=So(f);return null===(i=null==this?void 0:this.reportService)||void 0===i||i.report(Nr,d,Gn.httpReport),d}if(o&&"object"===t(o)){var h=o.value,p=o.currency;void 0===h||Ki(h)||Ni(Ir.CUSTOM_ERROR,{pixelCode:e,custom_name:"invalid_value",extJSON:{event:n,value:h,currency:p}}),void 0===p||Wi(p,this.currency_list)||Ni(Ir.CUSTOM_ERROR,{pixelCode:e,custom_name:"invalid_currency",extJSON:{event:n,value:h,currency:p}})}return _(u(r.prototype),"trackSync",this).call(this,e,n,o,a,c,s)}_(u(r.prototype),"trackSync",this).call(this,e,n,o,a,c,s)}},{key:"trackPostTask",value:function(e){var t=e.reporterId,n=e.eventType,r=e.properties,i=e.eventConfig;return!Or.includes(n)&&(this.selfHostConfig[t]&&!this.hasReportEventHistory(n,Gn.htmlHttpReport)&&(this.pushReport(n,this.getReportEventHistoryKey(Gn.htmlHttpReport)),this.trackSync(t,n,r,i,yr.SELFHOST,Gn.htmlHttpReport)),!0)}},{key:"getReportEventHistoryKey",value:function(e){return e===Gn.htmlHttpReport?this.selfHostConfig[this.getReporterId()]:"tiktok"}},{key:"assemblySelfHostData",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0,o=this.assemblyData(e,t,n,r,i),a=this.ttp;return a&&(o.context.user.ttp=a),o}}]),r}(so),wo=function(e){s(n,e);var t=v(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"track",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Io(this.getReporterId(),"track",[e,t,n]),Promise.resolve(null)}}]),n}(Ro=No([C.injectable(),Ao(0,C.inject(yo.ID)),Ao(1,C.inject(yo.Type)),Ao(2,C.inject(yo.IsOnsitePage)),Ao(3,C.inject(Er.CONTEXT)),Ao(4,C.inject(yo.Info)),Ao(5,C.inject(Er.TTQ_GLOBAL_OPTIONS)),Ao(6,C.inject(Er.REPORT_SERVICE)),Ao(6,C.optional()),Ao(7,C.inject(yo.Plugins)),Ao(7,C.optional()),Ao(8,C.inject(yo.Rules)),Ao(8,C.optional()),Ao(9,C.inject(yo.Options)),Ao(9,C.optional())],Ro)),Co=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Po=function(e,t){return function(n,r){t(n,r,e)}},ko=function(t){s(c,t);var n,o=v(c);function c(e,t,n,r,a,s,u,l,f,d,h,p,v,g,_,y,m,b,E){var I;return i(this,c),(I=o.call(this,e,n,r,a)).env=l,I.reporters=t,I.cookieService=s,I.consentService=u,I.autoAdvancedMatchingPlugin=d,I.callbackPlugin=h,I.identifyPlugin=p,I.monitorPlugin=f,I.performanceInteractionPlugin=v,I.webFLPlugin=g,I.shopifyPlugin=_,I.autoConfigPlugin=y,I.diagnosticsConsolePlugin=m,I.competitorInsightPlugin=b,I.pangleCookieMatchingPlugin=E,I.autoAdvancedMatchingPlugin&&I.usePlugin(I.autoAdvancedMatchingPlugin),I.callbackPlugin&&I.usePlugin(I.callbackPlugin),I.identifyPlugin&&I.usePlugin(I.identifyPlugin),I.monitorPlugin&&I.usePlugin(I.monitorPlugin),I.performanceInteractionPlugin&&I.usePlugin(I.performanceInteractionPlugin),I.webFLPlugin&&I.usePlugin(I.webFLPlugin),I.shopifyPlugin&&I.usePlugin(I.shopifyPlugin),I.autoConfigPlugin&&I.usePlugin(I.autoConfigPlugin),I.diagnosticsConsolePlugin&&I.usePlugin(I.diagnosticsConsolePlugin),I.competitorInsightPlugin&&I.usePlugin(I.competitorInsightPlugin),I.pangleCookieMatchingPlugin&&I.usePlugin(I.pangleCookieMatchingPlugin),I.onPageLoaded(),I.onPageLeave(),I.init(),I.initExtension(),I.setPageInfo(location.href,document.referrer),I}return a(c,[{key:"initExtension",value:function(){this.listenSPAHistoryChange()}},{key:"initAdInfo",value:function(e){var t=Pi(ur);this.dispatch(ar.BEFORE_AD_INFO_INIT_START),t?this.initAdCache(t):this.initBaseAdInfo(e)}},{key:"initAdCache",value:function(e){this.dispatch(ar.AD_INFO_INIT_START),e.ad_info_from="cache",e.ad_info_status="fulfilled(cache)",this.setAdInfo(e),this.initOffsiteAdInfo(e)}},{key:"initBaseAdInfo",value:function(e){this.adService.webBridgeService.jsbridge&&this.dispatch(ar.AD_INFO_INIT_START),_(u(c.prototype),"initAdInfo",this).call(this,e,(function(e){Ai(Ir.INIT_ERROR,e,{extJSON:{position:"initAdInfo"}})}))}},{key:"initOffsiteAdInfo",value:function(e){var t=function(e,t){var n={};try{var r=e.creative_id,i=(e.callback,e.idc),o=e.convert_id,a=e.ad_info_from,c=e.ad_info_status,s=e.log_extra,u=e.ext_params,l=e.ATTStatus;if(r&&(n.creative_id=r),i&&(n.idc=i),o&&(n.convert_id=o),a&&(n.ad_info_from=a),c&&(n.ad_info_status=c),u&&(n.ext_params=u),l&&(n.ATTStatus=l),s){var f=JSON.parse(s),d=f.ad_user_agent,h=f.ad_id,p=f.rit,v=f.ocbs,g=f.vid,_=f.idc,y=f.country_id;h&&(n.ad_id=h),p&&(n.rit=p),d&&(n.ad_user_agent=d),v&&(n.ocbs=v),g&&(n.vid=g),_&&(n.idc=_),y&&(n.country_id=y)}return n}catch(e){return t&&t(e),n}}(e,(function(e){Ai(Ir.INIT_ERROR,e,{extJSON:{position:"handleAdInfoOfficial"}})}));this.context.setOffsiteAdInfo(t);var n=function(e,t){try{var n=e.log_extra,r=e.ttuts;return!Ei()||(_i(t)?n?1!==JSON.parse(n).user_tracking_status:null===e.ATTStatus||void 0===e.ATTStatus||3===e.ATTStatus:null==r||1!==r)}catch(e){return!1}}(e,this.env);this.context.setEnableAdTracking(n),this.dispatch(ar.AD_INFO_INIT_END,{extJSON:{enabledAdTracking:n}})}},{key:"initAppInfo",value:function(t){var n=this,i=Pi(lr);i?this.context.setAppInfo(i):this.reportService.pushPreposition(r(e().mark((function r(){var i;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.initBaseAppInfo(t);case 2:return i=e.sent,e.abrupt("return",i);case 4:case"end":return e.stop()}}),r)})))())}},{key:"initBaseAppInfo",value:(n=r(e().mark((function t(n){var r;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.appService.getAppInfo(n);case 2:return r=e.sent,this.context.setAppInfo(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),t,this)}))),function(e){return n.apply(this,arguments)})},{key:"initTestId",value:function(e){if(!this.context.getTestID()){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";try{var n=Di("tt_test_id",e);return n&&n!==t&&Fi("tt_test_id",n,void 0,"session"),n||t}catch(e){return""}}(e,ji("tt_test_id"));this.context.setTestID(t)}}},{key:"initUserInfo",value:function(){this.setCookieInfo()}},{key:"instance",value:function(e){var t=this.getReporter(e);return t||new wo(e,Oo.PIXEL_CODE,{value:!1},this.context,{pixelCode:e},{})}},{key:"instances",value:function(){return this.reporters}},{key:"page",value:function(e){_(u(c.prototype),"page",this).call(this,Object.assign({url:(null==e?void 0:e.page)||location.href,referrer:(null==e?void 0:e.referrer)||document.referrer},e))}},{key:"setAdInfo",value:function(e){this.context.setAdInfo(e)}},{key:"enableFirstPartyCookie",value:function(e){this.cookieService.enableFirstPartyCookie(e),e&&this.setCookieInfo()}},{key:"enableCookie",value:function(){this.cookieService.enableFirstPartyCookie(!0),this.setCookieInfo(),this.cookieService.enableCookie()}},{key:"disableCookie",value:function(){this.cookieService.disableCookie(),this.context.setUserInfoWithoutIdentifyPlugin({anonymous_id:void 0}),this.disablePangleCookie()}},{key:"holdConsent",value:function(){this.consentService.setConsentMode(Zn.HOLD)}},{key:"revokeConsent",value:function(){this.consentService.setConsentMode(Zn.REVOKE)}},{key:"grantConsent",value:function(){this.consentService.setConsentMode(Zn.GRANT)}},{key:"disablePangleCookie",value:function(){this.pangleCookieMatchingPlugin&&this.pangleCookieMatchingPlugin.disablePangleCookie()}},{key:"setAnonymousId",value:function(e){this.cookieService.setAnonymousId(e),this.initUserInfo()}},{key:"resetCookieExpires",value:function(){this.cookieService.resetExpires()}},{key:"setCookieInfo",value:function(){if(this.cookieService.canUseCookie()){var e=this.cookieService.getAnonymousId();if(e){var t={anonymous_id:e};this.context.setUserInfoWithoutIdentifyPlugin(t)}}}},{key:"onPageLoaded",value:function(){var e=this;window.addEventListener("load",(function(){e.dispatch(ar.PAGE_DID_LOAD)}),{once:!0})}},{key:"onPageLeave",value:function(){var e=this,t=function(){var t=Date.now();e.dispatch(ar.PAGE_WILL_LEAVE,t),e.consentService.updateCache()};window.addEventListener("beforeunload",t,{once:!0}),Ei()&&window.addEventListener("onpagehide"in window?"pagehide":"unload",t)}},{key:"listenSPAHistoryChange",value:function(){var e=this,t=this.context.getPageInfo().url,n=function(n){location.href!==t&&e.reporters&&e.reporters.length>0&&Ni(Ir.CUSTOM_INFO,{pixelCode:e.reporters[0].id,custom_name:"history_change",custom_enum:String(e.reporters.length)})};window.addEventListener("popstate",n),history.pushState=To("pushState",n),history.replaceState=To("replaceState",n)}},{key:"loadPixel",value:function(e,t){e&&(this.reporters.find((function(t){return t.getReporterId()===e}))?Ri(Tr.DUPLICATE_PIXEL_CODE):Vr().load(e,t||{}))}}]),c}(ho),Mo=ko=Co([C.injectable(),Po(0,C.inject(Er.CONTEXT)),Po(1,C.inject(Er.TTQ_REPORTERS)),Po(2,C.inject(Er.AD_SERVICE)),Po(3,C.inject(Er.APP_SERVICE)),Po(4,C.inject(Er.REPORT_SERVICE)),Po(5,C.inject(Er.COOKIE_SERVICE)),Po(6,C.inject(Er.CONSENT_SERVICE)),Po(7,C.inject(Er.ENV)),Po(8,C.inject(Er.MONITOR_PLUGIN)),Po(8,C.optional()),Po(9,C.inject(Er.AUTO_ADVANCED_MATCHING_PLUGIN)),Po(9,C.optional()),Po(10,C.inject(Er.CALLBACK_PLUGIN)),Po(10,C.optional()),Po(11,C.inject(Er.IDENTIFY_PLUGIN)),Po(11,C.optional()),Po(12,C.inject(Er.PERFORMANCE_INTERACTION_PLUGIN)),Po(12,C.optional()),Po(13,C.inject(Er.WEB_FL_PLUGIN)),Po(13,C.optional()),Po(14,C.inject(Er.SHOPIFY_PLUGIN)),Po(14,C.optional()),Po(15,C.inject(Er.AUTO_CONFIG_PLUGIN)),Po(15,C.optional()),Po(16,C.inject(Er.DIAGNOSTICS_CONSOLE_PLUGIN)),Po(16,C.optional()),Po(17,C.inject(Er.COMPETITOR_INSIGHT_PLUGIN)),Po(17,C.optional()),Po(18,C.inject(Er.PANGLE_COOKIE_MATCHING_PLUGIN)),Po(18,C.optional())],ko);function Do(){!function(){if(/function bind\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Function.prototype.bind.toString()))return!0;function e(){}return new(e.bind.apply(e,[void 0,1]))instanceof e}()?Function.prototype._ttq_bind||(Function.prototype._ttq_bind=function(e){if("function"!=typeof this)throw new TypeError("What is being called by bind is not a function.");var t=e||window,n=Array.prototype.slice.call(arguments).slice(1),r=Symbol("key");return t[r]=this,function e(){return this instanceof e?d(t[r],b(n).concat(Array.prototype.slice.call(arguments))):t[r].apply(t,b(n).concat(Array.prototype.slice.call(arguments)))}}):Function.prototype._ttq_bind=Function.prototype.bind}!function(){var t=Gr();function n(e){return null===e?"NULL":void 0===e?"UNDEFINED":"[object Object]"===Object.prototype.toString.call(e)||"[object Array]"===Object.prototype.toString.call(e)?JSON.stringify(e):e.toString()}/function Map\(\) \{[\s\S]*\[native code\][\s\S]*\}/.test(Map.toString())?window[t]._ttq_map=Map:window[t]._ttq_map||(window[t]._ttq_map=function(){this.items={},this.size=0},window[t]._ttq_map.prototype.set=function(e,t){return this.has(e)||(this.items[n(e)]=t,this.size++),this},window[t]._ttq_map.prototype.get=function(e){return this.items[n(e)]},window[t]._ttq_map.prototype.has=function(e){return void 0!==this.items[n(e)]},window[t]._ttq_map.prototype.delete=function(e){return this.has(e)&&(delete this.items[n(e)],this.size--),this},window[t]._ttq_map.prototype.clear=function(){this.items={},this.size=0},window[t]._ttq_map.prototype.keys=function(){var t=e().mark(i),n=[];for(var r in this.items)this.has(r)&&n.push(r);function i(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(n,"t0",1);case 1:case"end":return e.stop()}}),t)}return i()},window[t]._ttq_map.prototype.values=function(){var t=e().mark(i),n=[];for(var r in this.items)this.has(r)&&n.push(this.items[r]);function i(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(n,"t0",1);case 1:case"end":return e.stop()}}),t)}return i()})}();var Lo=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},jo=function(e,t){return function(n,r){t(n,r,e)}},xo=function(e){s(n,e);var t=v(n);function n(e,r,o,a,c){var s;return i(this,n),(s=t.call(this,e)).setSignalType(c||or.OFFSITE),s.pageSign={sessionId:"",pageId:"",variationId:"",index:-1},s.legacy=o.legacy||[],s.variationId=o.variation_id||"",s.serverUniqueId=o.server_unqiue_id||"",s.reportService=r,s.initPageSign(),_i(a)&&Ei()&&(s.enableAdTracking=!1),s.data=h(s),s}return a(n,[{key:"getSessionIdFromCache",value:function(){var e=null;try{e=JSON.parse(sessionStorage.getItem(vr)||"")}catch(e){}return e}},{key:"setSessionIdToCache",value:function(e){ki(vr,e)}},{key:"getVariationId",value:function(){return this.variationId}},{key:"isLegacyPixel",value:function(e){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];try{return t.includes(e)}catch(e){return!1}}(e,this.legacy)}},{key:"assignPageInfo",value:function(e){Object.assign(this.pageInfo,e)}},{key:"getSessionIndex",value:function(){try{var e=JSON.parse(sessionStorage.getItem(gr)||"");if(e)return e.index}catch(e){}return-1}},{key:"setUserInfo",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!==Object.keys(t).length){var n={};Object.entries(t).forEach((function(t){var r=y(t,2),i=r[0],o=r[1];o&&(i!==Br?n[i]=String(o).trim():e.setUserInfoWithoutIdentifyPlugin(c({},Br,o)))}));var r=Vr(),i=null==r?void 0:r.getPlugin("Identify");i&&this.reportService.pushPreposition(i.handleUserProperties(n,t).then((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.userProperties,o=t.userDataFormat,a=t.userDataFormatV2;if(r){Object.assign(e.userInfo,r);var c=e.getUserFormatInfo()||{},s=e.getUserFormatInfoV2()||{},u=e.getSignalDiagnosticLabels()||{};if(e.setUserFormatInfo(Object.assign({},c,o)),e.setUserFormatInfoV2(Object.assign({},s,a)),e.setSignalDiagnosticLabels(Object.assign({},u,t.identifierLabel||{})),0===Object.keys(e.userInfo).length||1===Object.keys(n).length&&Object.keys(n).includes("external_id"))return;var l=i.reporters[0]||null,f=l?Object.keys(Object.assign({},l.getUserInfo(Kn.Manual),l.getUserInfo(Kn.Auto))):[];l&&f.length&&l.track("EnrichAM",{},{},yr.TRACK)}})).catch((function(e){Ai(Ir.API_ERROR,e,{extJSON:{api:"identify"}})})))}}},{key:"initPageSign",value:function(){var e,t=this.getSessionIdFromCache();null===t&&(t=(e=this.serverUniqueId)?"".concat(e,"::").concat($r(20)):nr("sessionId"),this.setSessionIdToCache(t));var n=this.getPageId(),r=this.getVariationId(),i=this.getSessionIndex();this.pageSign={sessionId:t,pageId:n,variationId:r,index:i}}}]),n}(ro);xo=Lo([C.injectable(),jo(0,C.inject(yo.WebLibraryInfo)),jo(1,C.inject(Er.REPORT_SERVICE)),jo(2,C.inject(Er.TTQ_GLOBAL_OPTIONS)),jo(3,C.inject(Er.ENV)),jo(3,C.optional()),jo(4,C.inject(yo.SignalType)),jo(4,C.optional())],xo);var Uo=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Fo=function(e,t){return function(n,r){t(n,r,e)}},Bo=function(){function t(e){i(this,t),this.webBridgeService=e}var n;return a(t,[{key:"getAdInfo",value:(n=r(e().mark((function t(){var n,r,i,o,a=arguments;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=a.length>0&&void 0!==a[0]?a[0]:window.location.href,r=this.getAdInfoFromURL(n),!this.webBridgeService.jsbridge){e.next=8;break}return e.next=5,this.webBridgeService.getAdInfo();case 5:e.t0=e.sent,e.next=9;break;case 8:e.t0={};case 9:return i=e.t0,(o=Object.assign({},r,i))&&(o.creative_id&&o.log_extra||o.callback)&&ki(ur,o),e.abrupt("return",o);case 13:case"end":return e.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{key:"getAdInfoFromURL",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.location.href;try{var t=Di(Pr,e)||void 0,n=Di(kr,e)||void 0,r=Di(Mr,e)||void 0,i=parseInt(Di(Dr,e),10)||void 0,o=r?JSON.parse(r):{},a=o.log_extra,c=void 0===a?void 0:a,s=o.idc,u=void 0===s?void 0:s,l=o.cid,f=void 0===l?void 0:l;return{callback:t,ext_params:n,log_extra:c,creative_id:f,idc:u,ttuts:i,ad_info_from:(c||u||f)&&"url"}}catch(e){return{}}}}]),t}();Bo=Uo([C.injectable(),Fo(0,C.inject(Er.BRIDGE_SERVICE))],Bo);var Ho=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Go=function(e,t){return function(n,r){t(n,r,e)}},Vo=function(){function t(e){i(this,t),this.webBridgeService=e}var n;return a(t,[{key:"getAppInfo",value:(n=r(e().mark((function t(n){var r,i,o,a,c;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n||window.location.href,(i=this.getAppInfoFromURL(r)).platform=yi(),!bi()){e.next=11;break}return e.next=6,mi();case 6:o=e.sent,a=o.model,c=o.platformVersion,i.device_model=a,i.android_version=c;case 11:return t=i,"{}"!==JSON.stringify(t)&&ki(lr,i),e.abrupt("return",i);case 13:case"end":return e.stop()}var t}),t,this)}))),function(e){return n.apply(this,arguments)})},{key:"getAppInfoFromURL",value:function(e){try{var t=Di(Mr,e||window.location.href),n=t&&JSON.parse(t);return{device_id:n.device_id,user_id:n.uid}}catch(e){return{}}}}]),t}();Vo=Ho([C.injectable(),Go(0,C.inject(Er.BRIDGE_SERVICE))],Vo);var Jo="ad_analytics_msg",Wo="insight_log",Ko=function(e){return t=JSON.stringify(e),Zi(t);var t},qo=function(e){return Boolean(e)},Yo=function(e){return!!(e.code&&e.data&&e.ret)};function Xo(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n={};try{if("string"==typeof e)n.data=JSON.parse(e);else if(Yo(e))(n=e).__data&&(n.data=n.__data);else if(void 0!==e.code){var r=Object.assign({},e),i=r.code;n.code=i,delete r.code,r.data?n.data=r.data:n.data=r}else n.data=e}catch(e){t&&Ai(Ir.JSB_ERROR,e,{extJSON:{position:"getCallPromise bridge.call"}})}return n}var Qo,zo=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Zo=function(e,t){return function(n,r){t(n,r,e)}},$o=function(){function t(e,n){i(this,t),this.env=e,gi(this.env)&&(this.jsbridge=n),this.bridgeTimeout=400}var n,o,c,s,u,l,f;return a(t,[{key:"getAdInfo",value:(f=r(e().mark((function t(){var n=this;return e().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.jsbridge){t.next=3;break}return Ai(Ir.JSB_ERROR,new Error("tt bridge error when getting ad info"),{extJSON:{position:"getAdInfo"}}),t.abrupt("return",Promise.resolve({}));case 3:return t.abrupt("return",new Promise(function(){var t=r(e().mark((function t(r){var i;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.callAdInfo();case 3:(i=e.sent).ad_info_from="jsb",i.ad_info_status=i.ad_info_status||"fulfilled",r(i),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),r({}),Ai(Ir.JSB_ERROR,e.t0,{extJSON:{position:"getAdInfo"}});case 13:case"end":return e.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()));case 4:case"end":return t.stop()}}),t,this)}))),function(){return f.apply(this,arguments)})},{key:"callAdInfo",value:(l=r(e().mark((function t(){var n,r;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.call("adInfo",{},window.top!==window?3500:5e3);case 3:if((n=e.sent).data){e.next=6;break}return e.abrupt("return",Promise.reject("adInfo no data"));case 6:return r={creative_id:n.data.cid,log_extra:n.data.log_extra},e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),"JSBRIDGE TIMEOUT"!==e.t0){e.next=17;break}return Ni(Ir.CUSTOM_INFO,{custom_name:"ad_info_init_timeout"}),e.abrupt("return",{ad_info_status:"timeout"});case 17:return Ai(Ir.JSB_ERROR,e.t0,{extJSON:{position:"getAdInfo"}}),e.abrupt("return",{});case 19:case"end":return e.stop()}}),t,this,[[0,10]])}))),function(){return l.apply(this,arguments)})},{key:"getAppInfo",value:(u=r(e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Promise.resolve({}));case 1:case"end":return e.stop()}}),t)}))),function(){return u.apply(this,arguments)})},{key:"send",value:(s=r(e().mark((function t(n,r){var i,o,a,c,s,u,l,f;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.jsbridge){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:if(a=(null===(o=null===(i=null==n?void 0:n.context)||void 0===i?void 0:i.ad)||void 0===o?void 0:o.creative_id)||"0",c=Ko(n),s={analytics_message:c,trackLogData:JSON.stringify(n),category:"ad_analytics_msg",tag:Jo,label:Wo},!_i(this.env)){e.next=13;break}if(!Ei()||!r){e.next=9;break}return u={eventName:Wo,params:s},e.abrupt("return",this.call("sendLogWithAdInfo",u,this.bridgeTimeout));case 9:return l={eventName:Jo,labelName:Wo,value:a,extValue:"0",extJson:s},e.abrupt("return",this.call("sendLog",l,this.bridgeTimeout));case 13:return f={event_name:Wo,version:2,properties:s},e.abrupt("return",this.call("track_event",f,400));case 15:case"end":return e.stop()}}),t,this)}))),function(e,t){return s.apply(this,arguments)})},{key:"call",value:(c=r(e().mark((function t(n){var r,i,o,a=this,c=arguments;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>1&&void 0!==c[1]?c[1]:{},i=c.length>2&&void 0!==c[2]?c[2]:400,o=!(c.length>3&&void 0!==c[3])||c[3],e.abrupt("return",new Promise((function(e,t){if(!a.jsbridge)return t("JSBRIDGE ERROR"),void(o&&Ai(Ir.JSB_ERROR,new Error("JSBRIDGE ERROR"),{extJSON:{position:"getCallPromise"}}));var c;i>0&&(c=window.setTimeout((function(){t("JSBRIDGE TIMEOUT"),o&&Ai(Ir.JSB_ERROR,new Error("JSBRIDGE TIMEOUT"),{extJSON:{position:"getCallPromise",method:n}})}),i)),a.jsbridge&&a.jsbridge.call&&a.jsbridge.call(n,r,(function(t){var n=Xo(t,o);e(n),window.clearTimeout(c)}))})));case 4:case"end":return e.stop()}}),t)}))),function(e){return c.apply(this,arguments)})},{key:"sendAnalyticsEvent",value:(o=r(e().mark((function t(n){var r,i,o,a,c;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.method,i=n.path,o=n.params,a=n.data,e.next=3,this.call("sendAnalyticsEvent",{method:r,path:i,params:o,data:a,header:{"Content-Type":"application/json"}},0,!1);case 3:return c=e.sent,e.abrupt("return",null==c?void 0:c.code);case 5:case"end":return e.stop()}}),t,this)}))),function(e){return o.apply(this,arguments)})},{key:"updateWebFlData",value:(n=r(e().mark((function t(n){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!_i(this.env)||!Ei()){e.next=2;break}return e.abrupt("return",this.call("updateFLLocalConv",n,this.bridgeTimeout));case 2:case"end":return e.stop()}}),t,this)}))),function(e){return n.apply(this,arguments)})}]),t}();$o=zo([C.injectable(),Zo(0,C.inject(Er.ENV)),Zo(0,C.optional()),Zo(1,C.inject(Er.JS_BRIDGE)),Zo(1,C.optional())],$o),function(e){e[e.P0=4]="P0",e[e.P1=3]="P1",e[e.P2=2]="P2",e[e.P3=1]="P3"}(Qo||(Qo={}));var ea=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},ta="tt_hold_events",na=function(e){s(n,e);var t=v(n);function n(){var e;return i(this,n),(e=t.apply(this,arguments)).consentMode=Zn.UNKNOWN,e.queue=[],e.debounceUpdateCache=ni((function(){e.updateCache()}),200,h(e)),e.handleHistoryQueue=Zr((function(){var t=Pi(ta);Array.isArray(t)&&(e.queue=e.queue.concat(t),e.changeQueueWithConsent())})),e}return a(n,[{key:"on",value:function(e,t){_(u(n.prototype),"on",this).call(this,e,t),this.handleHistoryQueue()}},{key:"setConsentMode",value:function(e){this.consentMode=e,this.changeQueueWithConsent()}},{key:"changeQueueWithConsent",value:function(){switch(this.consentMode){case Zn.REVOKE:this.cleanQueue();break;case Zn.GRANT:this.releaseQueue(),this.cleanQueue();case Zn.HOLD:case Zn.UNKNOWN:}}},{key:"getConsentMode",value:function(){return this.consentMode}},{key:"cacheReportTask",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Gn.defaultReport;this.queue.push({url:e,data:t,type:n}),this.debounceUpdateCache()}},{key:"cleanQueue",value:function(){this.queue=[],function(e){try{window.sessionStorage.removeItem(e)}catch(e){}}(ta)}},{key:"updateCache",value:function(){this.queue&&this.queue.length>0&&ki(ta,this.queue)}},{key:"releaseQueue",value:function(){var e=this;this.queue.sort((function(t,n){return e.getEventPriority(n.data)-e.getEventPriority(t.data)})),this.emit("queue",this.queue)}},{key:"getEventPriority",value:function(e){return e.event&&e.event.length>0?Qo.P0:e.action&&e.action.length>0?Qo.P1:""===e.event?Qo.P2:Qo.P3}}]),n}(oo);na=ea([C.injectable()],na);var ra=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},ia=function(){function t(){i(this,t)}var n;return a(t,[{key:"send",value:(n=r(e().mark((function t(n,r){var i,o,a=arguments;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>2&&void 0!==a[2]?a[2]:0,e.prev=1,navigator&&navigator.sendBeacon){e.next=4;break}return e.abrupt("return",!1);case 4:if((o=navigator.sendBeacon(n,JSON.stringify(r)))||"number"!=typeof i||!(i>0)){e.next=10;break}return i--,e.next=9,ri(200);case 9:return e.abrupt("return",this.send(n,r,i));case 10:return e.abrupt("return",o);case 13:return e.prev=13,e.t0=e.catch(1),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),t,this,[[1,13]])}))),function(e,t){return n.apply(this,arguments)})},{key:"sendByImage",value:function(e,t){(new Image).src=function(e,t){var n=new URL(e);return Object.keys(t).forEach((function(e){var r=t[e].toJSON?t[e].toJSON():String(t[e]);n.searchParams.set(e,r)})),n.toString()}(e,t)}}]),t}();ia=ra([C.injectable()],ia);var oa=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},aa=function(e,t){return function(n,r){t(n,r,e)}},ca=function(t){s(f,t);var n,o,c,u,l=v(f);function f(e,t,n,r){var o;return i(this,f),(o=l.call(this,e,t)).supportSendAnalyticsEvent=!0,o.consentService=n,o.consentService.on("queue",(function(e){e.forEach((function(e){var t=e.url,n=e.data,r=e.type;o.report(t,n,r)}))})),o.env=r,o}return a(f,[{key:"send",value:(u=r(e().mark((function t(n,r,i){var o,a,c,s,u,l;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.bridgeService.jsbridge){e.next=2;break}return e.abrupt("return");case 2:return u=!!r.context&&"timeout"===(null===(a=null===(o=r.context)||void 0===o?void 0:o.ad)||void 0===a?void 0:a.ad_info_status),l={},e.prev=4,e.next=7,this.bridgeService.send(r,u);case 7:if((l=e.sent)&&1===l.code){e.next=10;break}throw new Error("[fetch bridge] sendLog error: code ".concat(l&&l.code,", data: ").concat(l&&JSON.stringify(l)));case 10:return Ni(Ir.JSB_SEND,{pixelCode:null===(c=r.context.pixel)||void 0===c?void 0:c.code,app_name:Ti()?"ultralite":"",extJSON:{event:r.event,event_id:r.event_id,need_inject_ad_info:u}}),e.abrupt("return",l);case 14:e.prev=14,e.t0=e.catch(4),Ai(Ir.JSB_ERROR,e.t0,{pixelCode:null===(s=r.context.pixel)||void 0===s?void 0:s.code,custom_name:"sendReportData",custom_enum:l&&l.code?"".concat(l.code):"non",app_name:Ti()?"ultralite":"",extJSON:{position:"sendReportData"}}),Ti()&&bi()&&this.sendHttpReport(n,r,i);case 18:case"end":return e.stop()}}),t,this,[[4,14]])}))),function(e,t,n){return u.apply(this,arguments)})},{key:"sendHttpReport",value:(c=r(e().mark((function t(n,r,i){var o,a,c,s=arguments;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=!(s.length>3&&void 0!==s[3])||s[3],a=s.length>4?s[4]:void 0,e.next=4,this.httpService.send(n,r,a);case 4:e.sent||this.httpService.sendByImage(n,{analytics_message:i}),o&&Ni(Ir.HTTP_SEND,{pixelCode:null===(c=r.context.pixel)||void 0===c?void 0:c.code,extJSON:{event:r.event,event_id:r.event_id}});case 7:case"end":return e.stop()}}),t,this)}))),function(e,t,n){return c.apply(this,arguments)})},{key:"beforeReport",value:(o=r(e().mark((function t(n,r){var i,o,a=arguments;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=a.length>2&&void 0!==a[2]?a[2]:Gn.defaultReport,(o=this.consentService.getConsentMode())!==Zn.REVOKE){e.next=4;break}return e.abrupt("return",!1);case 4:if(o!==Zn.HOLD){e.next=7;break}return this.consentService.cacheReportTask(n,r,i),e.abrupt("return",!1);case 7:return e.abrupt("return",!0);case 8:case"end":return e.stop()}}),t,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"report",value:(n=r(e().mark((function t(n,r){var i,o,a,c,s,u=arguments;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=u.length>2&&void 0!==u[2]?u[2]:Gn.defaultReport,e.next=3,this.beforeReport(n,r,i);case 3:if(e.sent){e.next=6;break}return e.abrupt("return");case 6:if(o=Ko(r),i!==Gn.defaultReport||!this.bridgeService.jsbridge){e.next=11;break}return e.next=10,this.send(n,r,o);case 10:return e.abrupt("return",e.sent);case 11:if(i!==Gn.httpReport||!this.bridgeService.jsbridge||!_i(this.env)||Ii()||!this.supportSendAnalyticsEvent){e.next=30;break}return a=n,e.prev=13,a=new URL(n).pathname,e.next=17,this.bridgeService.sendAnalyticsEvent({path:a,method:"POST",data:r});case 17:if(c=e.sent,s=new Error("sendAnalyticsEvent not support: code ".concat(c,", path: ").concat(a,", data: ").concat(JSON.stringify(r))),null!=c&&-2!==c){e.next=22;break}throw this.supportSendAnalyticsEvent=!1,s;case 22:if(1!==c){e.next=24;break}return e.abrupt("return");case 24:throw s;case 27:e.prev=27,e.t0=e.catch(13),Ai(Ir.CUSTOM_ERROR,e.t0,{custom_name:"sendAnalyticsEvent",custom_enum:String(c)},!0);case 30:this.sendHttpReport(n,r,o,!(!Qr(r.event)||!zr(r)),qo(r.action)?3:void 0);case 31:case"end":return e.stop()}}),t,this,[[13,27]])}))),function(e,t){return n.apply(this,arguments)})},{key:"reportFL",value:function(e){this.bridgeService.jsbridge&&this.bridgeService.updateWebFlData(e)}}]),f}(go);ca=oa([C.injectable(),aa(0,C.inject(Er.HTTP_SERVICE)),aa(1,C.inject(Er.BRIDGE_SERVICE)),aa(2,C.inject(Er.CONSENT_SERVICE)),aa(3,C.inject(Er.ENV)),aa(3,C.optional())],ca);var sa=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},ua={expires:390},la=function(){function t(){i(this,t)}var n;return a(t,[{key:"genCookieID",value:function(){return $r(27)}},{key:"enableCookie",value:(n=r(e().mark((function t(){return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return xi(fr,"1",ua),e.abrupt("return",Gi("https://analytics.tiktok.com/i18n/pixel/enable_cookie"));case 2:case"end":return e.stop()}}),t)}))),function(){return n.apply(this,arguments)})},{key:"enableFirstPartyCookie",value:function(e){if(e){xi(fr,"1",ua);var t=this.genCookieID(),n=this.getAnonymousId();this.setAnonymousId(n||t)}}},{key:"disableCookie",value:function(){xi(fr,"0",ua),xi(dr,"",Object.assign(ua,{expires:-1})),Gi("https://analytics.tiktok.com/i18n/pixel/disable_cookie")}},{key:"setAnonymousId",value:function(e){var t=this.getAnonymousId()||e;t&&xi(dr,t,ua)}},{key:"getAnonymousId",value:function(){return ji(dr)||""}},{key:"canUseCookie",value:function(){try{return"0"!==ji(fr)}catch(e){}return!1}},{key:"resetExpires",value:function(){var e=ji(fr);e&&xi(fr,e,ua);var t=this.getAnonymousId();t&&this.setAnonymousId(t)}}]),t}();la=sa([C.injectable()],la);var fa=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},da=function(e,t){return function(n,r){t(n,r,e)}},ha=function(e){s(n,e);var t=v(n);function n(e,r){return i(this,n),t.call(this,{name:"Callback",reporters:r,context:e})}return a(n,[{key:"pixelDidMount",value:function(e){var t=Di("ttclid");t&&Fi("ttclid",t)}},{key:"beforeShopifyPixelSend",value:function(e,t){var n=Mi(e,"ttclid");n||(n=Mi(t,"ttclid")),n&&Fi("ttclid",n)}}]),n}(lo);ha=fa([C.injectable(),da(0,C.inject(Er.CONTEXT)),da(1,C.inject(Er.TTQ_REPORTERS))],ha);var pa=["(null)","","''\"",void 0,"e3b0c44298fc1c149afbf4c8996fb92427ae41e4649b934ca495991b7852b855","eb045d78d273107348b0300c01d29b7552d622abbc6faf81b3ec55359aa9950c","not set",null,"6181738008c985a1b5f106b796c98e719efcc3c0ff68ddcd14a049825f4900a8","2a539d6520266b56c3b0c525b9e6128858baeccb5ee9b694a2906e123c8d6dd3","c6e52c372287175a895926604fa738a0ad279538a67371cd56909c7917e69ea1","None","74234e98afe7498fb5daf1f36ac2d78acc339464f950703b8c019892f982b90b","f24f02d3c35894296522abac8c4b2439b1c1b650e1fb4c97c0f3c50b580b0a3c","no","a683c5c5349f6f7fb903ba8a9e7e55d0ba1b8f03579f95be83f4954c33e81098","f18a2548c063c5a2b1560c6f2b9ec44bf9ed9017884404016d74f330119aaefe","449f06574cd639e1826848ff5d70ba95904574be84f34e61baa526d517dfb493","fcbcf165908dd18a9e49f7ff27810176db8e9f63b4352213741664245224f8aa","NA","bc857c49633bbc75644c51f36b16b2f768cc0ee13f65402ec7c32c96308272dd","42cbf37902c6911d7b4e371fe8f8708a0ceda6946249d4a3e23de8d5e60ae8b7"],va={isHash:function(e){return!1},genIdentifierLabelByUserProperties:function(e){return{}}},ga={validatePhoneNumberLength:function(e){},parsePhoneNumberFromString:function(e){}},_a={tryDecodeHashedBase64String:function(e){return null},tryDecodeHashedBase64Hex:function(e){return null}},ya=function(e){var t,n=e.parsePhoneNumberFromString,r=e.validatePhoneNumberLength,i=e.isHash,o=e.genIdentifierLabelByUserProperties,a=e.tryDecodeHashedBase64String,c=e.tryDecodeHashedBase64Hex,s=e.checkEmailFormat,u=e.checkMDNEmailFormat;e.sha256,t={checkEmailFormat:s,checkMDNEmailFormat:u},t.checkMDNEmailFormat,function(e){var t=e.tryDecodeHashedBase64String,n=e.tryDecodeHashedBase64Hex;_a.tryDecodeHashedBase64String=t,_a.tryDecodeHashedBase64Hex=n}({tryDecodeHashedBase64String:a,tryDecodeHashedBase64Hex:c}),function(e){var t=e.isHash,n=e.genIdentifierLabelByUserProperties;va.isHash=t,va.genIdentifierLabelByUserProperties=n}({isHash:i,genIdentifierLabelByUserProperties:o}),function(e){var t=e.parsePhoneNumberFromString,n=e.validatePhoneNumberLength;ga.parsePhoneNumberFromString=t,ga.validatePhoneNumberLength=n}({parsePhoneNumberFromString:n,validatePhoneNumberLength:r})},ma=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ga.parsePhoneNumberFromString,r=e,i=t?n(e,t):n(e);return i?r="86"===i.countryCallingCode?i.nationalNumber:i.number:e.replace(/[^0-9]/g,"").length>0&&(r=e.replace(/[^0-9]/g,"")),r},ba=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Ea=function(e,t){return function(n,r){t(n,r,e)}},Ia=function(t){s(u,t);var n,o,c=v(u);function u(e,t){var n;return i(this,u),(n=c.call(this,{name:"Identify",reporters:t,context:e})).init(),n}return a(u,[{key:"setIdentifyUtils",value:function(e){var t=e.isHash,n=e.sha256,r=e.genIdentifierLabelByUserProperties,i=e.tryDecodeHashedBase64String,o=e.tryDecodeHashedBase64Hex,a=e.validatePhoneNumberLength,c=e.parsePhoneNumberFromString,s=e.checkEmailFormat,u=e.checkMDNEmailFormat,l=e.getCookieDeprecationLabel,f=e.getAllTopics;ya({isHash:t,sha256:n,genIdentifierLabelByUserProperties:r,tryDecodeHashedBase64String:i,tryDecodeHashedBase64Hex:o,validatePhoneNumberLength:a,parsePhoneNumberFromString:c,checkEmailFormat:s,checkMDNEmailFormat:u}),this.parsePhoneNumberFromString=c,this.checkMDNEmailFormat=u,this.checkEmailFormat=s,this.sha256=n,this.getCookieDeprecationLabel=l,this.getAllTopics=f}},{key:"init",value:function(){var e=this;return this.pluginPromise||(Ni(Ir.IDENTIFY_INIT_START),this.pluginPromise=Gi("https://analytics.tiktok.com/i18n/pixel/static/identify_48ae6622.js").then((function(){e.detectTopics(),Ni(Ir.IDENTIFY_INIT_END)})).catch((function(){var e=new Error("Loading chunk identify failed.\n(error: ".concat(window.location.host,"/static/identify.js)"));return e.name="ChunkLoadError",Promise.reject(e)}))),this.pluginPromise}},{key:"handleUserProperties",value:(o=r(e().mark((function t(n,r){var i,o,a,c=this;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return",void 0);case 2:return e.next=4,this.init();case 4:return i=this.identifyParamsFormattedInfo(n),o=this.identifyParamsFormattedInfoV2(n),a=va.genIdentifierLabelByUserProperties(r),this.handlePIIDiagnostics(o),Object.entries(n).forEach((function(e){var t=y(e,2),r=t[0],i=t[1],a=void 0===i?"":i;if(a){var s=String(a);if(["email","phone_number","sha256_email","sha256_phone_number"].includes(r)){var u=c.getUserDataFormatInfoV2KeyName(r),l=_a.tryDecodeHashedBase64Hex(s);if(null!==l)n[r]=l,null!==u&&(o=c.updateUserDataFormatV2LabelForBase64(u,Wn.BASE64_HEX_HASHED,o));else{var f=_a.tryDecodeHashedBase64String(s);f&&(n[r]=f,null!==u&&(o=c.updateUserDataFormatV2LabelForBase64(u,Wn.BASE64_STRING_HASHED,o)))}}switch(r){case"email":n.email=va.isHash(s)&&!c.checkEmailFormat(s)?s:c.sha256(c.handleEmail(s));break;case"phone_number":n.phone_number=va.isHash(s)?s:c.sha256(c.handlePhoneNumber(s));break;case"auto_email":n.auto_email=c.sha256(c.handleEmail(s));break;case"auto_phone_number":n.auto_phone_number=c.sha256(c.handlePhoneNumber(s));break;default:return}}})),n.sha256_email&&(n.email=this.handleCheckHashedEmailValue(String(n.sha256_email),i)),n.sha256_phone_number&&(n.phone_number=this.handleCheckHashedPhoneValue(String(n.sha256_phone_number),i)),e.abrupt("return",{userProperties:n,userDataFormat:i,userDataFormatV2:o,identifierLabel:a});case 12:case"end":return e.stop()}}),t,this)}))),function(e,t){return o.apply(this,arguments)})},{key:"identifyParamsFormattedInfo",value:function(e){var t=this,n={},r=/^sha256_(.*)$/;return Object.entries(e).forEach((function(e){var i=y(e,2),o=i[0],a=i[1],c=String(void 0===a?"":a),s=o.match(r);switch(o){case"email":t.handleEmailFormat(c,"email",n);break;case"phone_number":t.handlePhoneNumberFormat(c,"phone_number",n);break;case"auto_email":t.handleEmailFormat(c,"auto_email",n);break;case"auto_phone_number":t.handlePhoneNumberFormat(c,"auto_phone_number",n);break;case(s||{}).input:var u=null==s?void 0:s.pop();u&&Lr.includes(u)&&(n[u]=[Jn.HASHED]);break;default:n[o]=[Jn.CORRECT_FORMAT]}})),n}},{key:"identifyParamsFormattedInfoV2",value:function(e){var t=this,n={};return Object.entries(e).forEach((function(e){var r=y(e,2),i=r[0],o=r[1],a=String(void 0===o?"":o);switch(i){case"email":t.handlePixelValidation(a,jr,n);break;case"phone_number":t.handlePixelValidation(a,xr,n);break;case"sha256_email":t.handlePixelValidation(a,Ur,n);break;case"sha256_phone_number":t.handlePixelValidation(a,Fr,n);break;default:n[i]=[Wn.UNKNOWN_INVALID]}})),n}},{key:"handlePixelValidation",value:function(e,t,n){n[t]=[],pa.includes(e)&&n[t].push(Wn.FILTER_EVENTS),e&&va.isHash(e)&&n[t].push(Wn.HASHED),e&&this.checkEmailFormat(e)&&n[t].push(Wn.PLAIN_EMAIL),e&&this.checkMDNEmailFormat(e)&&n[t].push(Wn.PLAIN_MDN_EMAIL),e&&this.parsePhoneNumberFromString(e)&&n[t].push(Wn.PLAIN_PHONE),e&&0===n[t].length&&n[t].push(Wn.UNKNOWN_INVALID)}},{key:"handleEmail",value:function(e){return e.toLowerCase()}},{key:"handlePhoneNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parsePhoneNumberFromString;return ma(e,"",t)}},{key:"handleEmailFormat",value:function(e,t,n){var r=this.handleCheckEmail(String(e),this.checkEmailFormat);n&&n[t]&&(n[t]||[]).includes(Jn.HASHED)||(n[t]=r)}},{key:"handlePhoneNumberFormat",value:function(e,t,n){var r=this.handleCheckPhoneNumber(String(e),this.parsePhoneNumberFromString);n[t]=r}},{key:"handleCheckPhoneNumber",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.parsePhoneNumberFromString,n=[];if(!e)return n.push(Jn.EMPTY_VALUE),n;if(va.isHash(e))return n.push(Jn.HASHED),n;var r=t(e);return r?(n.push(Jn.CORRECT_FORMAT),n):(n.push(Jn.WRONG_FORMAT),n)}},{key:"handleCheckEmail",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.checkEmailFormat,n=[];return e?va.isHash(e)?(n.push(Jn.HASHED),n):t(e)?(n.push(Jn.CORRECT_FORMAT),n):(n.push(Jn.WRONG_FORMAT),n):(n.push(Jn.EMPTY_VALUE),n)}},{key:"handleCheckHashedEmailValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.checkEmailFormat;return t.email=t.email||[],va.isHash(e)?(null==t||t.email.push(Jn.HASHED_CORRECT),e):n(e)?(null==t||t.email.push(Jn.PLAINTEXT_EMAIL),this.sha256(this.handleEmail(String(e)))):(null==t||t.email.push(Jn.HASHED_ERR),this.sha256(e))}},{key:"handleCheckHashedPhoneValue",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.parsePhoneNumberFromString;return t.phone_number=t.phone_number||[],va.isHash(e)?(null==t||t.phone_number.push(Jn.HASHED_CORRECT),e):n(e)?(t.phone_number.push(Jn.PLAINTEXT_PHONE),this.sha256(this.handlePhoneNumber(String(e),n))):(null==t||t.phone_number.push(Jn.HASHED_ERR),this.sha256(e))}},{key:"handlePIIDiagnostics",value:function(e){try{var t=e.email_is_hashed,n=void 0===t?[]:t,r=e.sha256_email,i=void 0===r?[]:r,o=e.phone_is_hashed,a=void 0===o?[]:o,c=e.sha256_phone,s=void 0===c?[]:c;if(n.includes(Wn.UNKNOWN_INVALID)||i.includes(Wn.UNKNOWN_INVALID))return void Ri(Tr.INVALID_EMAIL_FORMAT);if(a.includes(Wn.UNKNOWN_INVALID)||s.includes(Wn.UNKNOWN_INVALID))return void Ri(Tr.INVALID_PHONE_NUMBER_FORMAT);if(n.includes(Wn.FILTER_EVENTS)||i.includes(Wn.FILTER_EVENTS))return void Ri(Tr.INVALID_EMAIL_INFORMATION);if(a.includes(Wn.FILTER_EVENTS)||s.includes(Wn.FILTER_EVENTS))return void Ri(Tr.INVALID_PHONE_NUMBER_INFORMATION)}catch(e){}}},{key:"getUserDataFormatInfoV2KeyName",value:function(e){return{email:"email_is_hashed",phone_number:"phone_is_hashed",sha256_email:"sha256_email",sha256_phone_number:"sha256_phone"}[e]||null}},{key:"updateUserDataFormatV2LabelForBase64",value:function(e,t,n){var r,i;return(null===n[e]||void 0===n[e]||(null===(r=n[e])||void 0===r?void 0:r.includes(Wn.UNKNOWN_INVALID)))&&(n[e]=[]),null===(i=n[e])||void 0===i||i.push(t),n}},{key:"detectTopics",value:(n=r(e().mark((function t(){var n,r;return e().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.getCookieDeprecationLabel();case 3:return n=e.sent,e.next=6,this.getAllTopics();case 6:(r=e.sent)&&Ni(Ir.CUSTOM_INFO,{custom_name:"topics",custom_enum:r.toString(),extJSON:{cookie_label:String(n)}}),e.next=12;break;case 10:e.prev=10,e.t0=e.catch(0);case 12:case"end":return e.stop()}}),t,this,[[0,10]])}))),function(){return n.apply(this,arguments)})}]),u}(lo);function Ta(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=Date.now();return function(){var r=Array.prototype.slice.call(arguments),i=Date.now();i-n>=t&&(e.apply(void 0,b(r)),n=i)}}Ia=ba([C.injectable(),Ea(0,C.inject(Er.CONTEXT)),Ea(1,C.inject(Er.TTQ_REPORTERS))],Ia);var Oa={fcp:"first_contentful_paint",lcp:"largest_contentful_paint",cls:"cumulative_layout_shift",fid:"first_input_delay",tti:"time_to_interactive",navigationStart:"navigation_start",loadEventStart:"load_event_start",requestStart:"request_start",enterTime:"enter_time",leaveTime:"leave_time",docHeight:"doc_height",maxScrollHeight:"max_scroll_height",clickTimes:"click_times",scrollTimes:"scroll_times",connectionType:"connection_type"},Sa=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Na=function(e,t){return function(n,r){t(n,r,e)}},Aa=function(e){s(n,e);var t=v(n);function n(e,r,o,a,c,s,u){var l;return i(this,n),(l=t.call(this,{name:"PerformanceInteraction",reporters:o,context:r})).monitors=[],l.currentUrl="",l.ttqOptions={},l.env=e,l.reportService=a,l.interactionMonitor=c,l.performanceMonitor=s,l.ttqOptions=u,l.init(),l}return a(n,[{key:"reportSwitch",value:function(){var e,t,n=Di(Pr),r="";try{var i=window.sessionStorage&&window.sessionStorage.getItem(ur);if(i)r=JSON.parse(i).callback}catch(e){}return!!(n||r||_i(this.env)||(null===(t=null===(e=this.ttqOptions)||void 0===e?void 0:e.plugins)||void 0===t?void 0:t.PerformanceInteraction))}},{key:"init",value:function(){var e=this;this.reportSwitch()&&(this.monitors.push(this.interactionMonitor),this.monitors.push(this.performanceMonitor),this.monitors.forEach((function(e){e.init()})),setInterval((function(){e.report()}),1e4))}},{key:"pageUrlWillChange",value:function(e,t){this.reportSwitch()&&(this.monitors.forEach((function(n){n.pageUrlWillChange(e,t)})),e&&this.report())}},{key:"pageWillLeave",value:function(e){this.reportSwitch()&&(this.monitors.forEach((function(t){t.pageWillLeave(e)})),this.report())}},{key:"pageUrlDidChange",value:function(e){this.currentUrl!==e&&this.reportSwitch()&&(this.currentUrl=e,this.monitors.forEach((function(t){t.pageUrlDidChange(e)})),this.report())}},{key:"report",value:function(){var e=this;if(this.reportSwitch()){var t=this.transformReportData(this.collectorData());if(Object.keys(t).length){var n=yr.PERFORMANCE_INTERACTION,r=Ci(n);null!==r&&Vi(this.reportService.reportPreposition||[]).then((function(){e.reportService.report(r,e.assemblyMergedData(t,n),function(e){return{performance_interaction:Gn.httpReport}[e]||Gn.htmlHttpReport}(n))}))}}}},{key:"assemblyMergedData",value:function(e,t){var n=this.context.getPageSign(),r=this.reporters[0],i=(null==r?void 0:r.getReporterId())||"",o=this.reporters.map((function(e){return e.getReporterId()})).join("|"),a=null==r?void 0:r.assemblyData(i,"",e,{},t);return a&&(a.context.pixel&&(a.context.pixel.codes=o),a.context.index=n.index,a.context.session_id=n.sessionId),a||{}}},{key:"collectorData",value:function(){return this.monitors.reduce((function(e,t){return t.isChanged()&&(e=Object.assign({},e,t.getResult())),e}),{})}},{key:"transformReportData",value:function(e){return Object.entries(e).reduce((function(e,t){var n=y(t,2),r=n[0],i=n[1];return e[Oa[r]]=i,e}),{})}}]),n}(lo);function Ra(){var e=document.body,t=document.documentElement;return Math.max(e?e.scrollHeight:0,e?e.offsetHeight:0,t?t.clientHeight:0,t?t.scrollHeight:0,t?t.offsetHeight:0)}function wa(){return document.documentElement.clientHeight+window.pageYOffset}Aa=Sa([C.injectable(),Na(0,C.inject(Er.ENV)),Na(1,C.inject(Er.CONTEXT)),Na(2,C.inject(Er.TTQ_REPORTERS)),Na(3,C.inject(Er.REPORT_SERVICE)),Na(4,C.inject(Er.INTERACTION_MONITOR)),Na(5,C.inject(Er.PERFORMANCE_MONITOR)),Na(6,C.inject(Er.TTQ_GLOBAL_OPTIONS))],Aa);var Ca=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Pa=function(){function e(){i(this,e),this.connectionType="",this._docHeight=0,this._maxScrollHeight=0,this.clickTimes=0,this.scrollTimes=0,this.isDocHeightChanged=!1,this.isMaxScrollHeightChanged=!1,this.enterTime=0,this.leaveTime=0,this.isFirstReport=!0}return a(e,[{key:"init",value:function(){!function(e){var t=Ta((function(t){e()}),100);window.addEventListener("click",t,{capture:!0})}(this.updateClickTimes.bind(this)),function(e){var t=Ta((function(){var t={scrollHeight:wa(),docHeight:Ra()};e(t)}),500);window.addEventListener("scroll",t,{passive:!0})}(this.updateScrollData.bind(this))}},{key:"pageUrlWillChange",value:function(e,t){""!==e?this.leaveTime=Date.now():this.enterTime=window.performance.timing.navigationStart}},{key:"pageUrlDidChange",value:function(e){0!==this.enterTime&&(this.resetAfterPageChange(),this.initInteractionData(),this.enterTime=Date.now())}},{key:"pageWillLeave",value:function(e){this.leaveTime=e}},{key:"updateClickTimes",value:function(){this.clickTimes+=1}},{key:"updateScrollData",value:function(e){var t=e.scrollHeight,n=e.docHeight;this.scrollTimes+=1,this.maxScrollHeight=t,this.docHeight=n}},{key:"initInteractionData",value:function(){var e,t={docHeight:Ra(),scrollHeight:wa(),connectionType:(e=navigator.connection,e&&e.effectiveType?e.effectiveType:"")},n=t.docHeight,r=t.scrollHeight,i=t.connectionType;this.docHeight=n,this.maxScrollHeight=r,this.connectionType=i}},{key:"resetAfterPageChange",value:function(){this.clearAfterReport(),this.maxScrollHeight=0,this.docHeight=0,this.leaveTime=0,this.isFirstReport=!0,this.connectionType=""}},{key:"clearAfterReport",value:function(){this.clickTimes=0,this.scrollTimes=0,this.isDocHeightChanged=!1,this.isMaxScrollHeightChanged=!1,this.isFirstReport=!1}},{key:"getResult",value:function(){var e={};return this.scrollTimes&&(e.scrollTimes=this.scrollTimes),this.clickTimes&&(e.clickTimes=this.clickTimes),this.leaveTime&&(e.leaveTime=this.leaveTime),this.isDocHeightChanged&&(e.docHeight=this.docHeight),this.isMaxScrollHeightChanged&&(e.maxScrollHeight=this.maxScrollHeight),this.isFirstReport&&(e.connectionType=this.connectionType,e.enterTime=this.enterTime),this.clearAfterReport(),e}},{key:"isChanged",value:function(){return this.isDocHeightChanged||this.isMaxScrollHeightChanged||0!==this.scrollTimes||0!==this.clickTimes||0!==this.leaveTime}},{key:"docHeight",get:function(){return this._docHeight},set:function(e){e>this._docHeight?(this._docHeight=e,this.isDocHeightChanged=!0):0===e&&(this._docHeight=0,this.isDocHeightChanged=!1)}},{key:"maxScrollHeight",get:function(){return this._maxScrollHeight},set:function(e){e>this._maxScrollHeight?(this._maxScrollHeight=e,this.isMaxScrollHeightChanged=!0):0===e&&(this._maxScrollHeight=0,this.isMaxScrollHeightChanged=!1)}}]),e}();Pa=Ca([C.injectable()],Pa);var ka,Ma=function(e,t){try{var n=null==t?void 0:t.type;if(n&&PerformanceObserver.supportedEntryTypes.indexOf(n)>-1){var r=new PerformanceObserver((function(t){t.getEntries().forEach(e)}));return r.observe(t),r}}catch(e){}},Da=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];document.addEventListener("visibilitychange",(function(t){"hidden"===document.visibilityState&&e(t)}),{once:t})},La=function(){return void 0===ka&&(ka="hidden"===document.visibilityState?0:1/0,Da((function(e){ka=Math.min(ka,e.timeStamp)}))),{get timeStamp(){return ka}}},ja="first-contentful-paint";function xa(e){if(!(window&&window.performance&&(null===(t=window.performance)||void 0===t?void 0:t.getEntries)))return-1;var t,n=performance.getEntriesByType("paint");if(Array.isArray(n)){var r=n.filter((function(t){return t.name===e}));return r.length&&r[0]&&r[0].startTime&&r[0].startTime||-1}return-1}var Ua,Fa={exports:{}};Ua=Fa,function(){var e="undefined"!=typeof window&&window===this?this:void 0!==R&&null!=R?R:this,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){e!=Array.prototype&&e!=Object.prototype&&(e[t]=n.value)};function n(){n=function(){},e.Symbol||(e.Symbol=i)}var r=0;function i(e){return"jscomp_symbol_"+(e||"")+r++}function o(){n();var r=e.Symbol.iterator;r||(r=e.Symbol.iterator=e.Symbol("iterator")),"function"!=typeof Array.prototype[r]&&t(Array.prototype,r,{configurable:!0,writable:!0,value:function(){return a(this)}}),o=function(){}}function a(t){var n=0;return function(t){return o(),(t={next:t})[e.Symbol.iterator]=function(){return this},t}((function(){return n<t.length?{done:!1,value:t[n++]}:{done:!0}}))}function c(e){o();var t=e[Symbol.iterator];return t?t.call(e):a(e)}function s(e){if(!(e instanceof Array)){e=c(e);for(var t,n=[];!(t=e.next()).done;)n.push(t.value);e=n}return e}var u=0,l="img script iframe link audio video source".split(" ");function f(e,t){for(var n=(e=c(e)).next();!n.done;n=e.next())if(n=n.value,t.includes(n.nodeName.toLowerCase())||f(n.children,t))return!0;return!1}function d(e,t){if(2<e.length)return performance.now();for(var n=[],r=(t=c(t)).next();!r.done;r=t.next())r=r.value,n.push({timestamp:r.start,type:"requestStart"}),n.push({timestamp:r.end,type:"requestEnd"});for(r=(t=c(e)).next();!r.done;r=t.next())n.push({timestamp:r.value,type:"requestStart"});for(n.sort((function(e,t){return e.timestamp-t.timestamp})),e=e.length,t=n.length-1;0<=t;t--)switch(r=n[t],r.type){case"requestStart":e--;break;case"requestEnd":if(2<++e)return r.timestamp;break;default:throw Error("Internal Error: This should never happen")}return 0}function h(e){e=e||{},this.w=!!e.useMutationObserver,this.u=e.minValue||null,e=window.__tti&&window.__tti.e;var t=window.__tti&&window.__tti.o;this.a=e?e.map((function(e){return{start:e.startTime,end:e.startTime+e.duration}})):[],t&&t.disconnect(),this.b=[],this.f=new window[window.TiktokAnalyticsObject || "ttq"]._ttq_map,this.j=null,this.v=-1/0,this.i=!1,this.h=this.c=this.s=null,function(e,t){var n=XMLHttpRequest.prototype.send,r=u++;XMLHttpRequest.prototype.send=function(i){for(var o=[],a=0;a<arguments.length;++a)o[a-0]=arguments[a];var c=this;return e(r),this.addEventListener("readystatechange",(function(){4===c.readyState&&t(r)})),n.apply(this,o)}}(this.m.bind(this),this.l.bind(this)),function(e,t){var n=fetch;fetch=function(r){for(var i=[],o=0;o<arguments.length;++o)i[o-0]=arguments[o];return new Promise((function(r,o){var a=u++;e(a),n.apply(null,[].concat(s(i))).then((function(e){t(a),r(e)}),(function(e){t(e),o(e)}))}))}}(this.m.bind(this),this.l.bind(this)),function(e){e.c=new PerformanceObserver((function(t){for(var n=(t=c(t.getEntries())).next();!n.done;n=t.next())if("resource"===(n=n.value).entryType&&(e.b.push({start:n.fetchStart,end:n.responseEnd}),v(e,d(e.g,e.b)+5e3)),"longtask"===n.entryType){var r=n.startTime+n.duration;e.a.push({start:n.startTime,end:r}),v(e,r+5e3)}})),e.c.observe({entryTypes:["longtask","resource"]})}(this),this.w&&(this.h=function(e){var t=new MutationObserver((function(t){for(var n=(t=c(t)).next();!n.done;n=t.next())("childList"==(n=n.value).type&&f(n.addedNodes,l)||"attributes"==n.type&&l.includes(n.target.tagName.toLowerCase()))&&e(n)}));return t.observe(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]}),t}(this.B.bind(this)))}function p(e){e.i=!0;var t=0<e.a.length?e.a[e.a.length-1].end:0,n=d(e.g,e.b);v(e,Math.max(n+5e3,t))}function v(e,t){!e.i||e.v>t||(clearTimeout(e.j),e.j=setTimeout((function(){var t=performance.timing.navigationStart,n=d(e.g,e.b);if(t=(window.a&&window.a.A?1e3*window.a.A().C-t:0)||performance.timing.domContentLoadedEventEnd-t,e.u)var r=e.u;else r=performance.timing.domContentLoadedEventEnd?(r=performance.timing).domContentLoadedEventEnd-r.navigationStart:null;var i=performance.now();null===r&&v(e,Math.max(n+5e3,i+1e3));var o=e.a;(n=5e3>i-n||5e3>i-(n=o.length?o[o.length-1].end:t)?null:Math.max(n,r))&&(e.s(n),clearTimeout(e.j),e.i=!1,e.c&&e.c.disconnect(),e.h&&e.h.disconnect()),v(e,performance.now()+1e3)}),t-performance.now()),e.v=t)}h.prototype.getFirstConsistentlyInteractive=function(){var e=this;return new Promise((function(t){e.s=t,"complete"==document.readyState?p(e):window.addEventListener("load",(function(){p(e)}))}))},h.prototype.m=function(e){this.f.set(e,performance.now())},h.prototype.l=function(e){this.f.delete(e)},h.prototype.B=function(){v(this,performance.now()+5e3)},e.Object.defineProperties(h.prototype,{g:{configurable:!0,enumerable:!0,get:function(){return[].concat(s(this.f.values()))}}});var g={getFirstConsistentlyInteractive:function(e){return e=e||{},"PerformanceLongTaskTiming"in window?new h(e).getFirstConsistentlyInteractive():Promise.resolve(null)}};Ua.exports?Ua.exports=g:window.ttiPolyfill=g}();var Ba=Fa.exports,Ha=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Ga=["fcp","lcp","cls","fid","tti","navigationStart","loadEventStart","requestStart"],Va=function(){function e(){i(this,e),this.fcp=-1,this.lcp=-1,this.cls=-1,this.fid=-1,this.tti=-1,this.navigationStart=-1,this.loadEventStart=-1,this.requestStart=-1,this.everythingDone=!1,this.changedMap={},this.init()}return a(e,[{key:"init",value:function(){var e,t,n,r;this.updatePerformanceTiming(),e=this.baseHandler.bind(this,"cls"),t=0,r=Ma(n=function(e){e.hadRecentInput||(t+=e.value)},{type:"layout-shift",buffered:!0}),Da((function(){r&&(r.takeRecords().forEach(n),r.disconnect()),e(t)})),function(e){var t=xa(ja);if(-1===t){var n=La();Ma((function(t){if(t.name===ja){if(t.startTime<n.timeStamp)return void e(t.startTime);e(-1)}}),{type:"paint",buffered:!0})}else e(t)}(this.baseHandler.bind(this,"fcp")),function(e){var t=La();Ma((function(n){if(n.startTime<t.timeStamp){var r=n.processingStart-n.startTime;e(r)}}),{type:"first-input"})}(this.baseHandler.bind(this,"fid")),function(e){var t=La(),n=0,r=function(r){r.startTime<t.timeStamp&&(n=r.startTime,e(n))},i=Ma(r,{type:"largest-contentful-paint",buffered:!0});Da((function(){i&&(i.takeRecords().forEach(r),i.disconnect()),e(n)}))}(this.baseHandler.bind(this,"lcp")),function(e){Ba.getFirstConsistentlyInteractive({}).then((function(t){e(t)}))}(this.baseHandler.bind(this,"tti"))}},{key:"updatePerformanceTiming",value:function(){var e=this,t=function(){var e=window.performance.timing;return{navigationStart:(null==e?void 0:e.navigationStart)||0,loadEventStart:(null==e?void 0:e.loadEventStart)||0,requestStart:(null==e?void 0:e.responseStart)||0}}(),n=t.navigationStart,r=t.loadEventStart,i=t.requestStart;this.baseHandler("navigationStart",n),this.baseHandler("loadEventStart",r),this.baseHandler("requestStart",i),0!==n&&0!==r&&0!==i||setTimeout((function(){e.updatePerformanceTiming()}),5e3)}},{key:"baseHandler",value:function(e,t){this.everythingDone||-1===this[e]&&0!==t&&-1!==t&&(this.changedMap[e]=!0,this[e]=t)}},{key:"isChanged",value:function(){return 0!==Object.keys(this.changedMap).length}},{key:"getResult",value:function(){var e={};if(this.everythingDone)e=this.getAllData();else for(var t=0,n=Object.keys(this.changedMap);t<n.length;t++){var r=n[t];e[r]=this[r]}return this.clearAfterReport(),e}},{key:"getAllData",value:function(){var e=this;return Ga.reduce((function(t,n){return t[n]=e[n],t}),{})}},{key:"clearAfterReport",value:function(){this.changedMap={}}},{key:"pageUrlWillChange",value:function(e,t){}},{key:"pageUrlDidChange",value:function(e){var t=this;this.everythingDone=Ga.every((function(e){return-1!==t[e]}),this),this.changedMap.navigationStart=!0}},{key:"pageWillLeave",value:function(e){}}]),e}();Va=Ha([C.injectable()],Va);var Ja,Wa=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Ka=function(e,t){return function(n,r){t(n,r,e)}},qa=function(e){s(n,e);var t=v(n);function n(e,r,o,a){var c;return i(this,n),(c=t.call(this,{name:"WebFL",reporters:r,context:e})).reportService=o,c.ttqOptions=a,c.useExchangeRate=a.usd_exchange_rate,c}return a(n,[{key:"pixelSend",value:function(e,t,n){var r,i;Boolean(null===(i=null===(r=this.ttqOptions)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.WebFL)&&n&&this.reportFlConv(n)}},{key:"reportFlConv",value:function(e){var t;if(e&&"Pageview"!==e.event){var n,r=e.context,i=e.properties,o=void 0===i?{}:i,a=void 0!==r.ad.log_extra?r.ad.log_extra:"{}";try{n=JSON.parse(a)}catch(e){n={}}var c={req_id:n.req_id||"",cid:r.ad.creative_id||"",value:o.value||"",currency:o.currency||"",raw:Object.assign({},o)},s=o.value,u=o.currency,l=function(e,t,n){return isNaN(e)||e<0||null===n||!n[t]?"":(e/n[t]*1e5).toFixed(0)}(s,u,this.useExchangeRate||null),f=r.pixel?r.pixel.code:"";l&&(c.usd_value=l,Ni(Ir.CUSTOM_INFO,{pixelCode:f,custom_name:"odfl_rate_exchange",extJSON:{message_id:e.message_id,cid:c.cid,event:e.event,value:s,currency:u,usdValue:l}}));var d={business:"devicefl_join_label",entrance:"app_to_web_conversion",inputParams:{message_id:e.message_id,event:e.event,event_props:c,event_source_id:null===(t=r.pixel)||void 0===t?void 0:t.code,event_source_type:"web"}};this.reportService&&this.reportService.reportFL&&(this.reportService.reportFL(d),Ni(Ir.CUSTOM_INFO,{pixelCode:f,custom_name:"fl_jsb_report",extJSON:{message_id:e.message_id,cid:c.cid,event:e.event}}))}}}]),n}(lo);qa=Wa([C.injectable(),Ka(0,C.inject(Er.CONTEXT)),Ka(1,C.inject(Er.TTQ_REPORTERS)),Ka(2,C.inject(Er.REPORT_SERVICE)),Ka(3,C.inject(Er.TTQ_GLOBAL_OPTIONS))],qa),function(e){e.ERROR_FORMAT="error_format",e.OVER_LENGTH="over_length_3e4",e.FILTER_SENSITIVE_FIELDS="filter_sensitive_fields"}(Ja||(Ja={}));var Ya,Xa,Qa,za,Za,$a="form_detail_error";!function(e){e.GET_ELEMENTS_ERROR="get_elements_error",e.INIT_ERROR="init_error",e.ASSEMBLE_FORM_DETAIL_ERROR="assemble_form_detail_error",e.DETECT_FORM_ELEMENT_ERROR="detect_form_element_error",e.GET_OVERALL_FORM_DETAIL_ERROR="get_overall_form_detail_error",e.FORM_OBSERVER_ERROR="form_observer_error",e.OVER_LENGTH="over_length_3e4"}(Ya||(Ya={})),function(e){e.METADATA="Metadata",e.CLICK="Click"}(Xa||(Xa={})),function(e){e.AUTO_COLLECTION="AUTO_COLLECTION",e.AUTO_FORM="AUTO_FORM",e.AUTO_CLICK="AUTO_CLICK",e.AUTO_VC="AUTO_VC",e.AUTO_VC_REVERSE="AUTO_VC_REVERSE"}(Qa||(Qa={})),function(e){e.AUTO_FORM="form_rules",e.AUTO_VC="vc_rules",e.AUTO_VC_REVERSE="vc_rules_reverse"}(za||(za={})),function(e){e.PAGE_LEAVE="PageLeave",e.PAGE_VIEW="PageView",e.DOM_CHANGE="DomChange",e.URL_CHANGE="UrlChange",e.CLICK="Click",e.SCROLL="Scroll"}(Za||(Za={}));var ec=["AnatomicalStructure","AnatomicalSystem","ApprovedIndication","ArriveAction","Artery","BioChemEntity","BloodTest","Bone","BorrowAction","BrainStructure","BrokerageAccount","CDCPMDRecord","ChemicalSubstance","CovidTestingFacility","DDxElement","DepartAction","DepositAccount","DiagnosticLab","DiagnosticProcedure","Diet","DietarySupplement","DoseSchedule","ElementarySchool","HighSchool","ExercisePlan","Gene","GovernmentBenefitsType","GovernmentService","HealthAspectEnumeration","HealthInsurancePlan","HealthPlanCostSharingSpecification","HealthTopicContent","Hospital","ImagingTest","InfectiousAgentClass","InvestmentFund","InvestmentOrDeposit","Invoice","Joint","LendAction","LifestyleModification","Ligament","LoanOrCredit","LymphaticVessel","MaximumDoseSchedule","MedicalAudience","MedicalAudienceType","MedicalCause","MedicalCode","MedicalCondition","MedicalConditionStage","MedicalContraindication","MedicalDevice","MedicalEntity","MedicalEvidenceLevel","MedicalGuidelineContraindication","MedicalIndication","MedicalIntangible","MedicalObservationalStudy","MedicalOrganization","MedicalProcedure","MedicalProcedureType","MedicalRiskCalculator","MedicalRiskFactor","MedicalRiskScore","MedicalSign","MedicalSignOrSymptom","MedicalStudy","MedicalSymptom","MedicalTest","MedicalTestPanel","MedicalTherapy","MedicalTrial","MiddleSchool","MoneyTransfer","Muscle","Nerve","OccupationalTherapy","Order","PalliativeProcedure","ParentAudience","PathologyTest","Patient","PeopleAudience","Person","Pharmacy","PhysicalActivity","PhysicalTherapy","Physician","PoliticalParty","Preschool","PreventionIndication","Protein","PsychologicalTreatment","RadiationTherapy","RecommendedDoseSchedule","ReportedDoseSchedule","School","Substance","SuperficialAnatomy","SurgicalProcedure","Text","TherapeuticProcedure","TreatmentIndication","URL","Vein","Vessel","VitalSign","WorkersUnion"],tc=2e3;function nc(e){return/([a-zA-Z0-9._-]+@[a-zA-Z0-9._-]+\.[a-zA-Z0-9._-]+)/gi.test(e)||/(\+?0?86-?)?1[3-9]\d{9}/g.test(e)||/(\+\d{1,2}\s?)?\(?\d{3}\)?[\s.-]?\d{3}[\s.-]?\d{4}/g.test(e)||/^[\-!$><-==&_\/\?\.,0-9:; \]\[%~\"\{\}\)\(\+\@\^\`]/g.test(e)||ec.some((function(t){return e.toLowerCase().indexOf(t.toLowerCase())>-1}))}var rc=function e(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return"";if(t===document.documentElement)return"/HTML";for(var n=1,r=t.previousSibling;r;)r.nodeType===Node.ELEMENT_NODE&&r.tagName===t.tagName&&n++,r=r.previousSibling;var i=t.tagName.toLowerCase(),o=e(t.parentNode);return"".concat(o,"/").concat(i,"[").concat(n,"]")};function ic(e){return rc(e)}function oc(e,t){return function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];window.requestIdleCallback&&window.requestIdleCallback(e.bind.apply(e,[t].concat(r))),e.apply(t,r)}}function ac(e){var t=e.options,n=e.plugins;return t&&!1!==t.autoConfig&&n&&n[Xc]}function cc(e,t){if(!za[t])return!0;var n=e.plugins;return t===Qa.AUTO_VC_REVERSE?ac(e)&&n[Xc]&&!n[Xc][za.AUTO_VC]:ac(e)&&n[Xc]&&n[Xc][za[t]]}function sc(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,n=-1;return function(){var r=Array.prototype.slice.apply(arguments);Date.now()-n>=t&&(e.apply(void 0,b(r)),n=Date.now())}}((function(t){eo(qi.AUTO_CONFIG_CLICK),e(t),to(qi.AUTO_CONFIG_CLICK)}),1e3);document.querySelectorAll(oi.join(", ")).forEach((function(e){ai.some((function(t){return e.matches(t)}))||e.addEventListener("click",t,{capture:!0})}))}var uc=function e(t){for(var n=0,r=t.children,i=0;i<r.length;i++){var o=r[i],a=!1;try{a=ci(o)}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:o}}),a=!1}a&&n++,n+=e(o)}return n},lc=function(e){var t,n,r,i,o="";if("A"===e.tagName.toUpperCase())o=null!==(t=e.getAttribute("href"))&&void 0!==t?t:"";else if("BUTTON"===e.tagName.toUpperCase()){var a=null!==(n=e.getAttribute("onclick"))&&void 0!==n?n:"",c=null!==(r=e.getAttribute("formaction"))&&void 0!==r?r:"",s=a.match(/^.*=(['"])(.*)\1.*$/);c?o=c:s&&(o=s[2])}else"FORM"===e.tagName.toUpperCase()&&(o=null!==(i=e.getAttribute("action"))&&void 0!==i?i:"");return o};function fc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500;return"string"!=typeof e?"":(e=e.trim()).length<t?e:e.slice(0,500)}function dc(e){return null!=["og:image"].filter((function(t){return t===e}))[0]}function hc(e,t){return null!=[{property:"image",type:"Product"}].filter((function(n){return(e==="https://schema.org/"+n.type||e==="http://schema.org/"+n.type)&&n.property===t}))[0]}function pc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{items:e,has:function(e){return this.items.some((function(t){return t===e}))},add:function(e){this.has(e)||this.items.push(e)}}}function vc(e){var t;switch(e.tagName.toLowerCase()){case"meta":t=e.getAttribute("content");break;case"audio":case"embed":case"iframe":case"img":case"source":case"track":case"video":t=e.getAttribute("src");break;case"a":case"area":case"link":t=e.getAttribute("href");break;case"object":t=e.getAttribute("data");break;case"data":case"meter":t=e.getAttribute("value");break;case"time":t=e.getAttribute("datetime");break;default:t=function(e){if(e){if(e.innerText&&e.innerText.length>0)return e.innerText;if(e.textContent&&e.textContent.length>0)return e.textContent}return""}(e)||""}return"string"==typeof t?fc(t):""}function gc(e,n){if("object"===t(e)){if(Array.isArray(e))return e.map((function(e){return gc(e,n)}));var r={};for(var i in e)_c(i,n)||(r[i]=gc(e[i],n));return r}return e}function _c(e,t){return!!(t&&t.length>0)&&t.some((function(t){return e.toLowerCase()===t.toLowerCase()}))}function yc(e){if("object"===t(e)){if(Array.isArray(e))return e.map((function(e){return yc(e)}));var n=Object.assign({},e),r=n["@type"];for(var i in n)"@type"!==i&&"@context"!==i&&("object"===t(n[i])?n[i]=yc(n[i]):r&&mc(r)&&delete n[i]);return n}return e}function mc(e){return Array.isArray(e)?e.some((function(e){return mc(e)})):"string"==typeof e&&(e=e.toLowerCase().replace(/https?:\/\/schema\.org\//,""),ec.some((function(t){return e===t.toLowerCase()})))}function bc(e){var t={open_graph:"{}",microdata:"[]",json_ld:"[]",meta:"{}"};try{t.microdata=function(){for(var e=document.querySelectorAll("[itemscope]"),t=[],n=pc(),r=0;r<e.length;r++)n.add(e[r]);for(var i=e.length-1;i>=0;i--){var o=e[i],a=o.getAttribute("itemtype");if("string"==typeof a&&""!==a){for(var c={},s=o.querySelectorAll("[itemprop]"),u=0;u<s.length;u++){var l=s[u];if(!n.has(l)){n.add(l);var f=l.getAttribute("itemprop");if("string"==typeof f&&""!==f){var d=vc(l);if(null!=d){var h=c[f];null!=h&&hc(a,f)?Array.isArray(h)?c[f].push(d):c[f]=[h,d]:c[f]=d}}}}t.unshift({schema:{dimensions:{h:o.clientHeight,w:o.clientWidth},properties:mc(a)?{}:c,subscopes:[],type:a},scope:o})}}for(var p=[],v=[],g=0;g<t.length;g++){for(var _=t[g],y=_.scope,m=_.schema,b=p.length-1;b>=0;b--){if(p[b].scope.contains(y)){p[b].schema.subscopes.push(m);break}p.pop()}0===p.length&&v.push(m),p.push({schema:m,scope:y})}return JSON.stringify(v)}()}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"assemble_auto_config_failed",custom_enum:"microdata"})}try{var n=function(){for(var e=[],t=[],n=document.querySelectorAll('script[type="application/ld+json"]'),r=0,i=0;i<n.length;i++){var o=n[i].innerText;if(null!=o&&""!==o){if((r+=o.length)>3e4)return{data:JSON.stringify([]),errors:[{name:Ja.OVER_LENGTH,message:"".concat(String(r))}]};var a=void 0;try{a=JSON.parse(o.replace(/[\n\r\t]+/g," "))}catch(e){t.push({name:Ja.ERROR_FORMAT,message:e.message})}try{a=yc(a)}catch(e){return{data:JSON.stringify([]),errors:[{name:Ja.FILTER_SENSITIVE_FIELDS,message:e.message}]}}a&&e.push(a)}}return{data:JSON.stringify(e),errors:t}}(),r=n.data,i=n.errors;t.json_ld=r,i&&i.forEach((function(e){var t=e.name,n=e.message;Ai(Ir.CUSTOM_ERROR,{message:n},{custom_name:"parse_json_ld_failed",custom_enum:t})}))}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"assemble_auto_config_failed",custom_enum:"json_ld"})}try{t.open_graph=function(e){for(var t=pc(["og","product","music","video","article","book","profile","website","twitter"]),n={},r=document.querySelectorAll("meta[property],meta[name]"),i=0;i<r.length;i++){var o=r[i],a=o.getAttribute("property")||o.getAttribute("name"),c=fc(o.getAttribute("content"));if("string"==typeof a&&-1!==a.indexOf(":")&&"string"==typeof c&&t.has(a.split(":")[0])){var s=n[a];null!=s&&dc(a)?Array.isArray(s)?n[a].push(c):n[a]=[s,c]:n[a]=c}}return JSON.stringify(gc(n,e))}(e.open_graph)}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"assemble_auto_config_failed",custom_enum:"open_graph"})}try{t.meta=function(e){var t={},n=pc(["description","keywords","keyword"]),r=document.querySelector("title");r&&(t.title=fc(r.innerText));for(var i=document.querySelectorAll("meta[property],meta[name]"),o=0;o<i.length;o++){var a=i[o],c=a.getAttribute("name")||a.getAttribute("property"),s=fc(a.getAttribute("content"));"string"==typeof c&&"string"==typeof s&&n.has(c)&&(t[c]=s)}return JSON.stringify(gc({title:t.title,"meta:description":t.description,"meta:keywords":t.keywords||t.keyword},e))}(e.meta)}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"assemble_auto_config_failed",custom_enum:"meta"})}return t}var Ec,Ic=["form","[id*=form], [class*=form]"],Tc=["label"],Oc=["input,select,textarea"],Sc=["radio","checkbox"],Nc=["hidden","reset","submit","password"];function Ac(e,t){try{for(var n=0;n<e.length;n++){var r=t.querySelectorAll(e[n]);if(r&&r.length>0)return Array.from(r)}return[]}catch(e){return Ai(Ir.CUSTOM_ERROR,e,{custom_name:$a,custom_enum:Ya.GET_ELEMENTS_ERROR}),[]}}function Rc(e){var t="";return function e(n){for(;n;)n.nodeType===Node.TEXT_NODE?t+=n.textContent:"SELECT"!==n.nodeName&&n.firstChild&&e(n.firstChild),n=n.nextSibling}(e.firstChild),t.replace(/[\t\n]/g,"").trim()}function wc(e){if(!e)return!1;var t=window.getComputedStyle(e);return"none"!==t.display&&("visible"===t.visibility&&(!Cc(e)&&(0!==e.offsetWidth||0!==e.offsetHeight)))}function Cc(e){return!(!e||e.isSameNode(document.body)||e.isSameNode(document))&&("0"==window.getComputedStyle(e).opacity||Cc(e.parentElement))}function Pc(e){var t=e.getAttribute("type");return!!t&&Nc.indexOf(t)>-1}function kc(e){return e&&nc(e)?"__Text__":e}!function(e){e[e.CONTAIN=0]="CONTAIN",e[e.ID=1]="ID",e[e.SELECTOR=2]="SELECTOR"}(Ec||(Ec={}));var Mc=function(){function e(t){i(this,e),this.formUpdateHandlers=[],this.answerMap={},this.rules=this.getRules(t),this.init()}return a(e,[{key:"getRules",value:function(e){var t=e.plugins&&e.plugins.AutoConfig;return t&&t[za.AUTO_FORM]}},{key:"init",value:function(){var e=this;try{this.forms=this.detectFormElement(),this.forms&&this.forms.forEach((function(t){t.formDetail=e.assembleFormDetail(t),e.startFormObserver(t,e.formUpdateHandlers)}))}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:$a,custom_enum:Ya.INIT_ERROR})}}},{key:"getOverallFormDetail",value:function(){try{return this.forms&&this.forms.length>0?(this.forms.some((function(e){var t=e.el;return!document.body.contains(t)}))&&this.init(),JSON.stringify(this.forms.map((function(e){return e.formDetail})).filter((function(e){return e})))):"[]"}catch(e){return Ai(Ir.CUSTOM_ERROR,e,{custom_name:$a,custom_enum:Ya.GET_OVERALL_FORM_DETAIL_ERROR}),"[]"}}},{key:"addFormUpdateHandler",value:function(e){this.formUpdateHandlers.push(e)}},{key:"startFormObserver",value:function(e,t){var n=this;try{var r=ni((function(){var r=n.assembleFormDetail(e);(!e.formDetail||r&&ui(r,e.formDetail))&&(e.formDetail=r,t.forEach((function(t){return t.call(n,e.formDetail)})))}),tc,this);if(e.el.parentNode){var i=e.el.parentNode;this.observer&&this.observer.disconnect(),this.observer=new MutationObserver(r),this.observer.observe(i,{attributes:!0,childList:!0,subtree:!0}),i.addEventListener("click",r,{capture:!0})}}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:$a,custom_enum:Ya.FORM_OBSERVER_ERROR})}}},{key:"detectFormElement",value:function(){try{var e=[0,0,0],t=function(e){return(t=Ac(e||Ic,document)).filter((function(e){return!t.some((function(t){return t.contains(e)&&t!==e}))}));var t}(this.rules);if(!t)return[];var n=t.map((function(e){return{el:e,questions:[]}}));return n.forEach((function(t){var n,r=function(e){return Ac(Tc,e)}(t.el),i=new Set([]);r.forEach((function(n){var r=function(e,t){var n=Ac(Oc,e);if(n&&n.length)return{els:n,from:Ec.CONTAIN};var r=e.getAttribute("for");return!(!r||(n=function(e,t){return Ac(["input[id='".concat(e,"'],select[id='").concat(e,"'],textarea[id='").concat(e,"']")],t)}(r,t),!n))&&{els:n,from:Ec.ID}}(n,t.el);if(r){var o=r.els,a=r.from,c=o.filter((function(e){return!Pc(e)})).map((function(e){return i.add(e),{el:e,from:a}}));c&&c.length&&(e[a]=1,t.questions.push({el:n,answers:c}))}})),(n=t.el,Ac(Oc,n)).filter((function(e){return!Pc(e)})).forEach((function(n){if(!i.has(n)){e[Ec.SELECTOR]=1;var r=function(e,t){return function e(n){return null==n||n.isSameNode(t)?t:Rc(n).length>0?n:e(n.parentNode)}(e.parentNode)}(n,t.el);t.questions.push({el:r,answers:[{el:n,from:Ec.SELECTOR}]})}}))})),Ni(Ir.CUSTOM_INFO,{custom_name:"form_detail_answer_from",custom_enum:e.join("")}),n}catch(e){return Ai(Ir.CUSTOM_ERROR,e,{custom_name:$a,custom_enum:Ya.DETECT_FORM_ELEMENT_ERROR}),[]}}},{key:"calculateQuestionFilledTime",value:function(e){var t=e.el,n=e.answers,r=ic(t),i=n.reduce((function(e,t){var n=t.el,r=n.getAttribute("type");return r&&Sc.indexOf(r.toLowerCase())>-1?"".concat(e,",").concat(n.checked):"".concat(e,",").concat(n.value)}),"");this.answerMap[r]||(this.answerMap[r]={defaultValue:i,value:i});var o=this.answerMap[r],a=o.defaultValue,c=o.filledTime;if(this.answerMap[r].value=i,a!==i)return c||(this.answerMap[r].filledTime=+new Date);delete this.answerMap[r].filledTime}},{key:"assembleFormDetail",value:function(e){var t=this,n=e.el,r=e.questions;try{var i={xpath:ic(n),id:n.id,name:kc(n.getAttribute("name")),tag:n.tagName.toLowerCase(),class_name:n.className,questions:[],width:n.offsetWidth,height:n.offsetHeight,is_visible:wc(n)};return i.questions=r.map((function(e){var n=e.el,r=e.answers,i={xpath:ic(n),id:n.id,name:kc(Rc(n)),tag:n.tagName.toLowerCase(),class_name:n.className,filled_time:t.calculateQuestionFilledTime(e),answers:[],width:n.offsetWidth,height:n.offsetHeight,is_visible:wc(n)};return r.forEach((function(e){var t=e.el,n=e.from;t&&"SELECT"===t.tagName.toUpperCase()?i.answers=i.answers.concat(Array.from(t.querySelectorAll("option")).map((function(e){return{xpath:ic(e),id:e.id,name:kc(e.value||e.innerText),tag:e.tagName.toLowerCase(),class_name:e.className,from:n,width:e.offsetWidth,height:e.offsetHeight,is_visible:wc(t)}}))):i.answers.push({xpath:ic(t),id:t.id,name:kc(t.getAttribute("name")),tag:t.tagName.toLowerCase(),class_name:t.className,input_type:t.getAttribute("type"),placeholder:kc(t.getAttribute("placeholder")),from:n,width:t.offsetWidth,height:t.offsetHeight,is_visible:wc(t)})})),i})),i}catch(e){return void Ai(Ir.CUSTOM_ERROR,e,{custom_name:$a,custom_enum:Ya.ASSEMBLE_FORM_DETAIL_ERROR})}}}]),e}(),Dc=["United States","US","Canada","CA","Australia","AU","Mexico","MX","Argentina","AR","Chile","CL","Colombia","CO","Fiji","FJ","Liberia","LR","Namibia","NA","New Zealand","NZ","Singapore","SG","Solomon Islands","SB","Suriname","SR","South Africa","ZA","Barbados","BB","Belize","BZ","Cuba","CU","Dominican Republic","DO","Guyana","GY","Jamaica","JM","Cayman Islands","KY","Trinidad and Tobago","TT","Tuvalu","TV","Zimbabwe","ZW","United Kingdom","GB","Egypt","EG","Falkland Islands","FK","Gibraltar","GI","Guernsey","GG","Isle of Man","IM","Jersey","JE","Lebanon","LB","Saint Helena","SH","Syria","SY","Sudan","SD","Japan","JP","China","CN","Japan","JP","CN","South Korea","KR","Philippines","PH","Cuba","CU","Sweden","SE","Norway","NO","Denmark","DK","Iceland","IS","Costa Rica","CR","El Salvador","SV","Bolivia","BO","Venezuela","VE","Bahamas","BS","Brunei","BN","Ethiopia","ET","Eritrea","ER","Iran","IR","Oman","OM","Qatar","QA","Saudi Arabia","SA","Yemen","YE","Bulgaria","BG","Kyrgyzstan","KG","Central African CFA franc zone","XAF","West African CFA franc zone","XOF"].map((function(e){return e.toUpperCase()})),Lc=["AED","AFN","ALL","AMD","ANG","AOA","ARS","AUD","AWG","AZN","BAM","BBD","BDT","BGN","BHD","BIF","BMD","BND","BOB","BOV","BRL","BSD","BTC","BTN","BWP","BYN","BYR","BZD","CAD","CDF","CHE","CHF","CHW","CLF","CLP","CNH","CNY","COP","COU","CRC","CUC","CUP","CVE","CZK","DJF","DKK","DOP","DZD","EEK","EGP","ERN","ETB","ETH","EUR","FJD","FKP","GBP","GEL","GGP","GHC","GHS","GIP","GMD","GNF","GTQ","GYD","HKD","HNL","HRK","HTG","HUF","IDR","ILS","IMP","INR","IQD","IRR","ISK","JEP","JMD","JOD","JPY","KES","KGS","KHR","KMF","KPW","KRW","KWD","KYD","KZT","LAK","LBP","LKR","LRD","LSL","LTC","LTL","LVL","LYD","MAD","MDL","MGA","MKD","MMK","MNT","MOP","MRO","MRU","MUR","MVR","MWK","MXN","MXV","MYR","MZN","NAD","NGN","NIO","NOK","NPR","NZD","OMR","PAB","PEN","PGK","PHP","PKR","PLN","PYG","QAR","RMB","RON","RSD","RUB","RWF","SAR","SBD","SCR","SDG","SEK","SGD","SHP","SLL","SOS","SRD","SSP","STD","STN","SVC","SYP","SZL","THB","TJS","TMT","TND","TOP","TRL","TRY","TTD","TVD","TWD","TZS","UAH","UGX","USD","UYI","UYU","UYW","UZS","VEF","VES","VND","VUV","WST","XAF","XBT","XCD","XOF","XPF","XSU","XUA","YER","ZAR","ZMW","ZWD","ZWL"],jc=function(e){try{var t=e.plugins&&e.plugins.AutoConfig;return t&&t.vc_rules}catch(e){return}},xc=function(e,t){var n,r;try{var i=e.getPageInfo();if(i.url.includes("checkout")){var o=Object.values(t)[0];for(var a in t)i.url.includes(a)&&(o=t[a]);if(o){var c,s=N(o);try{for(s.s();!(c=s.n()).done;){var u=c.value,l=u.currency.val,f=Uc(u.valueXpath,u.valueClass),d=null==f?void 0:f.textContent;if(d){var h=Fc(d);if(h){var p=void 0,v=void 0,g=void 0;if(u.currency.xpath){var _=null===(n=document.evaluate(u.currency.xpath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)||void 0===n?void 0:n.textContent;_&&Ni(Ir.CUSTOM_INFO,{custom_name:"auto_value_currency_currency_code_form_xpath",extJSON:{url:i.url,currencyCode:_,vcConfig:t}}),_&&Lc.includes(_.toUpperCase().trim())&&(v=_.toUpperCase().trim())}if(u.countryCodeXpath){var y=null===(r=document.evaluate(u.countryCodeXpath,document,null,XPathResult.FIRST_ORDERED_NODE_TYPE,null).singleNodeValue)||void 0===r?void 0:r.textContent;y&&Ni(Ir.CUSTOM_INFO,{custom_name:"auto_value_currency_country_form_xpath",extJSON:{url:i.url,country:y,vcConfig:t}}),y&&Dc.includes(y.toUpperCase().trim())&&(p=y.toUpperCase().trim())}try{var m=new URL(null==i?void 0:i.url).hostname.split(".");for(var b in m)Dc.includes(m[b].toUpperCase())&&(g=m[b].toUpperCase())}catch(e){}var E={vc_properties:{value:h,currency:v||l,ori_value:d,rule_key:u.rule_key,country_code:p||g}};return Ni(Ir.CUSTOM_INFO,{custom_name:"auto_value_currency_update_info",extJSON:{url:i.url,autoProperties:E,vcConfig:t}}),Bc(Gc,E),E}}}}catch(e){s.e(e)}finally{s.f()}}return null}return null}catch(e){return Ai(Ir.CUSTOM_ERROR,e,{custom_name:"auto_value_currency_update_error",custom_enum:"auto_value_currency",extJSON:{error:e}}),null}};function Uc(e,t){for(var n,r=document.evaluate(e,document,null,XPathResult.ORDERED_NODE_ITERATOR_TYPE,null),i=null;n=r.iterateNext();)/\d/.test(n.innerText)&&(i=n);if(!i&&t)for(var o=document.getElementsByClassName(t),a=0;a<o.length;a++){var c=o[a];c instanceof HTMLElement&&/\d/.test(c.innerText)&&(i=c)}return i}function Fc(e){var t,n,r,i,o=e.match(/(?:\d[\d\s,.]*\d|\d)/g);if(o){var a,c=o[0],s=N(o);try{for(s.s();!(a=s.n()).done;){if(a.value!==c)return null}}catch(e){s.e(e)}finally{s.f()}return n=(t=c).replace(/[\s,\.]/g,""),r=Math.max(t.lastIndexOf("."),t.lastIndexOf(",")),i=!1,-1!==r&&r>=t.length-3&&(i=!0),i&&(n=n.slice(0,r-(t.length-1))+"."+n.slice(r-(t.length-1))),n}return null}var Bc=function(e,t){try{sessionStorage.setItem(e,JSON.stringify(t))}catch(e){}},Hc=function(e){try{var t=sessionStorage.getItem(e);return t?JSON.parse(t):null}catch(e){return null}},Gc="value_currency_rule",Vc=[Za.CLICK,Za.SCROLL],Jc=function(){function e(t){var n=this;i(this,e),this.handlerArray=t,Vc.forEach((function(e){window.addEventListener(e.toLowerCase(),ni((function(){n.interactionHandler(e)}),tc,n),{capture:!0,passive:!0})}))}return a(e,[{key:"iterateHandlerArray",value:function(e){this.handlerArray.forEach((function(t){return t(e)}))}},{key:"interactionHandler",value:function(e){var t=this;this.timeoutId&&clearTimeout(this.timeoutId),this.iterateHandlerArray(e),this.timeoutId=setTimeout((function(){t.iterateHandlerArray(e)}),tc)}}]),e}(),Wc=function(){function e(){i(this,e),this.history={}}return a(e,[{key:"hasReport",value:function(e,t,n){var r=this.genHistoryKey(e,t);return this.history[r]&&this.history[r].indexOf(n)>-1}},{key:"addHistory",value:function(e,t,n){var r=this.genHistoryKey(e,t);this.history[r]||(this.history[r]=[]),this.history[r].push(n)}},{key:"clearHistory",value:function(){this.history={}}},{key:"genHistoryKey",value:function(e,t){return"".concat(e,":").concat(t)}}]),e}(),Kc=function(){function e(t,n,r){i(this,e),this.context=t,this.reportHistory=new Wc,this.reporters=n,this.reportService=r}return a(e,[{key:"report",value:function(e,t,n){var r=this,i=Ci(yr.AUTO_CONFIG),o=this.getReportPixelList(t,n),a=this.assemblyReportData(e,n,o);a&&i&&Vi(this.reportService.reportPreposition||[]).then((function(){r.reportService.report(i,a,Gn.defaultReport)}))}},{key:"clearHistory",value:function(){this.reportHistory.clearHistory()}},{key:"getReportPixelList",value:function(e,t){var n=this,r=JSON.stringify(Object.assign({},t,{page_trigger:void 0}));return this.reporters.filter((function(t){return!!ac(t)&&cc(t,e)})).filter((function(t){var i=t.getReporterId();return!([Qa.AUTO_COLLECTION,Qa.AUTO_FORM].indexOf(e)>-1&&n.reportHistory.hasReport(e,i,r))&&(n.reportHistory.addHistory(e,i,r),t)}))}},{key:"assemblyReportData",value:function(e,t,n){if(0!==n.length){var r=n.map((function(e){return e.getReporterId()})),i=this.context.getPageSign(),o=this.reporters[0].assemblyData(r[0],"",{},{},yr.AUTO_CONFIG);return delete o.event,o.action=e,o.auto_collected_properties=t,o.context.pixel||(o.context.pixel={}),o.context.pixel.code=r[0],o.context.pixel.codes=r.join("|"),o.context.index=i.index,o.context.session_id=i.sessionId,o.context.pageview_id=i.pageId,o.message_id=o.message_id.replace(/-[^-]*$/,""),o}}}]),e}(),qc=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Yc=function(e,t){return function(n,r){t(n,r,e)}},Xc="AutoConfig",Qc=function(e){s(n,e);var t=v(n);function n(e,r,o,a){var c;return i(this,n),(c=t.call(this,{name:Xc,reporters:r,context:e})).autoCollectedMetadata={},c.initialize=!1,c.autoFormUpdateHandler=ni((function(e){if(c.autoForm){if(c.autoCollectedFormDetail=c.autoForm.getOverallFormDetail(),c.autoCollectedFormDetail.length>3e4)return void Ai(Ir.CUSTOM_ERROR,{message:"".concat(String(c.autoCollectedFormDetail.length))},{custom_name:$a,custom_enum:Ya.OVER_LENGTH});c.actTracker.report(Xa.METADATA,Qa.AUTO_FORM,{page_trigger:e,form_details:c.autoCollectedFormDetail})}}),200,h(c)),c.autoCollectionUpdateHandler=ni((function(e){eo(qi.AUTO_CONFIG_CONTENT),c.autoCollectedMetadata=bc(c.filter),to(qi.AUTO_CONFIG_CONTENT),c.actTracker.report(Xa.METADATA,Qa.AUTO_COLLECTION,{page_trigger:e,content_data:c.autoCollectedMetadata})}),200,h(c)),c.autoClickCallback=function(e){try{c.signal_insights_config&&xc(c.context,c.signal_insights_config);var t=function(e){var t=e,n=e.parentNode,r=0,i=!1;try{i=ci(t)}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:t}}),i=!1}if(i)return t;for(;r<5&&n&&n!==document;){var o=!1;try{o=ci(n)}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:t}}),o=!1}if(o)return n;n=n.parentNode,r++}return e}(e.target);if(t){var n=function(e){var t=e.tag,n=e.class,r=e.destination,i=e.id,o=e.name,a=e.type,c=e.value,s=e.rect,u=e.xpath,l=e.inner_text,f=e.image_url,d={tag:t,attributes:{},inner_text:l,xpath:u,num_child_buttons:e.num_child_buttons,timestamp:(new Date).toISOString(),position:s?{x:s.x,y:s.y}:{x:"",y:""}};return n&&(d.attributes.class=n),r&&(d.attributes.destination=r),i&&(d.attributes.id=i),o&&(d.attributes.name=o),a&&(d.attributes.type=a),c&&(d.attributes.value=c),f&&(d.image_url=f),d}(function(e){for(var t,n,r,i,o,a,c,s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],u=e.attributes,l={type:"",value:"",name:"",class:"",dataset:"",id:"",tag:"",destination:"",xpath:"",inner_text:"",image_url:"",num_child_buttons:0},f=0;f<u.length;f++){var d=u[f];l[d.name]=d.value}var h=e.dataset;l.dataset=JSON.stringify(h),l.id=null!==(t=e.id)&&void 0!==t?t:"",l.class=null!==(n=e.className)&&void 0!==n?n:"",l.tag=e.tagName,l.destination=lc(e),l.name=null!==(r=e.getAttribute("name"))&&void 0!==r?r:"",l.value=null!==(i=e.getAttribute("value"))&&void 0!==i?i:"",l.type=null!==(o=e.getAttribute("type"))&&void 0!==o?o:"";var p=e.getBoundingClientRect();l.rect=p;try{l.xpath=rc(e)}catch(t){l.xpath="",Ai(Ir.CUSTOM_ERROR,t,{custom_name:"button_check_error",custom_enum:"auto_click",extJSON:{element:e}})}return l.inner_text=null!==(a=e.innerText)&&void 0!==a?a:"",l.image_url=null!==(c=e.getAttribute("src"))&&void 0!==c?c:"",l.num_child_buttons=s?uc(e):0,l}(t));if(function(e){var t,n,r=(null===(t=e.inner_text)||void 0===t?void 0:t.toString().toLowerCase())||"",i=(null===(n=e.image_url)||void 0===n?void 0:n.toString().toLowerCase())||"",o=[];if(e.attributes){var a=e.attributes;o=[a.class,a.id,a.name,a.type,a.value,a.destination].map((function(e){return(null==e?void 0:e.toString().toLowerCase())||""}))}return[r,i].concat(b(o)).some(nc)}(n))return void Ni(Ir.CUSTOM_INFO,{custom_name:"sensitive_button",extJSON:{attributes:{id:n.attributes.id,tag:n.tag,class:n.attributes.class}}});c.reportButtonClick(n)}}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"auto_click_callback_error",custom_enum:"auto_click"})}},c.filter=o.auto_config||{open_graph:[],microdata:[],json_ld:[],meta:[]},c.actTracker=new Kc(e,r,a),c}return a(n,[{key:"initBaseFeature",value:function(e){!this.initialize&&ac(e)&&(this.initAutoClick(),this.initAutoCollection(),this.initInteractionListener(e),this.initialize=!0)}},{key:"initExtraFeature",value:function(e){!this.autoForm&&this.initialize&&cc(e,Qa.AUTO_FORM)&&this.initAutoForm(e),this.initAutoVC(e)}},{key:"initInteractionListener",value:function(e){var t=this,n=e.options;!this.initialize&&n&&!1!==n.autoConfigListener&&new Jc([function(e){oc(t.autoCollectionUpdateHandler,t)(e)},function(e){oc(t.autoFormUpdateHandler,t)(e)}])}},{key:"initAutoClick",value:function(){sc(this.autoClickCallback)}},{key:"initAutoVC",value:function(e){var t=jc(e);t&&(this.signal_insights_config=t)}},{key:"initAutoCollection",value:function(){}},{key:"initAutoForm",value:function(e){eo(qi.AUTO_CONFIG_FORM),this.autoForm=new Mc(e),to(qi.AUTO_CONFIG_FORM),this.autoForm.addFormUpdateHandler(this.autoFormUpdateHandler.bind(this)),this.autoCollectedFormDetail=this.autoForm.getOverallFormDetail()}},{key:"pixelDidMount",value:function(e){this.initBaseFeature(e),this.initExtraFeature(e)}},{key:"pixelSend",value:function(e,t,n){var r=this.reporters.find((function(t){return t.getReporterId()===e}));this.signal_insights_config&&xc(this.context,this.signal_insights_config),r&&jc(r)&&Hc(Gc)&&("CompletePayment"===t||"Pageview"===t||"InitiateCheckout"===t||"PlaceAnOrder"===t)&&(n.auto_collected_properties=Hc(Gc)),"CompletePayment"===t&&setTimeout((function(){!function(e){try{sessionStorage.removeItem(e)}catch(e){}}(Gc)}),500),"Pageview"===t&&(r&&!ac(r)||(oc(this.autoCollectionUpdateHandler,this)(Za.PAGE_VIEW),oc(this.autoFormUpdateHandler,this)(Za.PAGE_VIEW)))}},{key:"pageUrlDidChange",value:function(e,t){null!=t&&""!=t&&(this.autoCollectionUpdateHandler(Za.URL_CHANGE),this.autoFormUpdateHandler(Za.URL_CHANGE))}},{key:"pageWillLeave",value:function(){this.autoCollectionUpdateHandler(Za.PAGE_LEAVE),this.autoFormUpdateHandler(Za.PAGE_LEAVE)}},{key:"reportButtonClick",value:function(e){var t;this.actTracker.report(Xa.CLICK,Qa.AUTO_VC,{page_trigger:Za.CLICK,trigger_element:e,vc_properties:null===(t=Hc(Gc))||void 0===t?void 0:t.vc_properties}),this.actTracker.report(Xa.CLICK,Qa.AUTO_VC_REVERSE,{page_trigger:Za.CLICK,trigger_element:e})}}]),n}(lo);Qc=qc([C.injectable(),Yc(0,C.inject(Er.CONTEXT)),Yc(1,C.inject(Er.TTQ_REPORTERS)),Yc(2,C.inject(Er.TTQ_GLOBAL_OPTIONS)),Yc(3,C.inject(Er.REPORT_SERVICE))],Qc);var zc={exports:{}};!function(e,t){var n="__lodash_hash_undefined__",r=9007199254740991,i="[object Arguments]",o="[object Boolean]",a="[object Date]",c="[object Function]",s="[object GeneratorFunction]",u="[object Map]",l="[object Number]",f="[object Object]",d="[object Promise]",h="[object RegExp]",p="[object Set]",v="[object String]",g="[object Symbol]",_="[object WeakMap]",y="[object ArrayBuffer]",m="[object DataView]",b="[object Float32Array]",E="[object Float64Array]",I="[object Int8Array]",T="[object Int16Array]",O="[object Int32Array]",S="[object Uint8Array]",N="[object Uint8ClampedArray]",A="[object Uint16Array]",w="[object Uint32Array]",C=/\w*$/,P=/^\[object .+?Constructor\]$/,k=/^(?:0|[1-9]\d*)$/,M={};M[i]=M["[object Array]"]=M[y]=M[m]=M[o]=M[a]=M[b]=M[E]=M[I]=M[T]=M[O]=M[u]=M[l]=M[f]=M[h]=M[p]=M[v]=M[g]=M[S]=M[N]=M[A]=M[w]=!0,M["[object Error]"]=M[c]=M[_]=!1;var D="object"==typeof R&&R&&R.Object===Object&&R,L="object"==typeof self&&self&&self.Object===Object&&self,j=D||L||Function("return this")(),x=t&&!t.nodeType&&t,U=x&&e&&!e.nodeType&&e,F=U&&U.exports===x;function B(e,t){return e.set(t[0],t[1]),e}function H(e,t){return e.add(t),e}function G(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function V(e){var t=!1;if(null!=e&&"function"!=typeof e.toString)try{t=!!(e+"")}catch(e){}return t}function J(e){var t=-1,n=Array(e.size);return e.forEach((function(e,r){n[++t]=[r,e]})),n}function W(e,t){return function(n){return e(t(n))}}function K(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}var q=Array.prototype,Y=Function.prototype,X=Object.prototype,Q=j["__core-js_shared__"],z=function(){var e=/[^.]+$/.exec(Q&&Q.keys&&Q.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Z=Y.toString,$=X.hasOwnProperty,ee=X.toString,te=RegExp("^"+Z.call($).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ne=F?j.Buffer:void 0,re=j.Symbol,ie=j.Uint8Array,oe=W(Object.getPrototypeOf,Object),ae=Object.create,ce=X.propertyIsEnumerable,se=q.splice,ue=Object.getOwnPropertySymbols,le=ne?ne.isBuffer:void 0,fe=W(Object.keys,Object),de=xe(j,"DataView"),he=xe(j,"Map"),pe=xe(j,"Promise"),ve=xe(j,"Set"),ge=xe(j,"WeakMap"),_e=xe(Object,"create"),ye=Ge(de),me=Ge(he),be=Ge(pe),Ee=Ge(ve),Ie=Ge(ge),Te=re?re.prototype:void 0,Oe=Te?Te.valueOf:void 0;function Se(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ne(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Ae(e){var t=-1,n=e?e.length:0;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}function Re(e){this.__data__=new Ne(e)}function we(e,t){var n=Je(e)||function(e){return function(e){return function(e){return!!e&&"object"==typeof e}(e)&&We(e)}(e)&&$.call(e,"callee")&&(!ce.call(e,"callee")||ee.call(e)==i)}(e)?function(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}(e.length,String):[],r=n.length,o=!!r;for(var a in e)!t&&!$.call(e,a)||o&&("length"==a||Be(a,r))||n.push(a);return n}function Ce(e,t,n){var r=e[t];$.call(e,t)&&Ve(r,n)&&(void 0!==n||t in e)||(e[t]=n)}function Pe(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function ke(e,t,n,r,d,_,R){var P;if(r&&(P=_?r(e,d,_,R):r(e)),void 0!==P)return P;if(!Ye(e))return e;var k=Je(e);if(k){if(P=function(e){var t=e.length,n=e.constructor(t);t&&"string"==typeof e[0]&&$.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!t)return function(e,t){var n=-1,r=e.length;t||(t=Array(r));for(;++n<r;)t[n]=e[n];return t}(e,P)}else{var D=Fe(e),L=D==c||D==s;if(Ke(e))return function(e,t){if(t)return e.slice();var n=new e.constructor(e.length);return e.copy(n),n}(e,t);if(D==f||D==i||L&&!_){if(V(e))return _?e:{};if(P=function(e){return"function"!=typeof e.constructor||He(e)?{}:(t=oe(e),Ye(t)?ae(t):{});var t}(L?{}:e),!t)return function(e,t){return Le(e,Ue(e),t)}(e,function(e,t){return e&&Le(t,Xe(t),e)}(P,e))}else{if(!M[D])return _?e:{};P=function(e,t,n,r){var i=e.constructor;switch(t){case y:return De(e);case o:case a:return new i(+e);case m:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,r);case b:case E:case I:case T:case O:case S:case N:case A:case w:return function(e,t){var n=t?De(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}(e,r);case u:return function(e,t,n){return G(t?n(J(e),!0):J(e),B,new e.constructor)}(e,r,n);case l:case v:return new i(e);case h:return function(e){var t=new e.constructor(e.source,C.exec(e));return t.lastIndex=e.lastIndex,t}(e);case p:return function(e,t,n){return G(t?n(K(e),!0):K(e),H,new e.constructor)}(e,r,n);case g:return c=e,Oe?Object(Oe.call(c)):{}}var c}(e,D,ke,t)}}R||(R=new Re);var j=R.get(e);if(j)return j;if(R.set(e,P),!k)var x=n?function(e){return function(e,t,n){var r=t(e);return Je(e)?r:function(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}(r,n(e))}(e,Xe,Ue)}(e):Xe(e);return function(e,t){for(var n=-1,r=e?e.length:0;++n<r&&!1!==t(e[n],n,e););}(x||e,(function(i,o){x&&(i=e[o=i]),Ce(P,o,ke(i,t,n,r,o,e,R))})),P}function Me(e){return!(!Ye(e)||(t=e,z&&z in t))&&(qe(e)||V(e)?te:P).test(Ge(e));var t}function De(e){var t=new e.constructor(e.byteLength);return new ie(t).set(new ie(e)),t}function Le(e,t,n,r){n||(n={});for(var i=-1,o=t.length;++i<o;){var a=t[i],c=r?r(n[a],e[a],a,n,e):void 0;Ce(n,a,void 0===c?e[a]:c)}return n}function je(e,t){var n,r,i=e.__data__;return("string"==(r=typeof(n=t))||"number"==r||"symbol"==r||"boolean"==r?"__proto__"!==n:null===n)?i["string"==typeof t?"string":"hash"]:i.map}function xe(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Me(n)?n:void 0}Se.prototype.clear=function(){this.__data__=_e?_e(null):{}},Se.prototype.delete=function(e){return this.has(e)&&delete this.__data__[e]},Se.prototype.get=function(e){var t=this.__data__;if(_e){var r=t[e];return r===n?void 0:r}return $.call(t,e)?t[e]:void 0},Se.prototype.has=function(e){var t=this.__data__;return _e?void 0!==t[e]:$.call(t,e)},Se.prototype.set=function(e,t){return this.__data__[e]=_e&&void 0===t?n:t,this},Ne.prototype.clear=function(){this.__data__=[]},Ne.prototype.delete=function(e){var t=this.__data__,n=Pe(t,e);return!(n<0)&&(n==t.length-1?t.pop():se.call(t,n,1),!0)},Ne.prototype.get=function(e){var t=this.__data__,n=Pe(t,e);return n<0?void 0:t[n][1]},Ne.prototype.has=function(e){return Pe(this.__data__,e)>-1},Ne.prototype.set=function(e,t){var n=this.__data__,r=Pe(n,e);return r<0?n.push([e,t]):n[r][1]=t,this},Ae.prototype.clear=function(){this.__data__={hash:new Se,map:new(he||Ne),string:new Se}},Ae.prototype.delete=function(e){return je(this,e).delete(e)},Ae.prototype.get=function(e){return je(this,e).get(e)},Ae.prototype.has=function(e){return je(this,e).has(e)},Ae.prototype.set=function(e,t){return je(this,e).set(e,t),this},Re.prototype.clear=function(){this.__data__=new Ne},Re.prototype.delete=function(e){return this.__data__.delete(e)},Re.prototype.get=function(e){return this.__data__.get(e)},Re.prototype.has=function(e){return this.__data__.has(e)},Re.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Ne){var r=n.__data__;if(!he||r.length<199)return r.push([e,t]),this;n=this.__data__=new Ae(r)}return n.set(e,t),this};var Ue=ue?W(ue,Object):function(){return[]},Fe=function(e){return ee.call(e)};function Be(e,t){return!!(t=null==t?r:t)&&("number"==typeof e||k.test(e))&&e>-1&&e%1==0&&e<t}function He(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||X)}function Ge(e){if(null!=e){try{return Z.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Ve(e,t){return e===t||e!=e&&t!=t}(de&&Fe(new de(new ArrayBuffer(1)))!=m||he&&Fe(new he)!=u||pe&&Fe(pe.resolve())!=d||ve&&Fe(new ve)!=p||ge&&Fe(new ge)!=_)&&(Fe=function(e){var t=ee.call(e),n=t==f?e.constructor:void 0,r=n?Ge(n):void 0;if(r)switch(r){case ye:return m;case me:return u;case be:return d;case Ee:return p;case Ie:return _}return t});var Je=Array.isArray;function We(e){return null!=e&&function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}(e.length)&&!qe(e)}var Ke=le||function(){return!1};function qe(e){var t=Ye(e)?ee.call(e):"";return t==c||t==s}function Ye(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function Xe(e){return We(e)?we(e):function(e){if(!He(e))return fe(e);var t=[];for(var n in Object(e))$.call(e,n)&&"constructor"!=n&&t.push(n);return t}(e)}e.exports=function(e){return ke(e,!0,!0)}}(zc,zc.exports);var Zc=zc.exports,$c={EMPTY_EVENT_TYPE_NAME:{title:"Missing Event Name",desc:"The event name for one or more of your events is empty. This can affect the accuracy of reporting for your conversions.",suggestion:"Go to your source code and add a name that follows our format requirements and TikTok policies.",link:"https://ads.tiktok.com/marketing_api/docs?rid=5ipocbxyw8v&id=1701890973258754"},INVALID_CONTENT_ID:{title:"Missing value for content ID",desc:"Include a value for your 'content_id' parameter. This is required for Video Shopping Ads (VSA).",suggestion:"If you are or plan to run Video Shopping Ads (VSA), go to your source code and include a value for the 'content_id' parameter.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_CONTENT_TYPE:{title:"Invalid content type",desc:'The content type for one or more of your events is invalid. Content type must be either "product" or "product_group".',suggestion:"Go to your source code and update the content type.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_CURRENCY_CODE:{title:"Invalid currency code",desc:"The currency code for one or more of your events isn't supported. This can affect the accuracy of reporting for your ROAS.",suggestion:"Go to your source code and update the 'currency' parameters with a supported currency code.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_EMAIL_FORMAT:{title:"Incorrect email format",desc:"The email format for your events does not match the format supported. This can impact Advanced Matching and your ad performance.",suggestion:"Go to your source code and update the format of your shared emails. It should follow 'xxx@xxx.com' format.",link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_EMAIL_INFORMATION:{title:"Invalid email information",desc:"The emails shared with your events were invalid.",suggestion:'Go to your source code to double check shared emails. Leave your string empty when customer information isn\'t available. Avoid spaces, "undefined", or other hardcoded values.',link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_EVENT_PARAMETER_VALUE:{title:"Invalid value parameter",desc:"The 'value' parameter for one or more of your events is invalid. This is used calculate ROAS for people and the bid for your highest value customers. Parameters must be an integer or in the decimal format (e.g. 9.99). Also, they can't contain currency symbols, special characters, letters, or commas.",suggestion:"Go to your source code and update the 'value' parameter. It can only include numbers greater than or equal to zero (e.g. 9.99). Do not include currency symbols, special characters, letters, or commas.",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},INVALID_PHONE_NUMBER_FORMAT:{title:"Incorrect phone number format",desc:"The phone number format for your events doesn't follow the E.164 format. This can affect Advanced Matching and your ad performance.",suggestion:"Go to your source code and update your shared phone numbers. It should follow the E.164 format.",link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},INVALID_PHONE_NUMBER_INFORMATION:{title:"Invalid phone number information",desc:"The phone numbers shared with your events were invalid.",suggestion:'Go to your source code to double check shared phone numbers. Leave your string empty when customer information isn\'t available. Avoid spaces, "undefined", or other hardcoded values.',link:"https://ads.tiktok.com/marketing_api/docs?id=1739585700402178"},LONG_EVENT_TYPE_NAME:{title:"Event Name Too Long",desc:"1 event type exceeds the 50 character limit.",suggestion:"Go to your source code and make these event names 50 characters or less.",link:"https://ads.tiktok.com/help/article/custom-events?lang=en"},MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT:{title:"Invalid Event Name Format",desc:"1 event name was rejected for not following TikTok format requirements.",suggestion:"Go to your source code and update these event types according to TikTok format requirements.",link:"https://ads.tiktok.com/help/article/custom-events?lang=en"},MISSING_CONTENT_ID:{title:"Missing 'content_id' paramter",desc:"The 'content_id' parameter isn't being received. This is required for Video Shopping Ads (VSA).",suggestion:"Include the 'content_id' parameter in your source code. This is required for Video Shopping Ads (VSA).",link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},MISSING_CURRENCY_PARAMETER:{title:'Missing "currency" parameter',desc:"Events shared are missing a 'currency' parameter. This impacts our ability to receive the value amount correctly, which can affect the accuracy of reporting for your return on ad spend.",suggestion:'Go to your source code and include the "currency" parameter. You can check supported currency codes. {{learn_more}}',link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},MISSING_EMAIL_AND_PHONE:{title:"Missing email and phone number",desc:"Email and phone number info isn't being received. This information is required for Complete Payment events.",suggestion:"Improve your email and phone coverage. This allows you to attribute more conversions and reach more people with your ads.",link:"https://ads.tiktok.com/marketing_api/docs?rid=5ipocbxyw8v&id=1701890972946433"},MISSING_VALUE_PARAMETER:{title:'Missing "value" parameter',desc:"Events shared are missing a 'value' parameter'. This is used calculate ROAS for people and the bid for your highest value customers. ",suggestion:'Go to your source code and include the "value" parameter.',link:"https://ads.tiktok.com/help/article/standard-events-parameters?redirected=2"},DUPLICATE_PIXEL_CODE:{title:"Duplicate Pixel ID",desc:"The pixel ID is duplicate. This could impact the pixel data accuracy.",suggestion:"Please double check and delete any unnecessary pixel code.",link:""},MISSING_PIXEL_CODE:{title:"Missing pixel ID",desc:"Some of the events sent to your TikTok account are missing a pixel ID.",suggestion:"Go to your source code and double check that the 20-character pixel ID has been added to the ttq.load() function. Don't send null values or spaces. If you edited the base code, ensure the event.js has the 'sdkid' in the Chrome network panel.",link:""},INVALID_PIXEL_CODE:{title:"Invalid pixel ID",desc:"The pixel ID is invalid. This could prevent your pixel from receiving data.",suggestion:"Please go to Events Manager and find the correct pixel ID.",link:""}},es=/^[a-zA-Z]([a-zA-Z_\-\d]{0,}[a-zA-Z\d])?$/,ts=["product","product_group"],ns=["email_is_hashed","phone_is_hashed","sha256_email","sha256_phone"],rs=["AED","ARS","AUD","BDT","BHD","BIF","BOB","BRL","CAD","CHF","CLP","CNY","COP","CRC","CZK","DKK","DZD","EGP","EUR","GBP","GTQ","HKD","HNL","HUF","IDR","ILS","INR","ISK","JPY","KES","KHR","KRW","KWD","KZT","MAD","MOP","MXN","MYR","NGN","NIO","NOK","NZD","OMR","PEN","PHP","PKR","PLN","PYG","QAR","RON","RUB","SAR","SEK","SGD","THB","TRY","TWD","UAH","USD","VES","VND","ZAR"],is=["CompletePayment","InitiateCheckout","AddToCart","PlaceAnOrder","ViewContent","AddToWishlist"],os=function(e){return void 0===e},as="CompletePayment",cs=function(e){var t=e.event,n=void 0===t?"":t;return!!["null","undefined"].includes(n)||(!!/^\s*$/.test(n)||!n)},ss=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},us=function(e,t){return function(n,r){t(n,r,e)}},ls=function(e){s(n,e);var t=v(n);function n(e,r,o){var a,c;return i(this,n),(a=t.call(this,{name:"DiagnosticsConsole",reporters:r,context:e})).isEnableDiagnosticsConsole=!1,a.isEnableDiagnosticsConsole=Boolean(null===(c=null==o?void 0:o.plugins)||void 0===c?void 0:c.DiagnosticsConsole),a}return a(n,[{key:"isDisableDiagnosticsConsole",value:function(){try{return!this.isEnableDiagnosticsConsole||Boolean(Object.values(this.reporters).some((function(e){var t,n;return void 0!==(null===(t=null==e?void 0:e.options)||void 0===t?void 0:t.diagnostics)&&!(null===(n=null==e?void 0:e.options)||void 0===n?void 0:n.diagnostics)})))}catch(e){return!1}}},{key:"warn",value:function(e,t){try{if(this.isDisableDiagnosticsConsole())return;!function(e,t){if(Tr[e]){var n=Jr(),r=$c[e],i="".concat("[TikTok Pixel]"," - ").concat(r.title);r.desc&&(i+="\nIssue: ".concat(r.desc)),r.suggestion&&(i+="\nSuggestion: ".concat(r.suggestion)),t&&Object.keys(t).forEach((function(e){i=i.split("{{".concat(e,"}}")).join(t[e])})),i=i.trim(),r.link&&(i+=" See ".concat(r.link," for more information.")),n&&n.console&&n.console.warn&&n.console.warn(i)}}(e,t)}catch(t){Ai(Ir.CUSTOM_ERROR,t,{custom_name:"diagnostics_console",custom_enum:e})}}},{key:"pixelDidMount",value:function(e){var t=this;e.getParameterInfo().then((function(e){t.handlePixelInfoValidate(e)})).catch((function(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"diagnostics_console",custom_enum:"pixel"})}))}},{key:"pixelSend",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=arguments.length>4?arguments[4]:void 0;try{r&&r._i||i!==yr.TRACK||t===mr||this.handleEventPayloadValidate(Zc(n||{}))}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"diagnostics_console",custom_enum:"track"})}}},{key:"handlePixelInfoValidate",value:function(e){if(e.status===po.Live);else this.warn(Tr.INVALID_PIXEL_CODE)}},{key:"handleEventPayloadValidate",value:function(e){e.properties||(e.properties={}),cs(e)&&this.warn(Tr.EMPTY_EVENT_TYPE_NAME),function(e){var t=e.event,n=void 0===t?"":t;return!!cs(e)||es.test(n)}(e)||this.warn(Tr.MISMATCHED_EVENT_TYPE_NAME_FOR_CUSTOM_EVENT),function(e){var t=e.event;return(void 0===t?"":t).length<=50}(e)||this.warn(Tr.LONG_EVENT_TYPE_NAME),function(e){var t=e.event,n=e._inspection;if(t===as){var r=(void 0===n?{}:n).identity_params,i=void 0===r?{}:r;return 0===Object.keys(i).length||ns.every((function(e){return(i[e]||[]).includes(Wn.EMPTY_VALUE)}))}return!1}(e)&&this.warn(Tr.MISSING_EMAIL_AND_PHONE),function(e){var t=e._inspection,n=void 0===t?{}:t;return!(!n||!n.identity_params)&&((n.identity_params.email_is_hashed||[]).includes(Wn.FILTER_EVENTS)||(n.identity_params.sha256_email||[]).includes(Wn.FILTER_EVENTS))}(e)&&this.warn(Tr.INVALID_EMAIL_INFORMATION),function(e){var t=e._inspection,n=void 0===t?{}:t;return!(!n||!n.identity_params)&&((n.identity_params.email_is_hashed||[]).includes(Wn.UNKNOWN_INVALID)||(n.identity_params.sha256_email||[]).includes(Wn.UNKNOWN_INVALID))}(e)&&this.warn(Tr.INVALID_EMAIL_FORMAT),function(e){var t=e._inspection,n=void 0===t?{}:t;return!(!n||!n.identity_params)&&((n.identity_params.phone_is_hashed||[]).includes(Wn.FILTER_EVENTS)||(n.identity_params.sha256_phone||[]).includes(Wn.FILTER_EVENTS))}(e)&&this.warn(Tr.INVALID_PHONE_NUMBER_INFORMATION),function(e){var t=e._inspection,n=void 0===t?{}:t;return!(!n||!n.identity_params)&&((n.identity_params.phone_is_hashed||[]).includes(Wn.UNKNOWN_INVALID)||(n.identity_params.sha256_phone||[]).includes(Wn.UNKNOWN_INVALID))}(e)&&this.warn(Tr.INVALID_PHONE_NUMBER_FORMAT),function(e){var t=e.event,n=void 0===t?"":t,r=e.properties,i=void 0===r?{}:r;if(is.includes(n)){if(os(i.contents)&&os(i.content_id))return!0;if(!os(i.contents))return!Array.isArray(i.contents)||i.contents.length<1||!i.contents.every((function(e){return e&&!os(e.content_id)}))}return!1}(e)&&this.warn(Tr.MISSING_CONTENT_ID),function(e){var t=e.properties,n=void 0===t?{}:t,r=n.content_id,i=n.contents;return!(!os(r)&&/^\s*$/.test(r))&&(!(!os(i)&&Array.isArray(i))||i.every((function(e){return e&&!os(e.content_id)&&!/^\s*$/.test(e.content_id)})))}(e)||this.warn(Tr.INVALID_CONTENT_ID),function(e){var t=e.properties.content_type;return!t||ts.includes(t)}(e)||this.warn(Tr.INVALID_CONTENT_TYPE),function(e){var t=e.properties.value;return!t||"number"==typeof t||!("string"!=typeof t||!/^\d+(\.\d+)?$/.test(t)&&!/^\d+$/.test(t))}(e)||this.warn(Tr.INVALID_EVENT_PARAMETER_VALUE),function(e){var t=e.event,n=void 0===t?"":t,r=e.properties,i=void 0===r?{}:r;return!(n!==as||!os(i.value))||!(os(i.currency)||!os(i.value))}(e)&&this.warn(Tr.MISSING_VALUE_PARAMETER),function(e){var t=e.properties.currency;return!t||rs.includes(t)}(e)||this.warn(Tr.INVALID_CURRENCY_CODE),function(e){var t=e.event,n=void 0===t?"":t,r=e.properties,i=void 0===r?{}:r;return!(n!==as||!os(i.currency))||!(os(i.value)||!os(i.currency))}(e)&&this.warn(Tr.MISSING_CURRENCY_PARAMETER,{learn_more:""})}}]),n}(lo);ls=ss([C.injectable(),us(0,C.inject(Er.CONTEXT)),us(1,C.inject(Er.TTQ_REPORTERS)),us(2,C.inject(Er.TTQ_GLOBAL_OPTIONS))],ls);var fs=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},ds=function(e,t){return function(n,r){t(n,r,e)}},hs=function(e){s(n,e);var t=v(n);function n(e,r,o,a){var c;return i(this,n),(c=t.call(this,{name:"PangleCookieMatching",reporters:r,context:e})).hasReport=!1,c.reportService=o,c.env=a,c}return a(n,[{key:"isPixelPangleCookieMatching",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this.reporters;if(e){var n=t.find((function(t){return t.getReporterId()===e}));if(n&&n.plugins.PangleCookieMatching)return!0}else if(t.some((function(e){return Boolean(e.plugins.PangleCookieMatching)})))return!0;return!1}},{key:"disablePangleCookie",value:function(){this.isPixelPangleCookieMatching()&&Gi("https://analytics.pangle-ads.com/api/v2/pangle_disable_cookie")}},{key:"pixelSend",value:function(e,t,n){try{if(0===this.context.getPageSign().index&&!gi(this.env)&&n&&n.message_id&&this.isPixelPangleCookieMatching(e)&&!this.hasReport){var r={event:n.event,message_id:n.message_id,context:{library:n.context.library},timestamp:(new Date).toJSON()};this.hasReport=!0,this.reportService.report("https://analytics.pangle-ads.com/api/v2/pangle_pixel",r,Gn.httpReport)}}catch(e){Ai(Ir.CUSTOM_ERROR,e,{custom_name:"pangle_report"})}}}]),n}(lo);hs=fs([C.injectable(),ds(0,C.inject(Er.CONTEXT)),ds(1,C.inject(Er.TTQ_REPORTERS)),ds(2,C.inject(Er.REPORT_SERVICE)),ds(3,C.inject(Er.ENV))],hs);var ps,vs,gs=[{identifier:Er.CALLBACK_PLUGIN,to:ha,name:"Callback"},{identifier:Er.IDENTIFY_PLUGIN,to:Ia,name:"Identify",required:!0},{identifier:Er.WEB_FL_PLUGIN,to:qa,name:"WebFL"},{identifier:Er.PERFORMANCE_INTERACTION_PLUGIN,to:Aa,required:!0,name:"PerformanceInteraction"},{identifier:Er.INTERACTION_MONITOR,to:Pa,name:"WebInteractionMonitor",required:!0},{identifier:Er.PERFORMANCE_MONITOR,to:Va,name:"WebPerformanceMonitor",required:!0},{identifier:Er.AUTO_CONFIG_PLUGIN,to:Qc,name:"AutoConfig"},{identifier:Er.DIAGNOSTICS_CONSOLE_PLUGIN,to:ls,name:"DiagnosticsConsole"},{identifier:Er.PANGLE_COOKIE_MATCHING_PLUGIN,to:hs,name:"PangleCookieMatching"}],_s=/^[\w!#\$%&\'\*\+\/\=\?\^`\{\|\}~\-]+(:?\.[\w!#\$%&\'\*\+\/\=\?\^`\{\|\}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/,ys=function(e){return"function"==typeof Element?e instanceof Element:e&&"object"===t(e)&&e.nodeType===Node.ELEMENT_NODE&&"string"==typeof e.nodeName},ms=function(e,t){var n=e.matches||e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector||null;return!(null===n||!n.call(e,t.join(",")))||e instanceof HTMLButtonElement&&!!t.includes("button[type='".concat(e.type,"']"))},bs=function(e){return e.trim().toLowerCase()},Es=function(e,t){return!(!e||!t)&&e.indexOf(t)>=0},Is=function(e){return"string"==typeof e&&_s.test(e)},Ts=function(e,t){var n=e.id,r=e.name,i=e.placeholder,o=void 0===i?"":i,a=e.value,c=void 0===a?"":a;return t.filter((function(e){return e.length>2?Es(r,e)||Es(n,e)||Es(o,e)||Es(c,e):r===e||n===e||o===e||c===e})).length>0},Os=function(e,n,r,i){var o,a=arguments.length,c=a<3?n:null===i?i=Object.getOwnPropertyDescriptor(n,r):i;if("object"===("undefined"==typeof Reflect?"undefined":t(Reflect))&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,n,r,i);else for(var s=e.length-1;s>=0;s--)(o=e[s])&&(c=(a<3?o(c):a>3?o(n,r,c):o(n,r))||c);return a>3&&c&&Object.defineProperty(n,r,c),c},Ss=function(e,t){return function(n,r){t(n,r,e)}},Ns=function(e){s(r,e);var n=v(r);function r(e,t,o){var a;return i(this,r),(a=n.call(this,{name:"AutoAdvancedMatching",reporters:t,context:e})).rateMS=1e3,a.lastTime=0,a.lastElement=null,a.matchHistory=[],a.config=o.aam||{in_form:!0,selectors:{},exclude_selectors:[],phone_regex:"",phone_selectors:[],restricted_keywords:[]},a.phoneRegex=a.config.phone_regex?new RegExp(a.config.phone_regex):null,a.init(),a}return a(r,[{key:"init",value:function(){var e=this;document.addEventListener("click",(function(t){try{var n=Vr()||[],r=t&&t.target&&t.target instanceof Node&&ys(t.target)?t.target:null;if(!r)return;if(!e.throttle(r))return;var i=e.getWrappingButton(r);if(!i)return;var o=e.getFormByButton(i);if(e.config.in_form&&!o)return;var a=e.getUserDataByForm(o);if(0===Object.keys(a).length)return;null==n||n.identify(Object.assign(a||{},{auto_trigger_type:e.getTriggerType(i,!!o)})),e.matchHistory.push(Object.assign({},a))}catch(t){Ni(Ir.CUSTOM_ERROR,{pixelCode:wi().pixelCode,custom_name:"advancedMatching"})}}),{capture:!0,once:!1,passive:!0})}},{key:"throttle",value:function(e){var t=!1;return(!this.lastElement||!this.lastTime||Date.now()-this.lastTime>=this.rateMS||this.lastElement!==e)&&(t=!0),this.lastElement=e,this.lastTime=Date.now(),t}},{key:"getWrappingButton",value:function(e){if(!e||!function(e){if(!e||e===document.body)return!1;if(e.getBoundingClientRect&&"function"==typeof e.getBoundingClientRect){var t=e.getBoundingClientRect().height||e.offsetHeight||11;return t>10&&t<600}return!0}(e))return null;if((this.config.exclude_selectors||[]).length>0&&ms(e,this.config.exclude_selectors||[]))return null;var t=Object.keys(this.config.selectors||{});if(ms(e,t))return e;var n=e.parentNode;return n&&ys(n)?this.getWrappingButton(n):null}},{key:"getFormByButton",value:function(e){if(void 0!==("undefined"==typeof HTMLInputElement?"undefined":t(HTMLInputElement))&&e instanceof HTMLInputElement)return e.form;for(var n=e;"FORM"!==n.nodeName.toUpperCase();){var r=n.parentElement;if(!r)return null;n=r}return n}},{key:"getUserDataByForm",value:function(e){for(var t={},n=(e||document).querySelectorAll("input,textarea,select"),r=0;r<n.length;r++){var i=n[r];if(i instanceof HTMLInputElement||i instanceof HTMLTextAreaElement){var o=this.getPIIFieldsByInput(i);o&&Object.assign(t,o)}}return t}},{key:"getPIIFieldsByInput",value:function(e){var t=e.getAttribute("type")||"",n=e.getAttribute("inputmode")||"",r=e.value,i=bs(e.placeholder?e.placeholder:"").replace(/[_-]/g,""),o={id:bs(e.id).replace(/[_-]/g,""),name:bs(e.name).replace(/[_-]/g,"")};if("password"===t||!r||Ts(o,this.config.restricted_keywords))return null;if(Is(r))return{auto_email:bs(r)};var a,c=function(e){if(!e)return null;for(var t=e.parentElement,n=e,r="";n;)(n=n.previousElementSibling)&&(n instanceof HTMLInputElement||n instanceof HTMLTextAreaElement)&&(r=n.value,n=null);if(!r||"string"!=typeof r)return null;if(!t||(t.innerText||t.textContent||"").indexOf("@")<0)return null;var i="".concat(r,"@").concat(e.value);return Is(i)?i:null}(e);if(c)return{auto_email:bs(c)};if("US"===((Vr()||[])._cc||"").toUpperCase()&&(a=r,a.replace(/\D/g,"")).length<10)return null;var s=!(this.config.phone_selectors.length>0)||("tel"===t||"tel"===n||Ts(Object.assign(o,{placeholder:i}),this.config.phone_selectors)),u=!this.phoneRegex||this.phoneRegex.test(r);return s&&u?{auto_phone_number:r}:null}},{key:"getTriggerType",value:function(e,t){var n=this;try{var r=[];return Object.keys(this.config.selectors).forEach((function(t){ms(e,[t])&&r.push(n.config.selectors[t])})),0===r.length?"":"".concat(r.join(","),"-").concat(t?1:0)}catch(e){return""}}}]),r}(lo);Ns=Os([C.injectable(),Ss(0,C.inject(Er.CONTEXT)),Ss(1,C.inject(Er.TTQ_REPORTERS)),Ss(2,C.inject(Er.TTQ_GLOBAL_OPTIONS))],Ns);var As=function(e,t){ps=t,(vs=e).isBound(Er.AUTO_ADVANCED_MATCHING_PLUGIN)||vs.bind(Er.AUTO_ADVANCED_MATCHING_PLUGIN).to(Ns).inSingletonScope(),function(e,t){return!(!ps._mounted||ps.getPlugin(t)||!vs.isBound(e))}(Er.AUTO_ADVANCED_MATCHING_PLUGIN,"AutoAdvancedMatching")&&ps.usePlugin(vs.get(Er.AUTO_ADVANCED_MATCHING_PLUGIN))},Rs=function(e,t){return Rs=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},Rs(e,t)};function ws(e,t){function n(){this.constructor=e}Rs(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var Cs,Ps=function(){return Ps=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},Ps.apply(this,arguments)};!function(e){e[e.Failure=0]="Failure",e[e.Success=1]="Success",e[e.Unauthorized=-1]="Unauthorized",e[e.NotExist=-2]="NotExist"}(Cs||(Cs={}));var ks=function(){function e(e){this.version=e.version||"2.0.2",this.nativeMethodInvoker=e.nativeMethodInvoker,this.nativeEventListener=e.nativeEventListener,this.scheme=e.scheme||"nativeapp://",this.dispatchMessagePath=e.dispatchMessagePath||"dispatch_message/",this.setResultPath=e.setResultPath||"private/setresult/SCENE_FETCHQUEUE",this.dispatchMessageIFrameId=e.dispatchMessageIFrameId||"__JSBridgeIframe__",this.setResultIFrameId=e.setResultIFrameId||"__JSBridgeIframe_SetResult__",this.listenNativeEvent=!0===e.listenNativeEvent,this.callbackId=1023,this.callbackMap={},this.eventMap={},this.javascriptMessageQueue=[],this.callbackProcessor=e.callbackProcessor}return e.prototype.call=function(e,t,n,r){void 0===r&&(r=this.version);var i,o=this.version;if(e&&"string"==typeof e){"object"!=typeof t&&(t={}),"string"==typeof r?o=r||this.version:"object"==typeof r&&(i=r.namespace,o=r.sdkVersion||this.version);var a={func:e,params:t,JSSDK:o,__msg_type:"call",namespace:i};if("function"==typeof n||void 0===n){var c=this.registerCallback(e,n);a.__callback_id=c}"undefined"==typeof __PIA_WORKER__&&window.parent!==window&&(a.__iframe_url=window.location.href),this.sendMessageToNative(a)}},e.prototype.on=function(e,t,n){if(void 0===n&&(n=!1),e&&"string"==typeof e&&"function"==typeof t){var r=this.registerCallback(e,t);return this.eventMap[e]=this.eventMap[e]||{},this.eventMap[e][r]={once:n},this.listenNativeEvent&&(this.nativeEventListener?this.nativeEventListener(e):this.call("addEventListener",{name:e},null,{sdkVersion:1})),r}},e.prototype.once=function(e,t){return this.on(e,t,!0)},e.prototype.off=function(e,t){if(!e||"string"!=typeof e)return!0;var n=this.eventMap[e];return!n||"object"!=typeof n||!n.hasOwnProperty(t)||(this.deregisterCallback(t),delete n[t],!0)},e.prototype.trigger=function(e,t){return this.handleMessageFromNative({__msg_type:"event",__params:t,__event_id:e})},e.prototype.handleMessageFromNative=function(e){var t=this,n=e,r=String(n.__callback_id);if(this.callbackProcessor&&"function"==typeof this.callbackProcessor){var i=(this.callbackMap&&this.callbackMap[r]||{}).method;this.callbackProcessor(n,i)}var o=n.__params,a=String(n.__event_id||""),c=n.__msg_type;this.callbackMap[r]?c="callback":this.eventMap[r]&&(c="event",a=a||r);var s={__err_code:"cb404"};switch(c){case"callback":var u=(this.callbackMap&&this.callbackMap[r]||{}).callback;"function"==typeof u&&(s=u(o)),this.deregisterCallback(r);break;case"event":var l=this.eventMap[a];l&&"object"==typeof l&&Object.keys(l).forEach((function(e){var n=(t.callbackMap&&t.callbackMap[e]||{}).callback,r=l[e];"function"==typeof n&&(s=n(o)),r&&r.once&&(t.deregisterCallback(e),delete l[e])}))}return s},e.prototype.fetchJavaScriptMessageQueue=function(){var e=JSON.stringify(this.javascriptMessageQueue),t=btoa(unescape(encodeURIComponent(e)));return this.setResultIFrame&&this.javascriptMessageQueue.length>0&&(this.setResultIFrame.src=""+this.scheme+this.setResultPath+"&"+t),this.javascriptMessageQueue.splice(0,this.javascriptMessageQueue.length),e},e.prototype.sendMessageToNative=function(e){if("1"!==String(e.JSSDK)&&this.nativeMethodInvoker){var t=this.nativeMethodInvoker(e);if(t){var n=JSON.parse(t);this.handleMessageFromNative(n)}}else this.javascriptMessageQueue.push(e),this.dispatchMessageIFrame||this.tryCreateIFrames(),this.dispatchMessageIFrame.src=""+this.scheme+this.dispatchMessagePath},e.prototype.registerCallback=function(e,t){var n=String(this.callbackId++);return this.callbackMap[n]={method:e,callback:t},n},e.prototype.deregisterCallback=function(e){delete this.callbackMap[e]},e.prototype.tryCreateIFrames=function(){this.dispatchMessageIFrame=this.createIFrame(this.dispatchMessageIFrameId),this.setResultIFrame=this.createIFrame(this.setResultIFrameId)},e.prototype.createIFrame=function(e){var t=document.getElementById(e);return t&&"IFRAME"===t.tagName||((t=document.createElement("iframe")).style.display="none",t.id=e,document.documentElement.appendChild(t)),t},e}(),Ms="2.2.15",Ds="undefined"!=typeof __PIA_WORKER__?new Function("return this")():"undefined"!=typeof window?window:{},Ls=void 0!==Ds&&Ds.navigator?Ds.navigator.userAgent:"",js=(!!Ls.match(/(newsarticle|videoarticle|lv|faceu|ulike|beauty_me_|faceu-os|ulike-os|beauty_me_oversea_|retouch)\/([\d.]+)/i)||/super|automobile/gi.test(Ls))&&!/webcast/gi.test(Ls)&&!/luckycatversion/gi.test(Ls),xs=!!Ls.match(/(faceu)\/([\d.]+)/i)||/gsdk/gi.test(Ls)||/PIANativeWorker/gi.test(Ls),Us=!!Ls.match(/ttad\/0/i),Fs=!!Ls.match(/aweme|trill|musical_ly|phoenix_\d+|TikTokNow_\d+/i),Bs=!!Ls.match(/live_stream/i),Hs=!!Ls.match(/Webcast/i),Gs=!!Ls.match(/super/i),Vs=!!Ls.match(/life_service_merchant/i),Js=/super/gi.test(Ls);function Ws(){var e;if(js)return Ds.JSBridge&&Ds.JSBridge.on?e=Ds.JSBridge.on:Ds.JS2NativeBridge&&Ds.JS2NativeBridge.on?e=function(e){var t={JSSDK:Ms,__msg_type:"event",__callback_id:e,func:e};Ds.JS2NativeBridge.on(e,JSON.stringify(t))}:Ds.webkit&&Ds.webkit.messageHandlers&&Ds.webkit.messageHandlers.onMethodParams?e=function(e){var t={JSSDK:Ms,__msg_type:"event",__callback_id:e,func:e};Ds.webkit.messageHandlers.onMethodParams.postMessage(t)}:Ds.onMethodParams&&(e=function(e){var t={JSSDK:Ms,__msg_type:"event",__callback_id:e,func:e};return Ds.onMethodParams(e,t)}),e}function Ks(e,t){if(("string"!=typeof t||!0!==/^(x|tc)\./.test(t))&&(Fs||Bs||Hs||Vs)){var n=e.__params;Ds.JS2NativeBridge&&Ds.JS2NativeBridge._invokeMethod&&(e.__params=Ps({code:n.code},n.data))}}var qs=function(e){function t(){var t=e.call(this,{version:Ms,scheme:"bytedance://",listenNativeEvent:!0,dispatchMessageIFrameId:"__JSBridgeIframe_1.0__",setResultIFrameId:"__JSBridgeIframe_SetResult_1.0__",nativeEventListener:Ws(),callbackProcessor:Ks})||this;return t.publicApi={call:t.call.bind(t),on:t.on.bind(t),once:t.once.bind(t),off:t.off.bind(t),trigger:t.trigger.bind(t),_fetchQueue:t.fetchJavaScriptMessageQueue.bind(t),_handleMessageFromToutiao:t.handleMessageFromNative.bind(t)},t}return ws(t,e),t.prototype.exposePublicApiToGlobal=function(){Ds.ToutiaoJSBridge=Object.assign(Ds.ToutiaoJSBridge||{},this.publicApi)},t}(ks),Ys=function(e){function t(t){var n,r=e.call(this,{version:Ms,nativeMethodInvoker:(Ds.JS2NativeBridge&&Ds.JS2NativeBridge._invokeMethod?n=function(e){return Ds.JS2NativeBridge._invokeMethod(JSON.stringify(e))}:Ds.ToutiaoJSBridge&&Ds.ToutiaoJSBridge.invokeMethod?n=function(e){return Ds.ToutiaoJSBridge.invokeMethod(JSON.stringify(e))}:Ds.JS2NativeBridge&&Ds.JS2NativeBridge.call?n=function(e){return Ds.JS2NativeBridge.call(e.func,JSON.stringify(e))}:Ds.webkit&&Ds.webkit.messageHandlers&&Ds.webkit.messageHandlers.callMethodParams?n=function(e){Ds.webkit.messageHandlers.callMethodParams.postMessage(e)}:Ds.callMethodParams&&(n=function(e){return Ds.callMethodParams(e.func,e)}),n),nativeEventListener:Ws(),scheme:Gs?"bds://":Js?"bytedance://":js||Ds.JSBridge&&Ds.JSBridge._invokeMethod?"nativeapp://":"bytedance://",listenNativeEvent:js,callbackProcessor:Ks})||this;return r.toutiaoLegacyJSB=t,r.publicApi={call:r.call.bind(r),on:r.on.bind(r),once:r.once.bind(r),off:r.off.bind(r),trigger:r.trigger.bind(r),_fetchQueue:r.fetchJavaScriptMessageQueue.bind(r),_handleMessageFromApp:r.handleMessageFromNative.bind(r),_handleMessageFromToutiao:r.handleMessageFromNative.bind(r)},r}return ws(t,e),t.prototype.call=function(t,n,r,i){void 0===i&&(i=Ms),this.isLegacyCall(t)?this.toutiaoLegacyJSB.call(t,n,r,i):e.prototype.call.call(this,t,n,r,i)},t.prototype.on=function(t,n,r,i){return void 0===r&&(r=!1),(i||{}).useLegacy||this.isLegacyCall(t)?this.toutiaoLegacyJSB.on(t,n,r):e.prototype.on.call(this,t,n,r)},t.prototype.once=function(t,n){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.once(t,n):e.prototype.once.call(this,t,n)},t.prototype.off=function(t,n){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.off(t,n):e.prototype.off.call(this,t,n)},t.prototype.trigger=function(t,n){return this.isLegacyCall(t)?this.toutiaoLegacyJSB.trigger(t,n):e.prototype.trigger.call(this,t,n)},t.prototype.exposePublicApiToGlobal=function(){var e=this;Ds.JSBridge=Object.assign(Ds.JSBridge||{},this.publicApi),Ds.__DISABLE_JSB_PROTOCAL2__||(Ds.Native2JSBridge=Object.assign(Ds.Native2JSBridge||{},this.publicApi)),Js?Ds.ToutiaoJSBridge=Object.assign(Ds.ToutiaoJSBridge||{},this.publicApi):(js||Us)&&this.toutiaoLegacyJSB?this.toutiaoLegacyJSB.exposePublicApiToGlobal():Ds.ToutiaoJSBridge=Object.assign(Ds.ToutiaoJSBridge||{},this.publicApi),Ds.parent!==Ds&&Ds.addEventListener&&Ds.addEventListener("message",(function(t){t&&t.data&&t.data.__callback_id&&e.handleMessageFromNative(t.data)}),!1),Object.defineProperties(Ds,{JSBridge:{writable:!1},Native2JSBridge:{writable:!1},ToutiaoJSBridge:{writable:!1}}),Object.freeze(Ds.JSBridge),Object.freeze(Ds.Native2JSBridge),Object.freeze(Ds.ToutiaoJSBridge)},t.prototype.isLegacyCall=function(e){return!(!e||"string"!=typeof e||!this.toutiaoLegacyJSB)&&(!!Us||!xs&&!Js&&(js&&e.indexOf(".")<0))},t}(ks);function Xs(e,t){if(null==e)throw new TypeError("Cannot convert first argument to object");for(var n=Object(e),r=1;r<arguments.length;r++){var i=arguments[r];if(null!=i)for(var o=Object.keys(Object(i)),a=0,c=o.length;a<c;a++){var s=o[a],u=Object.getOwnPropertyDescriptor(i,s);void 0!==u&&u.enumerable&&(n[s]=i[s])}}return n}({assign:Xs,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:Xs})}}).polyfill();var Qs=new Ys(new qs);try{Qs.exposePublicApiToGlobal()}catch(nA){}var zs,Zs=Qs.publicApi;globalThis.window&&(window.CustomEvent||((zs=function(e,t){var n;return t=t||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}).prototype=window.Event.prototype,window.CustomEvent=zs));var $s=function(e){var n,r,i;return r=function(e){var t=document.createElement("iframe");t.style.display="none",t.src=e,document.body.appendChild(t),setTimeout((function(){document.body.removeChild(t)}),100)},n=window.webkit&&window.webkit.messageHandlers&&window.webkit.messageHandlers.pacific?function(e,t){i={action:e,parameters:(t=t||{}).params,print:!!t.print},"string"==typeof t.callback?i.callback={type:0,name:t.callback,parameters:["key"]}:i.callback=t.callback,window.webkit.messageHandlers.pacific.postMessage(i)}:function(n,i){var o,a,c,s=[];if(o=((i=i||{}).protocol||"sslocal")+"://"+n,i.callback&&(i.params=i.params||{},i.params.callback=i.callback),i.params){for(a in c=i.params)if(c.hasOwnProperty(a)){var u=c[a];"object"==t(u)&&(u=JSON.stringify(u)),s.push(encodeURIComponent(a)+"="+encodeURIComponent(u))}s.push("r="+(Math.random()+"").slice(2)),o+="?"+s.join("&")}e?(i.debugCall&&i.debugCall(n,i.params),(console.dir||console.log)(o)):r(o)},{call:function(t,r,i){var o=r=r||{};if(i&&"function"==typeof i){var a=t+"DidFinish"+(e?"":"_"+Math.random().toString(36).slice(2));document.addEventListener(a,(function e(t){"success"===t.detail.message&&i(t.detail.data),document.removeEventListener(a,e)}))}n(t,{callback:a,params:o})}}}(!!window.globalConfig&&window.globalConfig.isDebug),eu=$s,tu=Vr(),nu=(null==tu?void 0:tu._container)||new C.Container,ru=(null==tu?void 0:tu._container)?_o.REBIND:_o.BIND;pi();var iu=nu[ru](Er.ENV),ou=nu[ru](yo.SignalType),au=nu[ru](yo.ID),cu=nu[ru](yo.Type),su=nu[ru](yo.Options),uu=nu[ru](yo.Plugins),lu=nu[ru](yo.Rules),fu=nu[ru](yo.Info),du=nu[ru](yo.WebLibraryInfo),hu=nu[ru](Er.TTQ_GLOBAL_OPTIONS);try{if(!nu.get(Er.TTQ_GLOBAL_OPTIONS))throw new Error("")}catch(e){hu.toConstantValue({})}var pu=function(e,t){var n=function(e){return{name:"pixel.js",version:"2.2.0",options:e}}(),r=vi();du.toConstantValue(n),iu.toConstantValue(t),ou.toConstantValue(r),!e||e._mounted||nu.isBound(Er.JS_BRIDGE)||gi(t)&&(_i(t)?nu.bind(Er.JS_BRIDGE).toConstantValue(function(){if(window&&window.ToutiaoJSBridge&&window.ToutiaoJSBridge.call)return window.ToutiaoJSBridge}()||Zs):nu.bind(Er.JS_BRIDGE).toConstantValue(eu))},vu=function(e){var t=e||{},n=t._partner,r=t._ttp,i=t._self_host_config,o=t._usd_exchange_rate,a=t._legacy,c=t._cc,s=t._variation_id,u=t._server_unique_id,l=t._currency_list,f=t._plugins,d=t._aam,h=t._auto_config,p=nu.get(Er.TTQ_GLOBAL_OPTIONS)||{};Object.assign(p,{partner:n,ttp:r,cc:c,self_host_config:i,usd_exchange_rate:o,legacy:a,variation_id:s,server_unqiue_id:u,currency_list:l,plugins:f,aam:d,auto_config:h}),hu.toConstantValue(p)},gu=function(e){(null==e?void 0:e._container)||(nu.bind(Er.TTQ).to(Mo).inSingletonScope(),nu.bind(Er.CONTEXT).to(xo).inSingletonScope(),nu.bind(Er.REPORTER).to(Ro),nu.bind(Er.TTQ_REPORTERS).toConstantValue([]),nu.bind(Er.REPORT_SERVICE).to(ca).inSingletonScope(),nu.bind(Er.AD_SERVICE).to(Bo).inSingletonScope(),nu.bind(Er.APP_SERVICE).to(Vo).inSingletonScope(),nu.bind(Er.BRIDGE_SERVICE).to($o).inSingletonScope(),nu.bind(Er.HTTP_SERVICE).to(ia).inSingletonScope(),nu.bind(yo.IsOnsitePage).toConstantValue({value:!1}),nu.bind(Er.COOKIE_SERVICE).to(la).inSingletonScope(),nu.bind(Er.CONSENT_SERVICE).to(na).inSingletonScope()),e&&!e._container&&(e._container=nu)},_u=function(){gs.forEach((function(e){var t=e.to,n=e.name,r=void 0===n?"":n,i=e.required,o=void 0!==i&&i,a=e.identifier;!o&&!Xr(r)||nu.isBound(a)||nu.bind(a).to(t).inSingletonScope()}))},yu=function(e){var t=e.id,n=e.type,r=void 0===n?Oo.PIXEL_CODE:n,i=e.info,o=e.options,a=void 0===o?{}:o,s=e.plugins,u=void 0===s?{}:s,l=e.rules,f=void 0===l?[]:l,d=nu.get(Er.TTQ),h=nu.get(Er.TTQ_REPORTERS);if(!h.some((function(e){return e.getReporterId()===t}))){au.toConstantValue(t),cu.toConstantValue(r),fu.toConstantValue(i||c({},r,t)),su.toConstantValue(a),uu.toConstantValue(u),lu.toConstantValue(f),d.enableFirstPartyCookie((null==i?void 0:i.firstPartyCookieEnabled)||!1);var p=nu.get(Er.REPORTER);if(u){var v=u.AdvancedMatching,g=u.AutoAdvancedMatching,_={};v&&Object.assign(_,v),g&&Object.assign(_,g),p.setAdvancedMatchingAvailableProperties(_)}return p.on("beforeReport",(function(e,t,n,r,i){d.dispatch(ar.PIXEL_SEND,e,t,n,r,i)})),h.push(p),nu.rebind(Er.TTQ_REPORTERS).toConstantValue(h),d.dispatch(ar.PIXEL_DID_MOUNT,p),p}},mu=function(e){return e&&e.Math==Math&&e},bu=mu("object"==typeof globalThis&&globalThis)||mu("object"==typeof window&&window)||mu("object"==typeof self&&self)||mu("object"==typeof R&&R)||function(){return this}()||Function("return this")(),Eu={},Iu=function(e){try{return!!e()}catch(e){return!0}},Tu=!Iu((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),Ou=!Iu((function(){var e=function(){}.bind();return"function"!=typeof e||e.hasOwnProperty("prototype")})),Su=Ou,Nu=Function.prototype.call,Au=Su?Nu.bind(Nu):function(){return Nu.apply(Nu,arguments)},Ru={},wu={}.propertyIsEnumerable,Cu=Object.getOwnPropertyDescriptor,Pu=Cu&&!wu.call({1:2},1);Ru.f=Pu?function(e){var t=Cu(this,e);return!!t&&t.enumerable}:wu;var ku,Mu,Du=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},Lu=Ou,ju=Function.prototype,xu=ju.bind,Uu=ju.call,Fu=Lu&&xu.bind(Uu,Uu),Bu=Lu?function(e){return e&&Fu(e)}:function(e){return e&&function(){return Uu.apply(e,arguments)}},Hu=Bu,Gu=Hu({}.toString),Vu=Hu("".slice),Ju=function(e){return Vu(Gu(e),8,-1)},Wu=Iu,Ku=Ju,qu=Object,Yu=Bu("".split),Xu=Wu((function(){return!qu("z").propertyIsEnumerable(0)}))?function(e){return"String"==Ku(e)?Yu(e,""):qu(e)}:qu,Qu=TypeError,zu=function(e){if(null==e)throw Qu("Can't call method on "+e);return e},Zu=Xu,$u=zu,el=function(e){return Zu($u(e))},tl=function(e){return"function"==typeof e},nl=tl,rl=function(e){return"object"==typeof e?null!==e:nl(e)},il=bu,ol=tl,al=function(e){return ol(e)?e:void 0},cl=function(e,t){return arguments.length<2?al(il[e]):il[e]&&il[e][t]},sl=Bu({}.isPrototypeOf),ul=cl("navigator","userAgent")||"",ll=bu,fl=ul,dl=ll.process,hl=ll.Deno,pl=dl&&dl.versions||hl&&hl.version,vl=pl&&pl.v8;vl&&(Mu=(ku=vl.split("."))[0]>0&&ku[0]<4?1:+(ku[0]+ku[1])),!Mu&&fl&&(!(ku=fl.match(/Edge\/(\d+)/))||ku[1]>=74)&&(ku=fl.match(/Chrome\/(\d+)/))&&(Mu=+ku[1]);var gl=Mu,_l=gl,yl=Iu,ml=!!Object.getOwnPropertySymbols&&!yl((function(){var e=Symbol();return!String(e)||!(Object(e)instanceof Symbol)||!Symbol.sham&&_l&&_l<41})),bl=ml&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,El=cl,Il=tl,Tl=sl,Ol=Object,Sl=bl?function(e){return"symbol"==typeof e}:function(e){var t=El("Symbol");return Il(t)&&Tl(t.prototype,Ol(e))},Nl=String,Al=function(e){try{return Nl(e)}catch(e){return"Object"}},Rl=tl,wl=Al,Cl=TypeError,Pl=function(e){if(Rl(e))return e;throw Cl(wl(e)+" is not a function")},kl=Pl,Ml=function(e,t){var n=e[t];return null==n?void 0:kl(n)},Dl=Au,Ll=tl,jl=rl,xl=TypeError,Ul={exports:{}},Fl=bu,Bl=Object.defineProperty,Hl=function(e,t){try{Bl(Fl,e,{value:t,configurable:!0,writable:!0})}catch(n){Fl[e]=t}return t},Gl=Hl,Vl="__core-js_shared__",Jl=bu[Vl]||Gl(Vl,{}),Wl=Jl;(Ul.exports=function(e,t){return Wl[e]||(Wl[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.23.5",mode:"global",copyright:"© 2014-2022 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.23.5/LICENSE",source:"https://github.com/zloirock/core-js"});var Kl=zu,ql=Object,Yl=function(e){return ql(Kl(e))},Xl=Yl,Ql=Bu({}.hasOwnProperty),zl=Object.hasOwn||function(e,t){return Ql(Xl(e),t)},Zl=Bu,$l=0,ef=Math.random(),tf=Zl(1..toString),nf=function(e){return"Symbol("+(void 0===e?"":e)+")_"+tf(++$l+ef,36)},rf=bu,of=Ul.exports,af=zl,cf=nf,sf=ml,uf=bl,lf=of("wks"),ff=rf.Symbol,df=ff&&ff.for,hf=uf?ff:ff&&ff.withoutSetter||cf,pf=function(e){if(!af(lf,e)||!sf&&"string"!=typeof lf[e]){var t="Symbol."+e;sf&&af(ff,e)?lf[e]=ff[e]:lf[e]=uf&&df?df(t):hf(t)}return lf[e]},vf=Au,gf=rl,_f=Sl,yf=Ml,mf=function(e,t){var n,r;if("string"===t&&Ll(n=e.toString)&&!jl(r=Dl(n,e)))return r;if(Ll(n=e.valueOf)&&!jl(r=Dl(n,e)))return r;if("string"!==t&&Ll(n=e.toString)&&!jl(r=Dl(n,e)))return r;throw xl("Can't convert object to primitive value")},bf=TypeError,Ef=pf("toPrimitive"),If=function(e,t){if(!gf(e)||_f(e))return e;var n,r=yf(e,Ef);if(r){if(void 0===t&&(t="default"),n=vf(r,e,t),!gf(n)||_f(n))return n;throw bf("Can't convert object to primitive value")}return void 0===t&&(t="number"),mf(e,t)},Tf=Sl,Of=function(e){var t=If(e,"string");return Tf(t)?t:t+""},Sf=rl,Nf=bu.document,Af=Sf(Nf)&&Sf(Nf.createElement),Rf=function(e){return Af?Nf.createElement(e):{}},wf=Rf,Cf=!Tu&&!Iu((function(){return 7!=Object.defineProperty(wf("div"),"a",{get:function(){return 7}}).a})),Pf=Tu,kf=Au,Mf=Ru,Df=Du,Lf=el,jf=Of,xf=zl,Uf=Cf,Ff=Object.getOwnPropertyDescriptor;Eu.f=Pf?Ff:function(e,t){if(e=Lf(e),t=jf(t),Uf)try{return Ff(e,t)}catch(e){}if(xf(e,t))return Df(!kf(Mf.f,e,t),e[t])};var Bf={},Hf=Tu&&Iu((function(){return 42!=Object.defineProperty((function(){}),"prototype",{value:42,writable:!1}).prototype})),Gf=rl,Vf=String,Jf=TypeError,Wf=function(e){if(Gf(e))return e;throw Jf(Vf(e)+" is not an object")},Kf=Tu,qf=Cf,Yf=Hf,Xf=Wf,Qf=Of,zf=TypeError,Zf=Object.defineProperty,$f=Object.getOwnPropertyDescriptor,ed="enumerable",td="configurable",nd="writable";Bf.f=Kf?Yf?function(e,t,n){if(Xf(e),t=Qf(t),Xf(n),"function"==typeof e&&"prototype"===t&&"value"in n&&nd in n&&!n.writable){var r=$f(e,t);r&&r.writable&&(e[t]=n.value,n={configurable:td in n?n.configurable:r.configurable,enumerable:ed in n?n.enumerable:r.enumerable,writable:!1})}return Zf(e,t,n)}:Zf:function(e,t,n){if(Xf(e),t=Qf(t),Xf(n),qf)try{return Zf(e,t,n)}catch(e){}if("get"in n||"set"in n)throw zf("Accessors not supported");return"value"in n&&(e[t]=n.value),e};var rd=Bf,id=Du,od=Tu?function(e,t,n){return rd.f(e,t,id(1,n))}:function(e,t,n){return e[t]=n,e},ad={exports:{}},cd=Tu,sd=zl,ud=Function.prototype,ld=cd&&Object.getOwnPropertyDescriptor,fd=sd(ud,"name"),dd={EXISTS:fd,PROPER:fd&&"something"===function(){}.name,CONFIGURABLE:fd&&(!cd||cd&&ld(ud,"name").configurable)},hd=tl,pd=Jl,vd=Bu(Function.toString);hd(pd.inspectSource)||(pd.inspectSource=function(e){return vd(e)});var gd,_d,yd,md=pd.inspectSource,bd=tl,Ed=md,Id=bu.WeakMap,Td=bd(Id)&&/native code/.test(Ed(Id)),Od=Ul.exports,Sd=nf,Nd=Od("keys"),Ad=function(e){return Nd[e]||(Nd[e]=Sd(e))},Rd={},wd=Td,Cd=bu,Pd=Bu,kd=rl,Md=od,Dd=zl,Ld=Jl,jd=Ad,xd=Rd,Ud="Object already initialized",Fd=Cd.TypeError,Bd=Cd.WeakMap;if(wd||Ld.state){var Hd=Ld.state||(Ld.state=new Bd),Gd=Pd(Hd.get),Vd=Pd(Hd.has),Jd=Pd(Hd.set);gd=function(e,t){if(Vd(Hd,e))throw new Fd(Ud);return t.facade=e,Jd(Hd,e,t),t},_d=function(e){return Gd(Hd,e)||{}},yd=function(e){return Vd(Hd,e)}}else{var Wd=jd("state");xd[Wd]=!0,gd=function(e,t){if(Dd(e,Wd))throw new Fd(Ud);return t.facade=e,Md(e,Wd,t),t},_d=function(e){return Dd(e,Wd)?e[Wd]:{}},yd=function(e){return Dd(e,Wd)}}var Kd={set:gd,get:_d,has:yd,enforce:function(e){return yd(e)?_d(e):gd(e,{})},getterFor:function(e){return function(t){var n;if(!kd(t)||(n=_d(t)).type!==e)throw Fd("Incompatible receiver, "+e+" required");return n}}},qd=Iu,Yd=tl,Xd=zl,Qd=Tu,zd=dd.CONFIGURABLE,Zd=md,$d=Kd.enforce,eh=Kd.get,th=Object.defineProperty,nh=Qd&&!qd((function(){return 8!==th((function(){}),"length",{value:8}).length})),rh=String(String).split("String"),ih=ad.exports=function(e,t,n){"Symbol("===String(t).slice(0,7)&&(t="["+String(t).replace(/^Symbol\(([^)]*)\)/,"$1")+"]"),n&&n.getter&&(t="get "+t),n&&n.setter&&(t="set "+t),(!Xd(e,"name")||zd&&e.name!==t)&&(Qd?th(e,"name",{value:t,configurable:!0}):e.name=t),nh&&n&&Xd(n,"arity")&&e.length!==n.arity&&th(e,"length",{value:n.arity});try{n&&Xd(n,"constructor")&&n.constructor?Qd&&th(e,"prototype",{writable:!1}):e.prototype&&(e.prototype=void 0)}catch(e){}var r=$d(e);return Xd(r,"source")||(r.source=rh.join("string"==typeof t?t:"")),e};Function.prototype.toString=ih((function(){return Yd(this)&&eh(this).source||Zd(this)}),"toString");var oh=tl,ah=Bf,ch=ad.exports,sh=Hl,uh=function(e,t,n,r){r||(r={});var i=r.enumerable,o=void 0!==r.name?r.name:t;if(oh(n)&&ch(n,o,r),r.global)i?e[t]=n:sh(t,n);else{try{r.unsafe?e[t]&&(i=!0):delete e[t]}catch(e){}i?e[t]=n:ah.f(e,t,{value:n,enumerable:!1,configurable:!r.nonConfigurable,writable:!r.nonWritable})}return e},lh={},fh=Math.ceil,dh=Math.floor,hh=Math.trunc||function(e){var t=+e;return(t>0?dh:fh)(t)},ph=function(e){var t=+e;return t!=t||0===t?0:hh(t)},vh=ph,gh=Math.max,_h=Math.min,yh=function(e,t){var n=vh(e);return n<0?gh(n+t,0):_h(n,t)},mh=ph,bh=Math.min,Eh=function(e){return e>0?bh(mh(e),9007199254740991):0},Ih=function(e){return Eh(e.length)},Th=el,Oh=yh,Sh=Ih,Nh=function(e){return function(t,n,r){var i,o=Th(t),a=Sh(o),c=Oh(r,a);if(e&&n!=n){for(;a>c;)if((i=o[c++])!=i)return!0}else for(;a>c;c++)if((e||c in o)&&o[c]===n)return e||c||0;return!e&&-1}},Ah={includes:Nh(!0),indexOf:Nh(!1)},Rh=zl,wh=el,Ch=Ah.indexOf,Ph=Rd,kh=Bu([].push),Mh=function(e,t){var n,r=wh(e),i=0,o=[];for(n in r)!Rh(Ph,n)&&Rh(r,n)&&kh(o,n);for(;t.length>i;)Rh(r,n=t[i++])&&(~Ch(o,n)||kh(o,n));return o},Dh=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],Lh=Mh,jh=Dh.concat("length","prototype");lh.f=Object.getOwnPropertyNames||function(e){return Lh(e,jh)};var xh={};xh.f=Object.getOwnPropertySymbols;var Uh=cl,Fh=lh,Bh=xh,Hh=Wf,Gh=Bu([].concat),Vh=Uh("Reflect","ownKeys")||function(e){var t=Fh.f(Hh(e)),n=Bh.f;return n?Gh(t,n(e)):t},Jh=zl,Wh=Vh,Kh=Eu,qh=Bf,Yh=function(e,t,n){for(var r=Wh(t),i=qh.f,o=Kh.f,a=0;a<r.length;a++){var c=r[a];Jh(e,c)||n&&Jh(n,c)||i(e,c,o(t,c))}},Xh=Iu,Qh=tl,zh=/#|\.prototype\./,Zh=function(e,t){var n=ep[$h(e)];return n==np||n!=tp&&(Qh(t)?Xh(t):!!t)},$h=Zh.normalize=function(e){return String(e).replace(zh,".").toLowerCase()},ep=Zh.data={},tp=Zh.NATIVE="N",np=Zh.POLYFILL="P",rp=Zh,ip=bu,op=Eu.f,ap=od,cp=uh,sp=Hl,up=Yh,lp=rp,fp=function(e,t){var n,r,i,o,a,c=e.target,s=e.global,u=e.stat;if(n=s?ip:u?ip[c]||sp(c,{}):(ip[c]||{}).prototype)for(r in t){if(o=t[r],i=e.dontCallGetSet?(a=op(n,r))&&a.value:n[r],!lp(s?r:c+(u?".":"#")+r,e.forced)&&void 0!==i){if(typeof o==typeof i)continue;up(o,i)}(e.sham||i&&i.sham)&&ap(o,"sham",!0),cp(n,r,o,e)}},dp={};dp[pf("toStringTag")]="z";var hp="[object z]"===String(dp),pp=hp,vp=tl,gp=Ju,_p=pf("toStringTag"),yp=Object,mp="Arguments"==gp(function(){return arguments}()),bp=pp?gp:function(e){var t,n,r;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=function(e,t){try{return e[t]}catch(e){}}(t=yp(e),_p))?n:mp?gp(t):"Object"==(r=gp(t))&&vp(t.callee)?"Arguments":r},Ep=bp,Ip=String,Tp=function(e){if("Symbol"===Ep(e))throw TypeError("Cannot convert a Symbol value to a string");return Ip(e)},Op={},Sp=Mh,Np=Dh,Ap=Object.keys||function(e){return Sp(e,Np)},Rp=Tu,wp=Hf,Cp=Bf,Pp=Wf,kp=el,Mp=Ap;Op.f=Rp&&!wp?Object.defineProperties:function(e,t){Pp(e);for(var n,r=kp(t),i=Mp(t),o=i.length,a=0;o>a;)Cp.f(e,n=i[a++],r[n]);return e};var Dp,Lp=cl("document","documentElement"),jp=Wf,xp=Op,Up=Dh,Fp=Rd,Bp=Lp,Hp=Rf,Gp=Ad("IE_PROTO"),Vp=function(){},Jp=function(e){return"<script>"+e+"</"+"script>"},Wp=function(e){e.write(Jp("")),e.close();var t=e.parentWindow.Object;return e=null,t},Kp=function(){try{Dp=new ActiveXObject("htmlfile")}catch(e){}var e,t;Kp="undefined"!=typeof document?document.domain&&Dp?Wp(Dp):((t=Hp("iframe")).style.display="none",Bp.appendChild(t),t.src=String("javascript:"),(e=t.contentWindow.document).open(),e.write(Jp("document.F=Object")),e.close(),e.F):Wp(Dp);for(var n=Up.length;n--;)delete Kp.prototype[Up[n]];return Kp()};Fp[Gp]=!0;var qp=Object.create||function(e,t){var n;return null!==e?(Vp.prototype=jp(e),n=new Vp,Vp.prototype=null,n[Gp]=e):n=Kp(),void 0===t?n:xp.f(n,t)},Yp={},Xp=Of,Qp=Bf,zp=Du,Zp=function(e,t,n){var r=Xp(t);r in e?Qp.f(e,r,zp(0,n)):e[r]=n},$p=yh,ev=Ih,tv=Zp,nv=Array,rv=Math.max,iv=Ju,ov=el,av=lh.f,cv=function(e,t,n){for(var r=ev(e),i=$p(t,r),o=$p(void 0===n?r:n,r),a=nv(rv(o-i,0)),c=0;i<o;i++,c++)tv(a,c,e[i]);return a.length=c,a},sv="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];Yp.f=function(e){return sv&&"Window"==iv(e)?function(e){try{return av(e)}catch(e){return cv(sv)}}(e):av(ov(e))};var uv={},lv=pf;uv.f=lv;var fv=bu,dv=fv,hv=zl,pv=uv,vv=Bf.f,gv=Au,_v=cl,yv=pf,mv=uh,bv=Bf.f,Ev=zl,Iv=pf("toStringTag"),Tv=function(e,t,n){e&&!n&&(e=e.prototype),e&&!Ev(e,Iv)&&bv(e,Iv,{configurable:!0,value:t})},Ov=Pl,Sv=Ou,Nv=Bu(Bu.bind),Av=function(e,t){return Ov(e),void 0===t?e:Sv?Nv(e,t):function(){return e.apply(t,arguments)}},Rv=Ju,wv=Array.isArray||function(e){return"Array"==Rv(e)},Cv=Bu,Pv=Iu,kv=tl,Mv=bp,Dv=md,Lv=function(){},jv=[],xv=cl("Reflect","construct"),Uv=/^\s*(?:class|function)\b/,Fv=Cv(Uv.exec),Bv=!Uv.exec(Lv),Hv=function(e){if(!kv(e))return!1;try{return xv(Lv,jv,e),!0}catch(e){return!1}},Gv=function(e){if(!kv(e))return!1;switch(Mv(e)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return Bv||!!Fv(Uv,Dv(e))}catch(e){return!0}};Gv.sham=!0;var Vv=!xv||Pv((function(){var e;return Hv(Hv.call)||!Hv(Object)||!Hv((function(){e=!0}))||e}))?Gv:Hv,Jv=wv,Wv=Vv,Kv=rl,qv=pf("species"),Yv=Array,Xv=function(e){var t;return Jv(e)&&(t=e.constructor,(Wv(t)&&(t===Yv||Jv(t.prototype))||Kv(t)&&null===(t=t[qv]))&&(t=void 0)),void 0===t?Yv:t},Qv=Av,zv=Xu,Zv=Yl,$v=Ih,eg=function(e,t){return new(Xv(e))(0===t?0:t)},tg=Bu([].push),ng=function(e){var t=1==e,n=2==e,r=3==e,i=4==e,o=6==e,a=7==e,c=5==e||o;return function(s,u,l,f){for(var d,h,p=Zv(s),v=zv(p),g=Qv(u,l),_=$v(v),y=0,m=f||eg,b=t?m(s,_):n||a?m(s,0):void 0;_>y;y++)if((c||y in v)&&(h=g(d=v[y],y,p),e))if(t)b[y]=h;else if(h)switch(e){case 3:return!0;case 5:return d;case 6:return y;case 2:tg(b,d)}else switch(e){case 4:return!1;case 7:tg(b,d)}return o?-1:r||i?i:b}},rg={forEach:ng(0),map:ng(1),filter:ng(2),some:ng(3),every:ng(4),find:ng(5),findIndex:ng(6),filterReject:ng(7)},ig=fp,og=bu,ag=Au,cg=Bu,sg=Tu,ug=ml,lg=Iu,fg=zl,dg=sl,hg=Wf,pg=el,vg=Of,gg=Tp,_g=Du,yg=qp,mg=Ap,bg=lh,Eg=Yp,Ig=xh,Tg=Eu,Og=Bf,Sg=Op,Ng=Ru,Ag=uh,Rg=Ul.exports,wg=Rd,Cg=nf,Pg=pf,kg=uv,Mg=function(e){var t=dv.Symbol||(dv.Symbol={});hv(t,e)||vv(t,e,{value:pv.f(e)})},Dg=function(){var e=_v("Symbol"),t=e&&e.prototype,n=t&&t.valueOf,r=yv("toPrimitive");t&&!t[r]&&mv(t,r,(function(e){return gv(n,this)}),{arity:1})},Lg=Tv,jg=Kd,xg=rg.forEach,Ug=Ad("hidden"),Fg="Symbol",Bg=jg.set,Hg=jg.getterFor(Fg),Gg=Object.prototype,Vg=og.Symbol,Jg=Vg&&Vg.prototype,Wg=og.TypeError,Kg=og.QObject,qg=Tg.f,Yg=Og.f,Xg=Eg.f,Qg=Ng.f,zg=cg([].push),Zg=Rg("symbols"),$g=Rg("op-symbols"),e_=Rg("wks"),t_=!Kg||!Kg.prototype||!Kg.prototype.findChild,n_=sg&&lg((function(){return 7!=yg(Yg({},"a",{get:function(){return Yg(this,"a",{value:7}).a}})).a}))?function(e,t,n){var r=qg(Gg,t);r&&delete Gg[t],Yg(e,t,n),r&&e!==Gg&&Yg(Gg,t,r)}:Yg,r_=function(e,t){var n=Zg[e]=yg(Jg);return Bg(n,{type:Fg,tag:e,description:t}),sg||(n.description=t),n},i_=function(e,t,n){e===Gg&&i_($g,t,n),hg(e);var r=vg(t);return hg(n),fg(Zg,r)?(n.enumerable?(fg(e,Ug)&&e[Ug][r]&&(e[Ug][r]=!1),n=yg(n,{enumerable:_g(0,!1)})):(fg(e,Ug)||Yg(e,Ug,_g(1,{})),e[Ug][r]=!0),n_(e,r,n)):Yg(e,r,n)},o_=function(e,t){hg(e);var n=pg(t),r=mg(n).concat(u_(n));return xg(r,(function(t){sg&&!ag(a_,n,t)||i_(e,t,n[t])})),e},a_=function(e){var t=vg(e),n=ag(Qg,this,t);return!(this===Gg&&fg(Zg,t)&&!fg($g,t))&&(!(n||!fg(this,t)||!fg(Zg,t)||fg(this,Ug)&&this[Ug][t])||n)},c_=function(e,t){var n=pg(e),r=vg(t);if(n!==Gg||!fg(Zg,r)||fg($g,r)){var i=qg(n,r);return!i||!fg(Zg,r)||fg(n,Ug)&&n[Ug][r]||(i.enumerable=!0),i}},s_=function(e){var t=Xg(pg(e)),n=[];return xg(t,(function(e){fg(Zg,e)||fg(wg,e)||zg(n,e)})),n},u_=function(e){var t=e===Gg,n=Xg(t?$g:pg(e)),r=[];return xg(n,(function(e){!fg(Zg,e)||t&&!fg(Gg,e)||zg(r,Zg[e])})),r};ug||(Vg=function(){if(dg(Jg,this))throw Wg("Symbol is not a constructor");var e=arguments.length&&void 0!==arguments[0]?gg(arguments[0]):void 0,t=Cg(e),n=function(e){this===Gg&&ag(n,$g,e),fg(this,Ug)&&fg(this[Ug],t)&&(this[Ug][t]=!1),n_(this,t,_g(1,e))};return sg&&t_&&n_(Gg,t,{configurable:!0,set:n}),r_(t,e)},Ag(Jg=Vg.prototype,"toString",(function(){return Hg(this).tag})),Ag(Vg,"withoutSetter",(function(e){return r_(Cg(e),e)})),Ng.f=a_,Og.f=i_,Sg.f=o_,Tg.f=c_,bg.f=Eg.f=s_,Ig.f=u_,kg.f=function(e){return r_(Pg(e),e)},sg&&(Yg(Jg,"description",{configurable:!0,get:function(){return Hg(this).description}}),Ag(Gg,"propertyIsEnumerable",a_,{unsafe:!0}))),ig({global:!0,constructor:!0,wrap:!0,forced:!ug,sham:!ug},{Symbol:Vg}),xg(mg(e_),(function(e){Mg(e)})),ig({target:Fg,stat:!0,forced:!ug},{useSetter:function(){t_=!0},useSimple:function(){t_=!1}}),ig({target:"Object",stat:!0,forced:!ug,sham:!sg},{create:function(e,t){return void 0===t?yg(e):o_(yg(e),t)},defineProperty:i_,defineProperties:o_,getOwnPropertyDescriptor:c_}),ig({target:"Object",stat:!0,forced:!ug},{getOwnPropertyNames:s_}),Dg(),Lg(Vg,Fg),wg[Ug]=!0;var l_=ml&&!!Symbol.for&&!!Symbol.keyFor,f_=fp,d_=cl,h_=zl,p_=Tp,v_=Ul.exports,g_=l_,__=v_("string-to-symbol-registry"),y_=v_("symbol-to-string-registry");f_({target:"Symbol",stat:!0,forced:!g_},{for:function(e){var t=p_(e);if(h_(__,t))return __[t];var n=d_("Symbol")(t);return __[t]=n,y_[n]=t,n}});var m_=fp,b_=zl,E_=Sl,I_=Al,T_=l_,O_=(0,Ul.exports)("symbol-to-string-registry");m_({target:"Symbol",stat:!0,forced:!T_},{keyFor:function(e){if(!E_(e))throw TypeError(I_(e)+" is not a symbol");if(b_(O_,e))return O_[e]}});var S_=Ou,N_=Function.prototype,A_=N_.apply,R_=N_.call,w_="object"==typeof Reflect&&Reflect.apply||(S_?R_.bind(A_):function(){return R_.apply(A_,arguments)}),C_=Bu([].slice),P_=fp,k_=cl,M_=w_,D_=Au,L_=Bu,j_=Iu,x_=wv,U_=tl,F_=rl,B_=Sl,H_=C_,G_=ml,V_=k_("JSON","stringify"),J_=L_(/./.exec),W_=L_("".charAt),K_=L_("".charCodeAt),q_=L_("".replace),Y_=L_(1..toString),X_=/[\uD800-\uDFFF]/g,Q_=/^[\uD800-\uDBFF]$/,z_=/^[\uDC00-\uDFFF]$/,Z_=!G_||j_((function(){var e=k_("Symbol")();return"[null]"!=V_([e])||"{}"!=V_({a:e})||"{}"!=V_(Object(e))})),$_=j_((function(){return'"\\udf06\\ud834"'!==V_("\udf06\ud834")||'"\\udead"'!==V_("\udead")})),ey=function(e,t){var n=H_(arguments),r=t;if((F_(t)||void 0!==e)&&!B_(e))return x_(t)||(t=function(e,t){if(U_(r)&&(t=D_(r,this,e,t)),!B_(t))return t}),n[1]=t,M_(V_,null,n)},ty=function(e,t,n){var r=W_(n,t-1),i=W_(n,t+1);return J_(Q_,e)&&!J_(z_,i)||J_(z_,e)&&!J_(Q_,r)?"\\u"+Y_(K_(e,0),16):e};V_&&P_({target:"JSON",stat:!0,arity:3,forced:Z_||$_},{stringify:function(e,t,n){var r=H_(arguments),i=M_(Z_?ey:V_,null,r);return $_&&"string"==typeof i?q_(i,X_,ty):i}});var ny=xh,ry=Yl;fp({target:"Object",stat:!0,forced:!ml||Iu((function(){ny.f(1)}))},{getOwnPropertySymbols:function(e){var t=ny.f;return t?t(ry(e)):[]}});var iy=Tu,oy=Bu,ay=Au,cy=Iu,sy=Ap,uy=xh,ly=Ru,fy=Yl,dy=Xu,hy=Object.assign,py=Object.defineProperty,vy=oy([].concat),gy=!hy||cy((function(){if(iy&&1!==hy({b:1},hy(py({},"a",{enumerable:!0,get:function(){py(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var e={},t={},n=Symbol(),r="abcdefghijklmnopqrst";return e[n]=7,r.split("").forEach((function(e){t[e]=e})),7!=hy({},e)[n]||sy(hy({},t)).join("")!=r}))?function(e,t){for(var n=fy(e),r=arguments.length,i=1,o=uy.f,a=ly.f;r>i;)for(var c,s=dy(arguments[i++]),u=o?vy(sy(s),o(s)):sy(s),l=u.length,f=0;l>f;)c=u[f++],iy&&!ay(a,s,c)||(n[c]=s[c]);return n}:hy,_y=gy;fp({target:"Object",stat:!0,arity:2,forced:Object.assign!==_y},{assign:_y}),fp({target:"Object",stat:!0,sham:!Tu},{create:qp});var yy=fp,my=Tu,by=Bf.f;yy({target:"Object",stat:!0,forced:Object.defineProperty!==by,sham:!my},{defineProperty:by});var Ey=fp,Iy=Tu,Ty=Op.f;Ey({target:"Object",stat:!0,forced:Object.defineProperties!==Ty,sham:!Iy},{defineProperties:Ty});var Oy=Tu,Sy=Bu,Ny=Ap,Ay=el,Ry=Sy(Ru.f),wy=Sy([].push),Cy=function(e){return function(t){for(var n,r=Ay(t),i=Ny(r),o=i.length,a=0,c=[];o>a;)n=i[a++],Oy&&!Ry(r,n)||wy(c,e?[n,r[n]]:r[n]);return c}},Py={entries:Cy(!0),values:Cy(!1)},ky=Py.entries;fp({target:"Object",stat:!0},{entries:function(e){return ky(e)}});var My=!Iu((function(){return Object.isExtensible(Object.preventExtensions({}))})),Dy={exports:{}},Ly=Iu((function(){if("function"==typeof ArrayBuffer){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}})),jy=Iu,xy=rl,Uy=Ju,Fy=Ly,By=Object.isExtensible,Hy=jy((function(){By(1)}))||Fy?function(e){return!!xy(e)&&((!Fy||"ArrayBuffer"!=Uy(e))&&(!By||By(e)))}:By,Gy=fp,Vy=Bu,Jy=Rd,Wy=rl,Ky=zl,qy=Bf.f,Yy=lh,Xy=Yp,Qy=Hy,zy=My,Zy=!1,$y=nf("meta"),em=0,tm=function(e){qy(e,$y,{value:{objectID:"O"+em++,weakData:{}}})},nm=Dy.exports={enable:function(){nm.enable=function(){},Zy=!0;var e=Yy.f,t=Vy([].splice),n={};n[$y]=1,e(n).length&&(Yy.f=function(n){for(var r=e(n),i=0,o=r.length;i<o;i++)if(r[i]===$y){t(r,i,1);break}return r},Gy({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:Xy.f}))},fastKey:function(e,t){if(!Wy(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!Ky(e,$y)){if(!Qy(e))return"F";if(!t)return"E";tm(e)}return e[$y].objectID},getWeakData:function(e,t){if(!Ky(e,$y)){if(!Qy(e))return!0;if(!t)return!1;tm(e)}return e[$y].weakData},onFreeze:function(e){return zy&&Zy&&Qy(e)&&!Ky(e,$y)&&tm(e),e}};Jy[$y]=!0;var rm=fp,im=My,om=Iu,am=rl,cm=Dy.exports.onFreeze,sm=Object.freeze;rm({target:"Object",stat:!0,forced:om((function(){sm(1)})),sham:!im},{freeze:function(e){return sm&&am(e)?sm(cm(e)):e}});var um={},lm=um,fm=pf("iterator"),dm=Array.prototype,hm=bp,pm=Ml,vm=um,gm=pf("iterator"),_m=function(e){if(null!=e)return pm(e,gm)||pm(e,"@@iterator")||vm[hm(e)]},ym=Au,mm=Pl,bm=Wf,Em=Al,Im=_m,Tm=TypeError,Om=Au,Sm=Wf,Nm=Ml,Am=Av,Rm=Au,wm=Wf,Cm=Al,Pm=function(e){return void 0!==e&&(lm.Array===e||dm[fm]===e)},km=Ih,Mm=sl,Dm=function(e,t){var n=arguments.length<2?Im(e):t;if(mm(n))return bm(ym(n,e));throw Tm(Em(e)+" is not iterable")},Lm=_m,jm=function(e,t,n){var r,i;Sm(e);try{if(!(r=Nm(e,"return"))){if("throw"===t)throw n;return n}r=Om(r,e)}catch(e){i=!0,r=e}if("throw"===t)throw n;if(i)throw r;return Sm(r),n},xm=TypeError,Um=function(e,t){this.stopped=e,this.result=t},Fm=Um.prototype,Bm=function(e,t,n){var r,i,o,a,c,s,u,l=n&&n.that,f=!(!n||!n.AS_ENTRIES),d=!(!n||!n.IS_RECORD),h=!(!n||!n.IS_ITERATOR),p=!(!n||!n.INTERRUPTED),v=Am(t,l),g=function(e){return r&&jm(r,"normal",e),new Um(!0,e)},_=function(e){return f?(wm(e),p?v(e[0],e[1],g):v(e[0],e[1])):p?v(e,g):v(e)};if(d)r=e.iterator;else if(h)r=e;else{if(!(i=Lm(e)))throw xm(Cm(e)+" is not iterable");if(Pm(i)){for(o=0,a=km(e);a>o;o++)if((c=_(e[o]))&&Mm(Fm,c))return c;return new Um(!1)}r=Dm(e,i)}for(s=d?e.next:r.next;!(u=Rm(s,r)).done;){try{c=_(u.value)}catch(e){jm(r,"throw",e)}if("object"==typeof c&&c&&Mm(Fm,c))return c}return new Um(!1)},Hm=Bm,Gm=Zp;fp({target:"Object",stat:!0},{fromEntries:function(e){var t={};return Hm(e,(function(e,n){Gm(t,e,n)}),{AS_ENTRIES:!0}),t}});var Vm=fp,Jm=Iu,Wm=el,Km=Eu.f,qm=Tu,Ym=Jm((function(){Km(1)}));Vm({target:"Object",stat:!0,forced:!qm||Ym,sham:!qm},{getOwnPropertyDescriptor:function(e,t){return Km(Wm(e),t)}});var Xm=Vh,Qm=el,zm=Eu,Zm=Zp;fp({target:"Object",stat:!0,sham:!Tu},{getOwnPropertyDescriptors:function(e){for(var t,n,r=Qm(e),i=zm.f,o=Xm(r),a={},c=0;o.length>c;)void 0!==(n=i(r,t=o[c++]))&&Zm(a,t,n);return a}});var $m=fp,eb=Iu,tb=Yp.f;$m({target:"Object",stat:!0,forced:eb((function(){return!Object.getOwnPropertyNames(1)}))},{getOwnPropertyNames:tb});var nb=!Iu((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})),rb=zl,ib=tl,ob=Yl,ab=nb,cb=Ad("IE_PROTO"),sb=Object,ub=sb.prototype,lb=ab?sb.getPrototypeOf:function(e){var t=ob(e);if(rb(t,cb))return t[cb];var n=t.constructor;return ib(n)&&t instanceof n?n.prototype:t instanceof sb?ub:null},fb=Yl,db=lb,hb=nb;fp({target:"Object",stat:!0,forced:Iu((function(){db(1)})),sham:!hb},{getPrototypeOf:function(e){return db(fb(e))}}),fp({target:"Object",stat:!0},{hasOwn:zl}),fp({target:"Object",stat:!0},{is:Object.is||function(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}});var pb=Hy;fp({target:"Object",stat:!0,forced:Object.isExtensible!==pb},{isExtensible:pb});var vb=fp,gb=Iu,_b=rl,yb=Ju,mb=Ly,bb=Object.isFrozen;vb({target:"Object",stat:!0,forced:gb((function(){bb(1)}))||mb},{isFrozen:function(e){return!_b(e)||(!(!mb||"ArrayBuffer"!=yb(e))||!!bb&&bb(e))}});var Eb=fp,Ib=Iu,Tb=rl,Ob=Ju,Sb=Ly,Nb=Object.isSealed;Eb({target:"Object",stat:!0,forced:Ib((function(){Nb(1)}))||Sb},{isSealed:function(e){return!Tb(e)||(!(!Sb||"ArrayBuffer"!=Ob(e))||!!Nb&&Nb(e))}});var Ab=Yl,Rb=Ap;fp({target:"Object",stat:!0,forced:Iu((function(){Rb(1)}))},{keys:function(e){return Rb(Ab(e))}});var wb=fp,Cb=rl,Pb=Dy.exports.onFreeze,kb=My,Mb=Iu,Db=Object.preventExtensions;wb({target:"Object",stat:!0,forced:Mb((function(){Db(1)})),sham:!kb},{preventExtensions:function(e){return Db&&Cb(e)?Db(Pb(e)):e}});var Lb=fp,jb=rl,xb=Dy.exports.onFreeze,Ub=My,Fb=Iu,Bb=Object.seal;Lb({target:"Object",stat:!0,forced:Fb((function(){Bb(1)})),sham:!Ub},{seal:function(e){return Bb&&jb(e)?Bb(xb(e)):e}});var Hb=tl,Gb=String,Vb=TypeError,Jb=Bu,Wb=Wf,Kb=function(e){if("object"==typeof e||Hb(e))return e;throw Vb("Can't set "+Gb(e)+" as a prototype")},qb=Object.setPrototypeOf||("__proto__"in{}?function(){var e,t=!1,n={};try{(e=Jb(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set))(n,[]),t=n instanceof Array}catch(e){}return function(n,r){return Wb(n),Kb(r),t?e(n,r):n.__proto__=r,n}}():void 0);fp({target:"Object",stat:!0},{setPrototypeOf:qb});var Yb=Py.values;fp({target:"Object",stat:!0},{values:function(e){return Yb(e)}});var Xb=bp,Qb=hp?{}.toString:function(){return"[object "+Xb(this)+"]"};hp||uh(Object.prototype,"toString",Qb,{unsafe:!0});var zb=ul.match(/AppleWebKit\/(\d+)\./),Zb=!!zb&&+zb[1],$b=bu,eE=Zb,tE=!Iu((function(){if(!(eE&&eE<535)){var e=Math.random();__defineSetter__.call(null,e,(function(){})),delete $b[e]}})),nE=Pl,rE=Yl,iE=Bf;Tu&&fp({target:"Object",proto:!0,forced:tE},{__defineGetter__:function(e,t){iE.f(rE(this),e,{get:nE(t),enumerable:!0,configurable:!0})}});var oE=Pl,aE=Yl,cE=Bf;Tu&&fp({target:"Object",proto:!0,forced:tE},{__defineSetter__:function(e,t){cE.f(aE(this),e,{set:oE(t),enumerable:!0,configurable:!0})}});var sE=fp,uE=Tu,lE=tE,fE=Yl,dE=Of,hE=lb,pE=Eu.f;uE&&sE({target:"Object",proto:!0,forced:lE},{__lookupGetter__:function(e){var t,n=fE(this),r=dE(e);do{if(t=pE(n,r))return t.get}while(n=hE(n))}});var vE=fp,gE=Tu,_E=tE,yE=Yl,mE=Of,bE=lb,EE=Eu.f;gE&&vE({target:"Object",proto:!0,forced:_E},{__lookupSetter__:function(e){var t,n=yE(this),r=mE(e);do{if(t=EE(n,r))return t.set}while(n=bE(n))}}),Tv(bu.JSON,"JSON",!0),Tv(Math,"Math",!0);var IE=bu,TE=Tv;fp({global:!0},{Reflect:{}}),TE(IE.Reflect,"Reflect",!0),fv.Object;var OE=Error,SE=Bu("".replace),NE=String(OE("zxcasd").stack),AE=/\n\s*at [^:]*:[^\n]*/,RE=AE.test(NE),wE=rl,CE=od,PE=Tp,kE=Du,ME=!Iu((function(){var e=Error("a");return!("stack"in e)||(Object.defineProperty(e,"stack",kE(1,7)),7!==e.stack)})),DE=fp,LE=sl,jE=lb,xE=qb,UE=Yh,FE=qp,BE=od,HE=Du,GE=function(e,t){if(RE&&"string"==typeof e&&!OE.prepareStackTrace)for(;t--;)e=SE(e,AE,"");return e},VE=function(e,t){wE(t)&&"cause"in t&&CE(e,"cause",t.cause)},JE=Bm,WE=function(e,t){return void 0===e?arguments.length<2?"":t:PE(e)},KE=ME,qE=pf("toStringTag"),YE=Error,XE=[].push,QE=function(e,t){var n,r=arguments.length>2?arguments[2]:void 0,i=LE(zE,this);xE?n=xE(new YE,i?jE(this):zE):(n=i?this:FE(zE),BE(n,qE,"Error")),void 0!==t&&BE(n,"message",WE(t)),KE&&BE(n,"stack",GE(n.stack,1)),VE(n,r);var o=[];return JE(e,XE,{that:o}),BE(n,"errors",o),n};xE?xE(QE,YE):UE(QE,YE,{name:!0});var zE=QE.prototype=FE(YE.prototype,{constructor:HE(1,QE),message:HE(1,""),name:HE(1,"AggregateError")});DE({global:!0,constructor:!0,arity:2},{AggregateError:QE});var ZE=pf,$E=qp,eI=Bf.f,tI=ZE("unscopables"),nI=Array.prototype;null==nI[tI]&&eI(nI,tI,{configurable:!0,value:$E(null)});var rI,iI,oI,aI=Iu,cI=tl,sI=lb,uI=uh,lI=pf("iterator"),fI=!1;[].keys&&("next"in(oI=[].keys())?(iI=sI(sI(oI)))!==Object.prototype&&(rI=iI):fI=!0);var dI=null==rI||aI((function(){var e={};return rI[lI].call(e)!==e}));dI&&(rI={}),cI(rI[lI])||uI(rI,lI,(function(){return this}));var hI={IteratorPrototype:rI,BUGGY_SAFARI_ITERATORS:fI},pI=hI.IteratorPrototype,vI=qp,gI=Du,_I=Tv,yI=um,mI=function(){return this},bI=fp,EI=Au,II=tl,TI=function(e,t,n,r){var i=t+" Iterator";return e.prototype=vI(pI,{next:gI(+!r,n)}),_I(e,i,!1),yI[i]=mI,e},OI=lb,SI=qb,NI=Tv,AI=od,RI=uh,wI=um,CI=dd.PROPER,PI=dd.CONFIGURABLE,kI=hI.IteratorPrototype,MI=hI.BUGGY_SAFARI_ITERATORS,DI=pf("iterator"),LI="keys",jI="values",xI="entries",UI=function(){return this},FI=function(e,t,n,r,i,o,a){TI(n,t,r);var c,s,u,l=function(e){if(e===i&&v)return v;if(!MI&&e in h)return h[e];switch(e){case LI:case jI:case xI:return function(){return new n(this,e)}}return function(){return new n(this)}},f=t+" Iterator",d=!1,h=e.prototype,p=h[DI]||h["@@iterator"]||i&&h[i],v=!MI&&p||l(i),g="Array"==t&&h.entries||p;if(g&&(c=OI(g.call(new e)))!==Object.prototype&&c.next&&(OI(c)!==kI&&(SI?SI(c,kI):II(c[DI])||RI(c,DI,UI)),NI(c,f,!0)),CI&&i==jI&&p&&p.name!==jI&&(PI?AI(h,"name",jI):(d=!0,v=function(){return EI(p,this)})),i)if(s={values:l(jI),keys:o?v:l(LI),entries:l(xI)},a)for(u in s)(MI||d||!(u in h))&&RI(h,u,s[u]);else bI({target:t,proto:!0,forced:MI||d},s);return h[DI]!==v&&RI(h,DI,v,{name:i}),wI[t]=v,s},BI=el,HI=function(e){nI[tI][e]=!0},GI=um,VI=Kd,JI=Bf.f,WI=FI,KI=Tu,qI="Array Iterator",YI=VI.set,XI=VI.getterFor(qI);WI(Array,"Array",(function(e,t){YI(this,{type:qI,target:BI(e),index:0,kind:t})}),(function(){var e=XI(this),t=e.target,n=e.kind,r=e.index++;return!t||r>=t.length?(e.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:r,done:!1}:"values"==n?{value:t[r],done:!1}:{value:[r,t[r]],done:!1}}),"values");var QI=GI.Arguments=GI.Array;if(HI("keys"),HI("values"),HI("entries"),KI&&"values"!==QI.name)try{JI(QI,"name",{value:"values"})}catch(nA){}var zI,ZI,$I,eT,tT="process"==Ju(bu.process),nT=cl,rT=Bf,iT=Tu,oT=pf("species"),aT=sl,cT=TypeError,sT=Vv,uT=Al,lT=TypeError,fT=Wf,dT=function(e){if(sT(e))return e;throw lT(uT(e)+" is not a constructor")},hT=pf("species"),pT=function(e,t){var n,r=fT(e).constructor;return void 0===r||null==(n=fT(r)[hT])?t:dT(n)},vT=TypeError,gT=/(?:ipad|iphone|ipod).*applewebkit/i.test(ul),_T=bu,yT=w_,mT=Av,bT=tl,ET=zl,IT=Iu,TT=Lp,OT=C_,ST=Rf,NT=function(e,t){if(e<t)throw vT("Not enough arguments");return e},AT=gT,RT=tT,wT=_T.setImmediate,CT=_T.clearImmediate,PT=_T.process,kT=_T.Dispatch,MT=_T.Function,DT=_T.MessageChannel,LT=_T.String,jT=0,xT={},UT="onreadystatechange";try{zI=_T.location}catch(nA){}var FT=function(e){if(ET(xT,e)){var t=xT[e];delete xT[e],t()}},BT=function(e){return function(){FT(e)}},HT=function(e){FT(e.data)},GT=function(e){_T.postMessage(LT(e),zI.protocol+"//"+zI.host)};wT&&CT||(wT=function(e){NT(arguments.length,1);var t=bT(e)?e:MT(e),n=OT(arguments,1);return xT[++jT]=function(){yT(t,void 0,n)},ZI(jT),jT},CT=function(e){delete xT[e]},RT?ZI=function(e){PT.nextTick(BT(e))}:kT&&kT.now?ZI=function(e){kT.now(BT(e))}:DT&&!AT?(eT=($I=new DT).port2,$I.port1.onmessage=HT,ZI=mT(eT.postMessage,eT)):_T.addEventListener&&bT(_T.postMessage)&&!_T.importScripts&&zI&&"file:"!==zI.protocol&&!IT(GT)?(ZI=GT,_T.addEventListener("message",HT,!1)):ZI=UT in ST("script")?function(e){TT.appendChild(ST("script")).onreadystatechange=function(){TT.removeChild(this),FT(e)}}:function(e){setTimeout(BT(e),0)});var VT,JT,WT,KT,qT,YT,XT,QT,zT={set:wT,clear:CT},ZT=bu,$T=/ipad|iphone|ipod/i.test(ul)&&void 0!==ZT.Pebble,eO=/web0s(?!.*chrome)/i.test(ul),tO=bu,nO=Av,rO=Eu.f,iO=zT.set,oO=gT,aO=$T,cO=eO,sO=tT,uO=tO.MutationObserver||tO.WebKitMutationObserver,lO=tO.document,fO=tO.process,dO=tO.Promise,hO=rO(tO,"queueMicrotask"),pO=hO&&hO.value;pO||(VT=function(){var e,t;for(sO&&(e=fO.domain)&&e.exit();JT;){t=JT.fn,JT=JT.next;try{t()}catch(e){throw JT?KT():WT=void 0,e}}WT=void 0,e&&e.enter()},oO||sO||cO||!uO||!lO?!aO&&dO&&dO.resolve?((XT=dO.resolve(void 0)).constructor=dO,QT=nO(XT.then,XT),KT=function(){QT(VT)}):sO?KT=function(){fO.nextTick(VT)}:(iO=nO(iO,tO),KT=function(){iO(VT)}):(qT=!0,YT=lO.createTextNode(""),new uO(VT).observe(YT,{characterData:!0}),KT=function(){YT.data=qT=!qT}));var vO=pO||function(e){var t={fn:e,next:void 0};WT&&(WT.next=t),JT||(JT=t,KT()),WT=t},gO=bu,_O=function(e){try{return{error:!1,value:e()}}catch(e){return{error:!0,value:e}}},yO=function(){this.head=null,this.tail=null};yO.prototype={add:function(e){var t={item:e,next:null};this.head?this.tail.next=t:this.head=t,this.tail=t},get:function(){var e=this.head;if(e)return this.head=e.next,this.tail===e&&(this.tail=null),e.item}};var mO=yO,bO=bu.Promise,EO="object"==typeof window&&"object"!=typeof Deno,IO=bu,TO=bO,OO=tl,SO=rp,NO=md,AO=pf,RO=EO,wO=gl;TO&&TO.prototype;var CO=AO("species"),PO=!1,kO=OO(IO.PromiseRejectionEvent),MO=SO("Promise",(function(){var e=NO(TO),t=e!==String(TO);if(!t&&66===wO)return!0;if(wO>=51&&/native code/.test(e))return!1;var n=new TO((function(e){e(1)})),r=function(e){e((function(){}),(function(){}))};return(n.constructor={})[CO]=r,!(PO=n.then((function(){}))instanceof r)||!t&&RO&&!kO})),DO={CONSTRUCTOR:MO,REJECTION_EVENT:kO,SUBCLASSING:PO},LO={},jO=Pl,xO=function(e){var t,n;this.promise=new e((function(e,r){if(void 0!==t||void 0!==n)throw TypeError("Bad Promise constructor");t=e,n=r})),this.resolve=jO(t),this.reject=jO(n)};LO.f=function(e){return new xO(e)};var UO,FO,BO,HO=fp,GO=tT,VO=bu,JO=Au,WO=uh,KO=qb,qO=Tv,YO=function(e){var t=nT(e),n=rT.f;iT&&t&&!t[oT]&&n(t,oT,{configurable:!0,get:function(){return this}})},XO=Pl,QO=tl,zO=rl,ZO=function(e,t){if(aT(t,e))return e;throw cT("Incorrect invocation")},$O=pT,eS=zT.set,tS=vO,nS=function(e,t){var n=gO.console;n&&n.error&&(1==arguments.length?n.error(e):n.error(e,t))},rS=_O,iS=mO,oS=Kd,aS=bO,cS=LO,sS="Promise",uS=DO.CONSTRUCTOR,lS=DO.REJECTION_EVENT,fS=DO.SUBCLASSING,dS=oS.getterFor(sS),hS=oS.set,pS=aS&&aS.prototype,vS=aS,gS=pS,_S=VO.TypeError,yS=VO.document,mS=VO.process,bS=cS.f,ES=bS,IS=!!(yS&&yS.createEvent&&VO.dispatchEvent),TS="unhandledrejection",OS=function(e){var t;return!(!zO(e)||!QO(t=e.then))&&t},SS=function(e,t){var n,r,i,o=t.value,a=1==t.state,c=a?e.ok:e.fail,s=e.resolve,u=e.reject,l=e.domain;try{c?(a||(2===t.rejection&&CS(t),t.rejection=1),!0===c?n=o:(l&&l.enter(),n=c(o),l&&(l.exit(),i=!0)),n===e.promise?u(_S("Promise-chain cycle")):(r=OS(n))?JO(r,n,s,u):s(n)):u(o)}catch(e){l&&!i&&l.exit(),u(e)}},NS=function(e,t){e.notified||(e.notified=!0,tS((function(){for(var n,r=e.reactions;n=r.get();)SS(n,e);e.notified=!1,t&&!e.rejection&&RS(e)})))},AS=function(e,t,n){var r,i;IS?((r=yS.createEvent("Event")).promise=t,r.reason=n,r.initEvent(e,!1,!0),VO.dispatchEvent(r)):r={promise:t,reason:n},!lS&&(i=VO["on"+e])?i(r):e===TS&&nS("Unhandled promise rejection",n)},RS=function(e){JO(eS,VO,(function(){var t,n=e.facade,r=e.value;if(wS(e)&&(t=rS((function(){GO?mS.emit("unhandledRejection",r,n):AS(TS,n,r)})),e.rejection=GO||wS(e)?2:1,t.error))throw t.value}))},wS=function(e){return 1!==e.rejection&&!e.parent},CS=function(e){JO(eS,VO,(function(){var t=e.facade;GO?mS.emit("rejectionHandled",t):AS("rejectionhandled",t,e.value)}))},PS=function(e,t,n){return function(r){e(t,r,n)}},kS=function(e,t,n){e.done||(e.done=!0,n&&(e=n),e.value=t,e.state=2,NS(e,!0))},MS=function(e,t,n){if(!e.done){e.done=!0,n&&(e=n);try{if(e.facade===t)throw _S("Promise can't be resolved itself");var r=OS(t);r?tS((function(){var n={done:!1};try{JO(r,t,PS(MS,n,e),PS(kS,n,e))}catch(t){kS(n,t,e)}})):(e.value=t,e.state=1,NS(e,!1))}catch(t){kS({done:!1},t,e)}}};if(uS&&(vS=function(e){ZO(this,gS),XO(e),JO(UO,this);var t=dS(this);try{e(PS(MS,t),PS(kS,t))}catch(e){kS(t,e)}},gS=vS.prototype,(UO=function(e){hS(this,{type:sS,done:!1,notified:!1,parent:!1,reactions:new iS,rejection:!1,state:0,value:void 0})}).prototype=WO(gS,"then",(function(e,t){var n=dS(this),r=bS($O(this,vS));return n.parent=!0,r.ok=!QO(e)||e,r.fail=QO(t)&&t,r.domain=GO?mS.domain:void 0,0==n.state?n.reactions.add(r):tS((function(){SS(r,n)})),r.promise})),FO=function(){var e=new UO,t=dS(e);this.promise=e,this.resolve=PS(MS,t),this.reject=PS(kS,t)},cS.f=bS=function(e){return e===vS||undefined===e?new FO(e):ES(e)},QO(aS)&&pS!==Object.prototype)){BO=pS.then,fS||WO(pS,"then",(function(e,t){var n=this;return new vS((function(e,t){JO(BO,n,e,t)})).then(e,t)}),{unsafe:!0});try{delete pS.constructor}catch(nA){}KO&&KO(pS,gS)}HO({global:!0,constructor:!0,wrap:!0,forced:uS},{Promise:vS}),qO(vS,sS,!1),YO(sS);var DS=pf("iterator"),LS=!1;try{var jS=0,xS={next:function(){return{done:!!jS++}},return:function(){LS=!0}};xS[DS]=function(){return this},Array.from(xS,(function(){throw 2}))}catch(nA){}var US=bO,FS=function(e,t){if(!t&&!LS)return!1;var n=!1;try{var r={};r[DS]=function(){return{next:function(){return{done:n=!0}}}},e(r)}catch(e){}return n},BS=DO.CONSTRUCTOR||!FS((function(e){US.all(e).then(void 0,(function(){}))})),HS=Au,GS=Pl,VS=LO,JS=_O,WS=Bm;fp({target:"Promise",stat:!0,forced:BS},{all:function(e){var t=this,n=VS.f(t),r=n.resolve,i=n.reject,o=JS((function(){var n=GS(t.resolve),o=[],a=0,c=1;WS(e,(function(e){var s=a++,u=!1;c++,HS(n,t,e).then((function(e){u||(u=!0,o[s]=e,--c||r(o))}),i)})),--c||r(o)}));return o.error&&i(o.value),n.promise}});var KS=fp,qS=DO.CONSTRUCTOR,YS=bO,XS=cl,QS=tl,zS=uh,ZS=YS&&YS.prototype;if(KS({target:"Promise",proto:!0,forced:qS,real:!0},{catch:function(e){return this.then(void 0,e)}}),QS(YS)){var $S=XS("Promise").prototype.catch;ZS.catch!==$S&&zS(ZS,"catch",$S,{unsafe:!0})}var eN=Au,tN=Pl,nN=LO,rN=_O,iN=Bm;fp({target:"Promise",stat:!0,forced:BS},{race:function(e){var t=this,n=nN.f(t),r=n.reject,i=rN((function(){var i=tN(t.resolve);iN(e,(function(e){eN(i,t,e).then(n.resolve,r)}))}));return i.error&&r(i.value),n.promise}});var oN=Au,aN=LO;fp({target:"Promise",stat:!0,forced:DO.CONSTRUCTOR},{reject:function(e){var t=aN.f(this);return oN(t.reject,void 0,e),t.promise}});var cN=Wf,sN=rl,uN=LO,lN=function(e,t){if(cN(e),sN(t)&&t.constructor===e)return t;var n=uN.f(e);return(0,n.resolve)(t),n.promise},fN=fp,dN=DO.CONSTRUCTOR,hN=lN;cl("Promise"),fN({target:"Promise",stat:!0,forced:dN},{resolve:function(e){return hN(this,e)}});var pN=Au,vN=Pl,gN=LO,_N=_O,yN=Bm;fp({target:"Promise",stat:!0},{allSettled:function(e){var t=this,n=gN.f(t),r=n.resolve,i=n.reject,o=_N((function(){var n=vN(t.resolve),i=[],o=0,a=1;yN(e,(function(e){var c=o++,s=!1;a++,pN(n,t,e).then((function(e){s||(s=!0,i[c]={status:"fulfilled",value:e},--a||r(i))}),(function(e){s||(s=!0,i[c]={status:"rejected",reason:e},--a||r(i))}))})),--a||r(i)}));return o.error&&i(o.value),n.promise}});var mN=Au,bN=Pl,EN=cl,IN=LO,TN=_O,ON=Bm,SN="No one promise resolved";fp({target:"Promise",stat:!0},{any:function(e){var t=this,n=EN("AggregateError"),r=IN.f(t),i=r.resolve,o=r.reject,a=TN((function(){var r=bN(t.resolve),a=[],c=0,s=1,u=!1;ON(e,(function(e){var l=c++,f=!1;s++,mN(r,t,e).then((function(e){f||u||(u=!0,i(e))}),(function(e){f||u||(f=!0,a[l]=e,--s||o(new n(a,SN)))}))})),--s||o(new n(a,SN))}));return a.error&&o(a.value),r.promise}});var NN=fp,AN=bO,RN=Iu,wN=cl,CN=tl,PN=pT,kN=lN,MN=uh,DN=AN&&AN.prototype;if(NN({target:"Promise",proto:!0,real:!0,forced:!!AN&&RN((function(){DN.finally.call({then:function(){}},(function(){}))}))},{finally:function(e){var t=PN(this,wN("Promise")),n=CN(e);return this.then(n?function(n){return kN(t,e()).then((function(){return n}))}:e,n?function(n){return kN(t,e()).then((function(){throw n}))}:e)}}),CN(AN)){var LN=wN("Promise").prototype.finally;DN.finally!==LN&&MN(DN,"finally",LN,{unsafe:!0})}var jN=Bu,xN=ph,UN=Tp,FN=zu,BN=jN("".charAt),HN=jN("".charCodeAt),GN=jN("".slice),VN=function(e){return function(t,n){var r,i,o=UN(FN(t)),a=xN(n),c=o.length;return a<0||a>=c?e?"":void 0:(r=HN(o,a))<55296||r>56319||a+1===c||(i=HN(o,a+1))<56320||i>57343?e?BN(o,a):r:e?GN(o,a,a+2):i-56320+(r-55296<<10)+65536}},JN={codeAt:VN(!1),charAt:VN(!0)}.charAt,WN=Tp,KN=Kd,qN=FI,YN="String Iterator",XN=KN.set,QN=KN.getterFor(YN);qN(String,"String",(function(e){XN(this,{type:YN,string:WN(e),index:0})}),(function(){var e,t=QN(this),n=t.string,r=t.index;return r>=n.length?{value:void 0,done:!0}:(e=JN(n,r),t.index+=e.length,{value:e,done:!1})})),fv.Promise,function(){if("undefined"!=typeof window)try{var e=new window.CustomEvent("test",{cancelable:!0});if(e.preventDefault(),!0!==e.defaultPrevented)throw new Error("Could not prevent default")}catch(e){var t=function(e,t){var n,r;return(t=t||{}).bubbles=!!t.bubbles,t.cancelable=!!t.cancelable,(n=document.createEvent("CustomEvent")).initCustomEvent(e,t.bubbles,t.cancelable,t.detail),r=n.preventDefault,n.preventDefault=function(){r.call(this);try{Object.defineProperty(this,"defaultPrevented",{get:function(){return!0}})}catch(e){this.defaultPrevented=!0}},n};t.prototype=window.Event.prototype,window.CustomEvent=t}}(),function(){if("object"==typeof window)if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)"isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}});else{var e=window.document;n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(),this._checkForIntersections()}},n.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._observationTargets.length||(this._unmonitorIntersections(),this._unregisterInstance())},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},n.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},n.prototype._parseRootMargin=function(e){var t=(e||"0px").split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return t[1]=t[1]||t[0],t[2]=t[2]||t[0],t[3]=t[3]||t[1],t},n.prototype._monitorIntersections=function(){this._monitoringIntersections||(this._monitoringIntersections=!0,this.POLL_INTERVAL?this._monitoringInterval=setInterval(this._checkForIntersections,this.POLL_INTERVAL):(r(window,"resize",this._checkForIntersections,!0),r(e,"scroll",this._checkForIntersections,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in window&&(this._domObserver=new MutationObserver(this._checkForIntersections),this._domObserver.observe(e,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))))},n.prototype._unmonitorIntersections=function(){this._monitoringIntersections&&(this._monitoringIntersections=!1,clearInterval(this._monitoringInterval),this._monitoringInterval=null,i(window,"resize",this._checkForIntersections,!0),i(e,"scroll",this._checkForIntersections,!0),this._domObserver&&(this._domObserver.disconnect(),this._domObserver=null))},n.prototype._checkForIntersections=function(){var e=this._rootIsInDom(),n=e?this._getRootRect():{top:0,bottom:0,left:0,right:0,width:0,height:0};this._observationTargets.forEach((function(r){var i=r.element,a=o(i),c=this._rootContainsTarget(i),s=r.entry,u=e&&c&&this._computeTargetAndRootIntersection(i,n),l=r.entry=new t({time:window.performance&&performance.now&&performance.now(),target:i,boundingClientRect:a,rootBounds:n,intersectionRect:u});s?e&&c?this._hasCrossedThreshold(s,l)&&this._queuedEntries.push(l):s&&s.isIntersecting&&this._queuedEntries.push(l):this._queuedEntries.push(l)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)},n.prototype._computeTargetAndRootIntersection=function(t,n){if("none"!=window.getComputedStyle(t).display){for(var r,i,a,s,u,l,f,d,h=o(t),p=c(t),v=!1;!v;){var g=null,_=1==p.nodeType?window.getComputedStyle(p):{};if("none"==_.display)return;if(p==this.root||p==e?(v=!0,g=n):p!=e.body&&p!=e.documentElement&&"visible"!=_.overflow&&(g=o(p)),g&&(r=g,i=h,a=void 0,s=void 0,u=void 0,l=void 0,f=void 0,d=void 0,a=Math.max(r.top,i.top),s=Math.min(r.bottom,i.bottom),u=Math.max(r.left,i.left),l=Math.min(r.right,i.right),d=s-a,!(h=(f=l-u)>=0&&d>=0&&{top:a,bottom:s,left:u,right:l,width:f,height:d})))break;p=c(p)}return h}},n.prototype._getRootRect=function(){var t;if(this.root)t=o(this.root);else{var n=e.documentElement,r=e.body;t={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(t)},n.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},n.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},n.prototype._rootIsInDom=function(){return!this.root||a(e,this.root)},n.prototype._rootContainsTarget=function(t){return a(this.root||e,t)},n.prototype._registerInstance=function(){},n.prototype._unregisterInstance=function(){},window.IntersectionObserver=n,window.IntersectionObserverEntry=t}function t(e){this.time=e.time,this.target=e.target,this.rootBounds=e.rootBounds,this.boundingClientRect=e.boundingClientRect,this.intersectionRect=e.intersectionRect||{top:0,bottom:0,left:0,right:0,width:0,height:0},this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function n(e,t){var n,r,i,o=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(o.root&&1!=o.root.nodeType)throw new Error("root must be an Element");this._checkForIntersections=(n=this._checkForIntersections.bind(this),r=this.THROTTLE_TIMEOUT,i=null,function(){i||(i=setTimeout((function(){n(),i=null}),r))}),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(o.rootMargin),this.thresholds=this._initThresholds(o.threshold),this.root=o.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" ")}function r(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function i(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function o(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):{top:0,bottom:0,left:0,right:0,width:0,height:0}}function a(e,t){for(var n=t;n;){if(n==e)return!0;n=c(n)}return!1}function c(e){var t=e.parentNode;return t&&11==t.nodeType&&t.host?t.host:t&&t.assignedSlot?t.assignedSlot.parentNode:t}}();var zN;!function(e){e.LOAD_START="load_start",e.LOAD_END="load_end",e.BEFORE_INIT="before_init",e.INIT_START="init_start",e.INIT_END="init_end",e.JSB_INIT_START="jsb_init_start",e.JSB_INIT_END="jsb_init_end",e.BEFORE_AD_INFO_INIT_START="before_ad_info_init_start",e.AD_INFO_INIT_START="ad_info_init_start",e.AD_INFO_INIT_END="ad_info_init_end",e.IDENTIFY_INIT_START="identify_init_start",e.IDENTIFY_INIT_END="identify_init_end",e.PLUGIN_INIT_START="_init_start",e.PLUGIN_INIT_END="_init_end",e.PIXEL_SEND="pixel_send",e.PIXEL_SEND_PCM="pixel_send_PCM",e.JSB_SEND="jsb_send",e.HTTP_SEND="http_send",e.HANDLE_CACHE="handle_cache",e.INIT_ERROR="init_error",e.PIXEL_EMPTY="pixel_empty",e.JSB_ERROR="jsb_error",e.API_ERROR="api_error",e.PLUGIN_ERROR="plugin_error",e.CUSTOM_INFO="custom_info",e.CUSTOM_ERROR="custom_error",e.CUSTOM_TIMER="custom_timer"}(zN||(zN={}));var ZN=function(){return"object"===("undefined"==typeof window?"undefined":t(window))&&window["object"===("undefined"==typeof window?"undefined":t(window))&&window.TiktokAnalyticsObject||"ttq"]},$N=["input[type='button']","input[type='image']","input[type='submit']","button","[class*=btn]","[class*=Btn]","[class*=button]","[class*=Button]","[role*=button]","[id*=btn]","[id*=Btn]","[id*=button]","[id*=Button]","a"],eA=["[href^='tel:']","[href^='callto:']","[href^='sms:']","[href^='skype:']","[href^='whatsapp:']","[href^='mailto:']"],tA=function(e){var t=$N.some((function(t){return e.matches(t)})),n=eA.some((function(t){return e.matches(t)}));return t&&!n};function nA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];try{var i=ZN(),o=i.getPlugin&&i.getPlugin("Monitor")||null;o&&o.error&&"function"==typeof o.error&&o.error.call(o,e,t,n,r)}catch(e){}}(function(e,n){for(var r,i=[document.body],o=0;o<=e&&i.length;){var a=i.pop();if(a===n)return!0;if(!("script"===(null==a?void 0:a.tagName.toLowerCase())&&(null===(r=a.src)||void 0===r?void 0:r.indexOf("analytics.tiktok.com"))>-1)&&(o++,"object"===t(a)&&a.children))for(var c=a.children.length-1;c>=0;c--)i.push(a.children[c])}return!1}).bind(null,10);var rA,iA=["","webkit","Moz","MS","ms","o"],oA=window,aA=void 0!==function(e,t){var n,r,i=t[0].toUpperCase()+t.slice(1),o=0;for(;o<iA.length;){if((r=(n=iA[o])?n+i:t)in e)return e[r];o++}return}(oA,"PointerEvent"),cA="ontouchstart"in oA;!function(e){e[e.Default=0]="Default",e[e.Start=1]="Start",e[e.Move=2]="Move",e[e.End=4]="End",e[e.Cancle=8]="Cancle"}(rA||(rA={}));var sA={pointer:{events:["pointerdown","pointermove","pointerup","pointercancel"],handler:function(e){var t=e.type,n={status:rA.Default,timestamp:Date.now(),position:[e.clientX,e.clientY]};return t!==this.events[0]||0!==e.button&&"touch"!==e.pointerType?t===this.events[1]?n.status=rA.Move:t===this.events[2]?n.status=rA.End:t===this.events[3]&&(n.status=rA.Cancle):n.status=rA.Start,n}},touch:{events:["touchstart","touchmove","touchend","touchcancel"],handler:function(e){var t=e.type;if(1!==e.changedTouches.length)return null;var n={status:rA.Default,timestamp:Date.now(),position:[e.changedTouches[0].clientX,e.changedTouches[0].clientY]};return t===this.events[0]?n.status=rA.Start:t===this.events[1]?n.status=rA.Move:t===this.events[2]?n.status=rA.End:t===this.events[3]&&(n.status=rA.Cancle),n.status===rA.Default?null:n}},mouse:{events:["mousedown","mousemove","mouseup"],handler:function(e){var t=e.type,n={status:rA.Default,timestamp:Date.now(),position:[e.clientX,e.clientY]};return t===this.events[0]&&0===e.button?n.status=rA.Start:t===this.events[1]?n.status=rA.Move:t===this.events[2]&&(n.status=rA.End),n.status&rA.Move&&1!==e.which&&(n.status=rA.End),n.status===rA.Default?null:n}}};"MSPointerEvent"in oA&&!("PointerEvent"in oA)&&(sA.pointer.events=["MSPointerDown","MSPointerMove","MSPointerUp","MSPointerCancel"]);var uA=250,lA=9;function fA(e,t,n){for(var r=0;r<e.length;r++)document.addEventListener(e[r],t,n)}var dA=function(e,t){var n=function(t){var n,r,i;return function(o){var a=sA[t].handler(o);if(null!==a){if(a.status&rA.Start)return n=rA.Start,r=a.timestamp,void(i=a.position);if(a.status&rA.End)n&rA.Start&&a.timestamp-r<uA&&Math.sqrt(Math.pow(a.position[0]-i[0],2)+Math.pow(a.position[1]-i[1],2))<lA&&e(o);else if(a.status&rA.Move&&n&rA.Start)return}n=0,r=0,i=[0,0]}};aA?fA(sA.pointer.events,n("pointer"),t):cA?fA(sA.touch.events,n("touch"),t):fA(sA.mouse.events,n("mouse"),t)},hA=function(e,t,n){var r=document.querySelectorAll(t);for(var i in r)if(n){if(Object.is(i,e))return!0}else if(!Object.is(i,e))return!0;return!1},pA=function(e){var t=document.createRange(),n=document.body?document.body:document.head;t.selectNode(n);var r=t.createContextualFragment(e);n.appendChild(r)},vA=function(e,t,n){var r=function(){var e={},t=new Promise((function(t,n){e.resolve=t,e.reject=n}));return e.promise=t,e}(),i=new IntersectionObserver((function(e){e.forEach((function(e){if(e.isIntersecting){var i={result:e.isIntersecting,curValue:t,condition:n};r.resolve(i)}}))}),{root:null,rootMargin:"0px",threshold:.5});return i.observe(e),r.promise};function gA(e,t){var n=history[e],r="".concat(e,"-").concat(t);return function(){n.apply(history,arguments);var e=new CustomEvent(r,{detail:arguments});window.dispatchEvent(e)}}var _A=function(e){history.pushState=gA("pushState",e),history.replaceState=gA("replaceState",e)},yA=function(e,t){var n=e.getComputedStyle(t);return"none"!==n.display&&("visible"===n.visibility&&!(Number(n.opacity)<.1))},mA=function(e){var t=e;if("string"==typeof e)try{t=decodeURI(e)}catch(n){t=e}return t},bA=function(e,t){try{var n=new URL(e);return n.searchParams.delete(t),n.toString()}catch(t){return e}},EA='"pixelMethod":"standard"',IA=function(e,t){try{var n=e.split(EA),r="";return t&&(r+=',"is_button":"true"'),r?n[0]+EA+r+n[1]:e}catch(t){return e}},TA=function(e){try{var t=e.split(EA);return t[0]+EA+',"is_standard_mode":"1"'+t[1]}catch(t){return e}};String.prototype.startsWith||Object.defineProperty(String.prototype,"startsWith",{value:function(e,t){return t=!t||t<0?0:+t,this.substring(t,t+e.length)===e}}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){return(void 0===t||t>this.length)&&(t=this.length),this.substring(t-e.length,t)===e});var OA=function(e,t,n,r){switch(t){case"EQUALS":if("ELEMENT"==r)try{for(var i=document.querySelectorAll(n),o=Array.prototype.slice.call(i),a=0;a<o.length;a++)if(o[a].contains(e))return!0}catch(e){return!1}if(n.split(";").filter((function(t){return e==t})).length>0)return!0;break;case"LT":if(e<n)return!0;break;case"GT":if(e>n)return!0;break;case"LT_OR_EQUAL":if(e<=n)return!0;break;case"GT_OR_EQUAL":if(e>=n)return!0;break;case"CONTAINS":if(n.split(";").filter((function(t){return e.indexOf(t)>-1})).length>0)return!0;break;case"DOES_NOT_EQUAL":if(0==n.split(";").filter((function(t){return e==t})).length)return!0;break;case"DOES_NOT_CONTAIN":if(-1==e.indexOf(n))return!0;break;case"STARTS_WITH":if(e.startsWith(n))return!0;break;case"ENDS_WITH":if(e.endsWith(n))return!0;break;case"MATCHES_REGEX":if(n.test(e))return!0;break;case"MATCHES_REGEX_IGNORE_CASE":if(!n.test(e))return!0;break;case"MATCHES_CSS_SELECTOR":if(hA(e,n,!0))return!0;break;case"DOSE_NOT_MATCHES_CSS_SELECTOR":if(hA(e,n,!1))return!0}return!1},SA={click:["ELEMENT","ELEMENT_CLASSES","ELEMENT_ID","ELEMENT_TARGET","ElEMENT_URL","ELEMENT_TEXT"],pageview:["PAGE_URL","PAGE_HOSTNAME","PAGE_PATH","REFERRER"],visibility:["ELEMENT","ELEMENT_CLASSES","ELEMENT_ID"],history_change:["NEW_HISTORY_FRAGMENT","OLD_HISTORY_FRAGMENT","NEW_HISTORY_STATE","OLD_HISTORY_STATE","HISTORY_SOURCE"]},NA="ttclid",AA=function(){function e(){i(this,e)}return a(e,[{key:"dispatcher",value:function(e,t,n,r){var i,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,a=t.variable_type,c=N("visibility"==e?["pageview","history_change","visibility"]:["pageview","history_change","click"]);try{for(c.s();!(i=c.n()).done;){var s=i.value;if(SA[s].indexOf(a)>-1){var u=void 0;switch(s){case"click":u=this.click(a,n);break;case"pageview":u=this.pageview(a);break;case"history_change":u=this.history_change(a,n,r);break;case"visibility":u=this.visibility(a,t.value,o)}return u}}}catch(e){c.e(e)}finally{c.f()}}},{key:"click",value:function(e,t){var n;if(!t)return!1;switch(e){case"ELEMENT":case"ELEMENT_TARGET":n=t.target;break;case"ELEMENT_CLASSES":n=t.target.className;break;case"ELEMENT_ID":n=t.target.id;break;case"ElEMENT_URL":n=t.target.href||t.target.src||"";break;case"ELEMENT_TEXT":n=t.target.text||"";break;default:n=null}return n}},{key:"pageview",value:function(e){var t;switch(e){case"PAGE_URL":t=bA(location.href,NA);break;case"PAGE_HOSTNAME":t=location.hostname;break;case"PAGE_PATH":t=location.pathname;break;case"REFERRER":t=bA(document.referrer,NA);break;default:t=null}return t}},{key:"history_change",value:function(e,t,n){var r;switch(e){case"NEW_HISTORY_FRAGMENT":r=location.hash;break;case"OLD_HISTORY_FRAGMENT":r=n.old_hash;break;case"NEW_HISTORY_STATE":r=history.state;break;case"OLD_HISTORY_STATE":r=n.old_state;break;case"HISTORY_SOURCE":r=t.type;break;default:r=null}return r}},{key:"visibility",value:function(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:document;switch(e){case"ELEMENT_ID":n="#"+t;break;case"ELEMENT_CLASS":n="."+t;break;case"ELEMENT":n=t;break;default:n=null}return r.querySelector(n)}}]),e}(),RA={exports:{}};!function(e){function t(e){if(e)return function(e){for(var n in t.prototype)e[n]=t.prototype[n];return e}(e)}e.exports=t,t.prototype.on=t.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},t.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},t.prototype.off=t.prototype.removeListener=t.prototype.removeAllListeners=t.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<r.length;i++)if((n=r[i])===t||n.fn===t){r.splice(i,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},t.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var i=(n=n.slice(0)).length;r<i;++r)n[r].apply(this,t)}return this},t.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},t.prototype.hasListeners=function(e){return!!this.listeners(e).length}}(RA);var wA,CA,PA=RA.exports,kA=function(e){s(n,e);var t=v(n);function n(e,r){var o;return i(this,n),(o=t.call(this)).BaseConf=e,o.SDK_ID=r,o.BaseConf.forEach((function(e){e.id=e.code_id,e.conditions=e.conditions||[],e.conditions.forEach((function(e){e.result=!1}))})),o}return a(n,[{key:"sendDebugEvent",value:function(e,t,n){var r=this.BaseConf,i=[];r.forEach((function(e){e.code_id==t&&(e.conditions=n),i.push(e)}));var o={sdk_id:this.SDK_ID,event_name:e,data:i};this.emit("jelly_message",o)}}]),n}(PA);!function(e){e[e.WRONG=-1]="WRONG",e[e.KEEP=0]="KEEP",e[e.ARRAY=-2]="ARRAY",e[e.TURNINTOINTEGER=1]="TURNINTOINTEGER",e[e.TURNINTODECIMAL=2]="TURNINTODECIMAL"}(wA||(wA={})),function(e){e[e.CLICK_EVENT=0]="CLICK_EVENT",e[e.DESTINATION_URL=1]="DESTINATION_URL"}(CA||(CA={}));var MA,DA=function(e){var t,n={};try{if(e.currency&&(n.currency=e.currency),e.value){document.querySelectorAll(e.value).length;var r=document.querySelector(e.value);(null==r?void 0:r.innerHTML)&&(n.ori_value=r.innerHTML,n.value=LA(null===(t=r.innerHTML)||void 0===t?void 0:t.trim(),e.value_index,e.value_parsing_method))}if(e.contents&&void 0!==e.contents[0].content_type&&(1===e.contents[0].content_type&&(n.content_type="product"),2===e.contents[0].content_type&&(n.content_type="product_group")),e.contents&&e.contents[0].content_name){var i=document.querySelector(e.contents[0].content_name);n.content_name=null==i?void 0:i.innerHTML}if(e.contents&&e.contents[0].content_id)if(e.contents[0].content_from===CA.CLICK_EVENT){var o=document.querySelector(e.contents[0].content_id);n.content_id=null==o?void 0:o.innerHTML}else if(e.contents[0].content_from===CA.DESTINATION_URL){var a=new URL(location.href);if(e.contents[0].content_id.startsWith("path")){var c=a.pathname.split("/"),s=e.contents[0].content_id.split("|")[1];n.content_id=c[s]}if(e.contents[0].content_id.startsWith("search")){var u=new URLSearchParams(a.search),l=e.contents[0].content_id.split("|")[1];n.content_id=u.get(l)}}return n}catch(e){return n}},LA=function(e,t,n){var r="";if(-1===t||void 0===t){var i=xA(e)[0];r=void 0!==i?jA(i,n):""}else{var o=xA(e)[t];r=void 0!==o?jA(o,n):""}return r},jA=function(e,t){var n="";if(t!==wA.KEEP&&t!==wA.WRONG||(n=e),t===wA.TURNINTOINTEGER&&(n=e.replace(/[,\.]/g,"")),t===wA.TURNINTODECIMAL){var r=e.split(/[,\.]/g),i="";r.forEach((function(e,t){t<r.length-1?i+=e:i+="."+e})),n=i}return n},xA=function(e){for(var t,n=/[\d|\.|,]+/gm,r=[];null!==(t=n.exec(e));)t.index===n.lastIndex&&n.lastIndex++,t.forEach((function(e){r.push(e)}));return r},UA=function(e,t,n){try{var r=e.split(EA),i="";return Object.keys(t).forEach((function(e){null===t[e]&&void 0===t[e]||(i+=',"'+e+'":"'+("value"!==e?encodeURIComponent(t[e]):t[e])+'"')})),n&&(i+=',"dynamic_parameter_config":'+JSON.stringify(n)),i?r[0]+EA+i+r[1]:e}catch(t){return e}},FA=new AA,BA=function(e){s(n,e);var t=v(n);function n(e,r,o,a){var c;return i(this,n),(c=t.call(this)).on("jelly_message",a),c.SendEvent=new kA(r,o),c.SendEvent.on("jelly_message",(function(e){c.emit("jelly_message",e)})),c.CLICK=e.CLICK||[],c.PAGEVIEW=e.PAGEVIEW||[],c.VISIBILITY=e.VISIBILITY||[],c.HISTORY_CHANGE=e.HISTORY_CHANGE||[],c.SDK_ID=o||"",c.click(),c.pageview(),c.visibility(),c}return a(n,[{key:"dispatcher",value:function(e,t,n,r){if(t){var i,o=N(t);try{for(o.s();!(i=o.n()).done;){var a,c=i.value,s=[],u=N(c.conditions);try{for(u.s();!(a=u.n()).done;){var l=a.value,f=FA.dispatcher(e,l,n,r),d=OA(f,l.operator,l.value,l.variable_type);if("history_change"!==e&&"pageview"!==e||(d=d||OA(mA(f),l.operator,l.value,l.variable_type)),d){var h=!1;try{h="ELEMENT"===(null==l?void 0:l.variable_type)&&tA(f)}catch(e){h=!1,nA(zN.CUSTOM_ERROR,e,{custom_name:"button_check_jelly_error",custom_enum:"auto_click",extJSON:{element:f}})}var p=IA(c.code,h);if(p=TA(p),l.dynamic_parameter)try{var v=DA(l.dynamic_parameter),g=UA(p,v,l.dynamic_parameter);pA(g)}catch(e){pA(p)}else pA(p);this.SendEvent.sendDebugEvent("jelly."+e,c.code_id,s)}s.push(Object.assign(l,{cur_value:f,result:d}))}}catch(e){u.e(e)}finally{u.f()}}}catch(e){o.e(e)}finally{o.f()}}}},{key:"click",value:function(){var e=this;dA((function(t){e.dispatcher("click",e.CLICK,t)}),!0)}},{key:"pageview",value:function(){this.dispatcher("pageview",this.PAGEVIEW),this.history_change(this.PAGEVIEW)}},{key:"history_change",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.HISTORY_CHANGE,t=this,n=history.state,r=location.hash,i=location.href;_A(this.SDK_ID),window.addEventListener("pushState-".concat(this.SDK_ID),(function(r){if(location.href!=i){var o={old_state:n};t.dispatcher("history_change",e,r,o),n=history.state,i=location.href}})),window.addEventListener("replaceState-".concat(this.SDK_ID),(function(){if(location.href!=i){var r={old_state:n};t.dispatcher("history_change",e,r),n=history.state,i=location.href}})),window.addEventListener("popstate",(function(n){if(location.href!=i){var o={old_hash:r};t.dispatcher("history_change",e,n,o),r=location.hash,i=location.href}}))}},{key:"visibility",value:function(){if(!(this.VISIBILITY.length<1)){var e=this.VISIBILITY,t=this.SendEvent.sendDebugEvent.bind(this.SendEvent);new MutationObserver(HA(e,t,window)).observe(document,{childList:!0,characterData:!0,subtree:!0,attributes:!0});for(var n=document.getElementsByTagName("iframe"),r=0;r<n.length;r++)try{var i=n[r].contentWindow;if(null!=i)new MutationObserver(HA(e,t,i)).observe(i.document,{childList:!0,characterData:!0,subtree:!0,attributes:!0})}catch(e){}}}}]),n}(PA),HA=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r={};return function(){e.forEach((function(e){var i=!0,o=[],a=[];e.conditions.forEach((function(e){if(SA.visibility.indexOf(e.variable_type)>-1){var t=FA.dispatcher("visibility",e,null,null,n.document),c="_"+e.value;t&&yA(n,t)&&!r[c]&&(o.push(vA(t,"",e)),r[c]=!0)}else{var s=FA.dispatcher("visibility",e),u=OA(s,e.operator,e.value,e.variable_type);u||(i=!1),a.push(Object.assign(e,{cur_value:s,result:u}))}})),o.length>0&&Promise.all(o).then((function(n){var r,o=!0,c=N(n);try{for(c.s();!(r=c.n()).done;){var s=r.value;a.push(Object.assign(s.condition,{cur_value:s.curValue,result:s.result})),s.result&&i||(o=!1)}}catch(e){c.e(e)}finally{c.f()}o&&pA(e.code),t("jelly.visibility",e.code_id,a)}),(function(){}))}))}},GA=function(e){s(n,e);var t=v(n);function n(e,r){var o;if(i(this,n),(o=t.call(this)).BaseConf=r,o.SDK_ID=e,window.jelly_tool_events&&window.jelly_tool_events.length&&window.jelly_tool_events.forEach((function(e){o.on(e.name,e.callback)})),o.emit("jelly_event",{SDK_ID:e,BaseConf:r||[]}),o.BaseConf instanceof Array){if(self._jelly_sdks=self._jelly_sdks||{},self._jelly_sdks[e])return p(o);self._jelly_sdks[e]=!0;var a=o.dispatch();o.trigger=new BA(a,r,e,(function(e){o.emit("jelly_message",e)}))}return o}return a(n,[{key:"dispatch",value:function(){var e={CLICK:[],PAGEVIEW:[],VISIBILITY:[],HISTORY_CHANGE:[]};return this.BaseConf.forEach((function(t){var n={code_id:t.code_id,code:t.code,conditions:t.conditions||[]};void 0!==t.trigger_type&&e[t.trigger_type]&&e[t.trigger_type].push(n)})),e}}]),n}(PA);window.TiktokJelly=GA;var VA=Gr();function JA(){var e=window[VA];return e&&e._i||{}}function WA(e){var t=window[VA],n=wi().pixelCode,r=void 0===n?"":n;["instance","instances","loadPixel","enableCookie","disableCookie","holdConsent","revokeConsent","grantConsent"].forEach((function(n){Object.defineProperty(t,n,{get:function(){return function(){try{var t=Array.prototype.slice.call(arguments);return setTimeout((function(){Ni(Ir.CUSTOM_INFO,{pixelCode:r,custom_name:n,custom_enum:JSON.stringify(t)})})),e[n].apply(e,t)}catch(e){return Ai(Ir.API_ERROR,e,{extJSON:{api:n}}),{}}}},set:function(){}})})),["page","track","identify"].forEach((function(n){Object.defineProperty(t,n,{get:function(){return function(){try{var t=1===arguments.length&&void 0===arguments[0]?[]:Array.prototype.slice.call(arguments);return setTimeout((function(){var e=JSON.stringify(t.map((function(e){return tr(e)?Object.keys(e):e})));Ni(Ir.CUSTOM_INFO,{pixelCode:r,custom_name:n,custom_enum:e})})),Eo(n,t),e[n].apply(e,t)}catch(e){return Ai(Ir.API_ERROR,e,{extJSON:{api:n}}),{}}}},set:function(){}})})),window[VA]._mounted=!0,function(e){Hr=e}(window[VA])}function KA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:yu;null==e||e.resetCookieExpires();var n=window[VA],r=JA();if(Object.entries(r).forEach((function(n){var r=y(n,2),i=r[0],o=r[1];if(!o._init&&("Tealium"===Yr()||Wr()||o.info)&&(e.getReporter(i)?Ri(Tr.DUPLICATE_PIXEL_CODE):t({id:i,type:Oo.PIXEL_CODE,info:o.info,options:o.options,rules:o.rules,plugins:o.plugins}),o._init=!0,o.length>0))for(;o.length;){var a=o.shift();if(a){var c=m(a),s=c[0],u=c.slice(1),l=e.instance(i);if(l)switch(s){case"identify":e.identify(u[0],u[1]);break;case"page":e.page(u[0]);break;case"track":l.track(u[0],u[1],u[2]||{});break;default:l[s]?l[s](u[0],u[1],u[2]||{}):Ai(Ir.CUSTOM_ERROR,new Error("action not find: ".concat(l[s])))}}}})),n.length>0)for(;n.length;){var i=n.shift();if(i){var o=m(i),a=o[0],c=o.slice(1);switch("Tealium"!==Yr()&&Eo(a,c),a){case"identify":e.identify(c[0],c[1]);break;case"page":e.page(c[0]);break;case"track":e.track(c[0],c[1],c[2]||{});break;case"enableCookie":e.enableCookie();break;case"disableCookie":e.disableCookie();break;case"holdConsent":e.holdConsent();break;case"revokeConsent":e.revokeConsent();break;case"grantConsent":e.grantConsent()}}}}try{!function(){var e=wi().pixelCode,t=Vr(),n=pi(),r=vi();if(Do(),Object._ttq_keys||(Object._ttq_keys=function(e){try{return Array.isArray(e)?Object.keys(e).filter((function(e){return-1===["each","eachSlice","all","any","collect","detect","findAll","grep","include","inGroupsOf","inject","invoke","max","min","partition","pluck","reject","sortBy","toArray","zip","size","inspect","select","member","_reverse","_each","clear","first","last","compact","flatten","without","uniq","intersect","clone","toJSON","remove","swap","putAll"].indexOf(e)})):Object.keys(e)}catch(t){return Object.keys(e)}}),function(e,t,n){pu(e,n),vu(e),gu(e),_u(),As(t,e)}(t,nu,n),Xr("Monitor")){var i=function(){try{return nu.get(Er.MONITOR_PLUGIN)||null}catch(e){return null}}();null==i||i.info(Ir.BEFORE_INIT,{pixelCode:e,extJSON:{stack:fi(e)}})}if(t){t._mounted?(Ni(Ir.HANDLE_CACHE,{pixelCode:e}),KA(t)):(MA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:or.OFFSITE;return iu.toConstantValue(e),ou.toConstantValue(t),nu.get(Er.TTQ)}(n,r),window[VA]=function(e,t){return["getReporter","usePlugin","getPlugin","resetCookieExpires"].forEach((function(n){e[n]=function(){for(var e=arguments.length,r=new Array(e),i=0;i<e;i++)r[i]=arguments[i];return t[n].apply(t,r)}})),e.context=t.context,e.reporters=t.reporters,e}(t,MA),KA(MA),WA(MA));var o=nu.get(yo.IsOnsitePage);o.value=r===or.ONSITE||t.instances().every((function(e){return e.isOnsite()})),nu.rebind(yo.IsOnsitePage).toConstantValue(o),function(e){e.instances().forEach((function(e){e.rules&&new GA(e.getReporterId(),e.rules)}))}(t)}}()}catch(zs){Ai(Ir.INIT_ERROR,zs)}}();
